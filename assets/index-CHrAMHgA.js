(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function tO(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var by={exports:{}},xu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xw;function nO(){if(Xw)return xu;Xw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:t,type:i,key:c,ref:r!==void 0?r:null,props:o}}return xu.Fragment=e,xu.jsx=n,xu.jsxs=n,xu}var Zw;function iO(){return Zw||(Zw=1,by.exports=nO()),by.exports}var _=iO(),wy={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jw;function sO(){if(Jw)return Re;Jw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function E(B){return B===null||typeof B!="object"?null:(B=v&&B[v]||B["@@iterator"],typeof B=="function"?B:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,D={};function N(B,re,ue){this.props=B,this.context=re,this.refs=D,this.updater=ue||x}N.prototype.isReactComponent={},N.prototype.setState=function(B,re){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,re,"setState")},N.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function P(){}P.prototype=N.prototype;function U(B,re,ue){this.props=B,this.context=re,this.refs=D,this.updater=ue||x}var L=U.prototype=new P;L.constructor=U,A(L,N.prototype),L.isPureReactComponent=!0;var Q=Array.isArray,Y={H:null,A:null,T:null,S:null,V:null},ne=Object.prototype.hasOwnProperty;function k(B,re,ue,le,ye,ke){return ue=ke.ref,{$$typeof:t,type:B,key:re,ref:ue!==void 0?ue:null,props:ke}}function C(B,re){return k(B.type,re,void 0,void 0,void 0,B.props)}function I(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function j(B){var re={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ue){return re[ue]})}var F=/\/+/g;function z(B,re){return typeof B=="object"&&B!==null&&B.key!=null?j(""+B.key):re.toString(36)}function V(){}function pt(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(V,V):(B.status="pending",B.then(function(re){B.status==="pending"&&(B.status="fulfilled",B.value=re)},function(re){B.status==="pending"&&(B.status="rejected",B.reason=re)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function Ie(B,re,ue,le,ye){var ke=typeof B;(ke==="undefined"||ke==="boolean")&&(B=null);var Se=!1;if(B===null)Se=!0;else switch(ke){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(B.$$typeof){case t:case e:Se=!0;break;case g:return Se=B._init,Ie(Se(B._payload),re,ue,le,ye)}}if(Se)return ye=ye(B),Se=le===""?"."+z(B,0):le,Q(ye)?(ue="",Se!=null&&(ue=Se.replace(F,"$&/")+"/"),Ie(ye,re,ue,"",function(ji){return ji})):ye!=null&&(I(ye)&&(ye=C(ye,ue+(ye.key==null||B&&B.key===ye.key?"":(""+ye.key).replace(F,"$&/")+"/")+Se)),re.push(ye)),1;Se=0;var Wt=le===""?".":le+":";if(Q(B))for(var lt=0;lt<B.length;lt++)le=B[lt],ke=Wt+z(le,lt),Se+=Ie(le,re,ue,ke,ye);else if(lt=E(B),typeof lt=="function")for(B=lt.call(B),lt=0;!(le=B.next()).done;)le=le.value,ke=Wt+z(le,lt++),Se+=Ie(le,re,ue,ke,ye);else if(ke==="object"){if(typeof B.then=="function")return Ie(pt(B),re,ue,le,ye);throw re=String(B),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Se}function J(B,re,ue){if(B==null)return B;var le=[],ye=0;return Ie(B,le,"","",function(ke){return re.call(ue,ke,ye++)}),le}function ae(B){if(B._status===-1){var re=B._result;re=re(),re.then(function(ue){(B._status===0||B._status===-1)&&(B._status=1,B._result=ue)},function(ue){(B._status===0||B._status===-1)&&(B._status=2,B._result=ue)}),B._status===-1&&(B._status=0,B._result=re)}if(B._status===1)return B._result.default;throw B._result}var fe=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function je(){}return Re.Children={map:J,forEach:function(B,re,ue){J(B,function(){re.apply(this,arguments)},ue)},count:function(B){var re=0;return J(B,function(){re++}),re},toArray:function(B){return J(B,function(re){return re})||[]},only:function(B){if(!I(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Re.Component=N,Re.Fragment=n,Re.Profiler=r,Re.PureComponent=U,Re.StrictMode=i,Re.Suspense=f,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,Re.__COMPILER_RUNTIME={__proto__:null,c:function(B){return Y.H.useMemoCache(B)}},Re.cache=function(B){return function(){return B.apply(null,arguments)}},Re.cloneElement=function(B,re,ue){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var le=A({},B.props),ye=B.key,ke=void 0;if(re!=null)for(Se in re.ref!==void 0&&(ke=void 0),re.key!==void 0&&(ye=""+re.key),re)!ne.call(re,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&re.ref===void 0||(le[Se]=re[Se]);var Se=arguments.length-2;if(Se===1)le.children=ue;else if(1<Se){for(var Wt=Array(Se),lt=0;lt<Se;lt++)Wt[lt]=arguments[lt+2];le.children=Wt}return k(B.type,ye,void 0,void 0,ke,le)},Re.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:o,_context:B},B},Re.createElement=function(B,re,ue){var le,ye={},ke=null;if(re!=null)for(le in re.key!==void 0&&(ke=""+re.key),re)ne.call(re,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ye[le]=re[le]);var Se=arguments.length-2;if(Se===1)ye.children=ue;else if(1<Se){for(var Wt=Array(Se),lt=0;lt<Se;lt++)Wt[lt]=arguments[lt+2];ye.children=Wt}if(B&&B.defaultProps)for(le in Se=B.defaultProps,Se)ye[le]===void 0&&(ye[le]=Se[le]);return k(B,ke,void 0,void 0,null,ye)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(B){return{$$typeof:h,render:B}},Re.isValidElement=I,Re.lazy=function(B){return{$$typeof:g,_payload:{_status:-1,_result:B},_init:ae}},Re.memo=function(B,re){return{$$typeof:m,type:B,compare:re===void 0?null:re}},Re.startTransition=function(B){var re=Y.T,ue={};Y.T=ue;try{var le=B(),ye=Y.S;ye!==null&&ye(ue,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(je,fe)}catch(ke){fe(ke)}finally{Y.T=re}},Re.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},Re.use=function(B){return Y.H.use(B)},Re.useActionState=function(B,re,ue){return Y.H.useActionState(B,re,ue)},Re.useCallback=function(B,re){return Y.H.useCallback(B,re)},Re.useContext=function(B){return Y.H.useContext(B)},Re.useDebugValue=function(){},Re.useDeferredValue=function(B,re){return Y.H.useDeferredValue(B,re)},Re.useEffect=function(B,re,ue){var le=Y.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(B,re)},Re.useId=function(){return Y.H.useId()},Re.useImperativeHandle=function(B,re,ue){return Y.H.useImperativeHandle(B,re,ue)},Re.useInsertionEffect=function(B,re){return Y.H.useInsertionEffect(B,re)},Re.useLayoutEffect=function(B,re){return Y.H.useLayoutEffect(B,re)},Re.useMemo=function(B,re){return Y.H.useMemo(B,re)},Re.useOptimistic=function(B,re){return Y.H.useOptimistic(B,re)},Re.useReducer=function(B,re,ue){return Y.H.useReducer(B,re,ue)},Re.useRef=function(B){return Y.H.useRef(B)},Re.useState=function(B){return Y.H.useState(B)},Re.useSyncExternalStore=function(B,re,ue){return Y.H.useSyncExternalStore(B,re,ue)},Re.useTransition=function(){return Y.H.useTransition()},Re.version="19.1.0",Re}var e1;function Sv(){return e1||(e1=1,wy.exports=sO()),wy.exports}var O=Sv();const ut=tO(O);var xy={exports:{}},Su={},Sy={exports:{}},Ay={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t1;function rO(){return t1||(t1=1,function(t){function e(J,ae){var fe=J.length;J.push(ae);e:for(;0<fe;){var je=fe-1>>>1,B=J[je];if(0<r(B,ae))J[je]=ae,J[fe]=B,fe=je;else break e}}function n(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var ae=J[0],fe=J.pop();if(fe!==ae){J[0]=fe;e:for(var je=0,B=J.length,re=B>>>1;je<re;){var ue=2*(je+1)-1,le=J[ue],ye=ue+1,ke=J[ye];if(0>r(le,fe))ye<B&&0>r(ke,le)?(J[je]=ke,J[ye]=fe,je=ye):(J[je]=le,J[ue]=fe,je=ue);else if(ye<B&&0>r(ke,fe))J[je]=ke,J[ye]=fe,je=ye;else break e}}return ae}function r(J,ae){var fe=J.sortIndex-ae.sortIndex;return fe!==0?fe:J.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var f=[],m=[],g=1,v=null,E=3,x=!1,A=!1,D=!1,N=!1,P=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function Q(J){for(var ae=n(m);ae!==null;){if(ae.callback===null)i(m);else if(ae.startTime<=J)i(m),ae.sortIndex=ae.expirationTime,e(f,ae);else break;ae=n(m)}}function Y(J){if(D=!1,Q(J),!A)if(n(f)!==null)A=!0,ne||(ne=!0,z());else{var ae=n(m);ae!==null&&Ie(Y,ae.startTime-J)}}var ne=!1,k=-1,C=5,I=-1;function j(){return N?!0:!(t.unstable_now()-I<C)}function F(){if(N=!1,ne){var J=t.unstable_now();I=J;var ae=!0;try{e:{A=!1,D&&(D=!1,U(k),k=-1),x=!0;var fe=E;try{t:{for(Q(J),v=n(f);v!==null&&!(v.expirationTime>J&&j());){var je=v.callback;if(typeof je=="function"){v.callback=null,E=v.priorityLevel;var B=je(v.expirationTime<=J);if(J=t.unstable_now(),typeof B=="function"){v.callback=B,Q(J),ae=!0;break t}v===n(f)&&i(f),Q(J)}else i(f);v=n(f)}if(v!==null)ae=!0;else{var re=n(m);re!==null&&Ie(Y,re.startTime-J),ae=!1}}break e}finally{v=null,E=fe,x=!1}ae=void 0}}finally{ae?z():ne=!1}}}var z;if(typeof L=="function")z=function(){L(F)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,pt=V.port2;V.port1.onmessage=F,z=function(){pt.postMessage(null)}}else z=function(){P(F,0)};function Ie(J,ae){k=P(function(){J(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(J){switch(E){case 1:case 2:case 3:var ae=3;break;default:ae=E}var fe=E;E=ae;try{return J()}finally{E=fe}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(J,ae){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var fe=E;E=J;try{return ae()}finally{E=fe}},t.unstable_scheduleCallback=function(J,ae,fe){var je=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?je+fe:je):fe=je,J){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=fe+B,J={id:g++,callback:ae,priorityLevel:J,startTime:fe,expirationTime:B,sortIndex:-1},fe>je?(J.sortIndex=fe,e(m,J),n(f)===null&&J===n(m)&&(D?(U(k),k=-1):D=!0,Ie(Y,fe-je))):(J.sortIndex=B,e(f,J),A||x||(A=!0,ne||(ne=!0,z()))),J},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(J){var ae=E;return function(){var fe=E;E=ae;try{return J.apply(this,arguments)}finally{E=fe}}}}(Ay)),Ay}var n1;function aO(){return n1||(n1=1,Sy.exports=rO()),Sy.exports}var Cy={exports:{}},yn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i1;function oO(){if(i1)return yn;i1=1;var t=Sv();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,m,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:f,containerInfo:m,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,yn.createPortal=function(f,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(f,m,null,g)},yn.flushSync=function(f){var m=c.T,g=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=m,i.p=g,i.d.f()}},yn.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(f,m))},yn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},yn.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var g=m.as,v=h(g,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?i.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:x}):g==="script"&&i.d.X(f,{crossOrigin:v,integrity:E,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},yn.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=h(m.as,m.crossOrigin);i.d.M(f,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(f)},yn.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,v=h(g,m.crossOrigin);i.d.L(f,g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},yn.preloadModule=function(f,m){if(typeof f=="string")if(m){var g=h(m.as,m.crossOrigin);i.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(f)},yn.requestFormReset=function(f){i.d.r(f)},yn.unstable_batchedUpdates=function(f,m){return f(m)},yn.useFormState=function(f,m,g){return c.H.useFormState(f,m,g)},yn.useFormStatus=function(){return c.H.useHostTransitionStatus()},yn.version="19.1.0",yn}var s1;function lO(){if(s1)return Cy.exports;s1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Cy.exports=oO(),Cy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r1;function cO(){if(r1)return Su;r1=1;var t=aO(),e=Sv(),n=lO();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(i(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,u=a;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){l=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return h(p),s;if(y===u)return h(p),a;y=y.sibling}throw Error(i(188))}if(l.return!==u.return)l=p,u=y;else{for(var w=!1,S=p.child;S;){if(S===l){w=!0,l=p,u=y;break}if(S===u){w=!0,u=p,l=y;break}S=S.sibling}if(!w){for(S=y.child;S;){if(S===l){w=!0,l=y,u=p;break}if(S===u){w=!0,u=y,l=p;break}S=S.sibling}if(!w)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function m(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=m(s),a!==null)return a;s=s.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),L=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=F&&s[F]||s["@@iterator"],typeof s=="function"?s:null)}var V=Symbol.for("react.client.reference");function pt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===V?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case N:return"Profiler";case D:return"StrictMode";case Y:return"Suspense";case ne:return"SuspenseList";case I:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case x:return"Portal";case L:return(s.displayName||"Context")+".Provider";case U:return(s._context.displayName||"Context")+".Consumer";case Q:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case k:return a=s.displayName||null,a!==null?a:pt(s.type)||"Memo";case C:a=s._payload,s=s._init;try{return pt(s(a))}catch{}}return null}var Ie=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},je=[],B=-1;function re(s){return{current:s}}function ue(s){0>B||(s.current=je[B],je[B]=null,B--)}function le(s,a){B++,je[B]=s.current,s.current=a}var ye=re(null),ke=re(null),Se=re(null),Wt=re(null);function lt(s,a){switch(le(Se,a),le(ke,s),le(ye,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?Sw(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=Sw(a),s=Aw(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ue(ye),le(ye,s)}function ji(){ue(ye),ue(ke),ue(Se)}function fr(s){s.memoizedState!==null&&le(Wt,s);var a=ye.current,l=Aw(a,s.type);a!==l&&(le(ke,s),le(ye,l))}function vs(s){ke.current===s&&(ue(ye),ue(ke)),Wt.current===s&&(ue(Wt),vu._currentValue=fe)}var ha=Object.prototype.hasOwnProperty,fa=t.unstable_scheduleCallback,da=t.unstable_cancelCallback,gc=t.unstable_shouldYield,Wh=t.unstable_requestPaint,ti=t.unstable_now,bp=t.unstable_getCurrentPriorityLevel,yc=t.unstable_ImmediatePriority,Ao=t.unstable_UserBlockingPriority,ma=t.unstable_NormalPriority,wp=t.unstable_LowPriority,Co=t.unstable_IdlePriority,_c=t.log,Yh=t.unstable_setDisableYieldValue,wt=null,Ze=null;function zn(s){if(typeof _c=="function"&&Yh(s),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(wt,s)}catch{}}var pn=Math.clz32?Math.clz32:pa,Qh=Math.log,xp=Math.LN2;function pa(s){return s>>>=0,s===0?32:31-(Qh(s)/xp|0)|0}var ga=256,ya=4194304;function bi(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ro(s,a,l){var u=s.pendingLanes;if(u===0)return 0;var p=0,y=s.suspendedLanes,w=s.pingedLanes;s=s.warmLanes;var S=u&134217727;return S!==0?(u=S&~y,u!==0?p=bi(u):(w&=S,w!==0?p=bi(w):l||(l=S&~s,l!==0&&(p=bi(l))))):(S=u&~y,S!==0?p=bi(S):w!==0?p=bi(w):l||(l=u&~s,l!==0&&(p=bi(l)))),p===0?0:a!==0&&a!==p&&(a&y)===0&&(y=p&-p,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:p}function _a(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function vc(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tc(){var s=ga;return ga<<=1,(ga&4194048)===0&&(ga=256),s}function Ec(){var s=ya;return ya<<=1,(ya&62914560)===0&&(ya=4194304),s}function Ts(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function Es(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function bc(s,a,l,u,p,y){var w=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var S=s.entanglements,M=s.expirationTimes,K=s.hiddenUpdates;for(l=w&~l;0<l;){var ee=31-pn(l),ie=1<<ee;S[ee]=0,M[ee]=-1;var W=K[ee];if(W!==null)for(K[ee]=null,ee=0;ee<W.length;ee++){var X=W[ee];X!==null&&(X.lane&=-536870913)}l&=~ie}u!==0&&Ui(s,u,0),y!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=y&~(w&~a))}function Ui(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var u=31-pn(a);s.entangledLanes|=a,s.entanglements[u]=s.entanglements[u]|1073741824|l&4194090}function wc(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var u=31-pn(l),p=1<<u;p&a|s[u]&a&&(s[u]|=a),l&=~p}}function dr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Io(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function mr(){var s=ae.p;return s!==0?s:(s=window.event,s===void 0?32:Gw(s.type))}function Xh(s,a){var l=ae.p;try{return ae.p=s,a()}finally{ae.p=l}}var gt=Math.random().toString(36).slice(2),Bt="__reactFiber$"+gt,Ot="__reactProps$"+gt,ni="__reactContainer$"+gt,xc="__reactEvents$"+gt,Sp="__reactListeners$"+gt,pr="__reactHandles$"+gt,Zh="__reactResources$"+gt,va="__reactMarker$"+gt;function gr(s){delete s[Bt],delete s[Ot],delete s[xc],delete s[Sp],delete s[pr]}function bs(s){var a=s[Bt];if(a)return a;for(var l=s.parentNode;l;){if(a=l[ni]||l[Bt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=Nw(s);s!==null;){if(l=s[Bt])return l;s=Nw(s)}return a}s=l,l=s.parentNode}return null}function Bi(s){if(s=s[Bt]||s[ni]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function Fi(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function Rn(s){var a=s[Zh];return a||(a=s[Zh]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function It(s){s[va]=!0}var Sc=new Set,No={};function wi(s,a){ws(s,a),ws(s+"Capture",a)}function ws(s,a){for(No[s]=a,s=0;s<a.length;s++)Sc.add(a[s])}var Jh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ef={},Ta={};function tf(s){return ha.call(Ta,s)?!0:ha.call(ef,s)?!1:Jh.test(s)?Ta[s]=!0:(ef[s]=!0,!1)}function yr(s,a,l){if(tf(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function zi(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function an(s,a,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+u)}}var Ea,nf;function xs(s){if(Ea===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Ea=a&&a[1]||"",nf=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ea+s+nf}var Do=!1;function ko(s,a){if(!s||Do)return"";Do=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(X){var W=X}Reflect.construct(s,[],ie)}else{try{ie.call()}catch(X){W=X}s.call(ie.prototype)}}else{try{throw Error()}catch(X){W=X}(ie=s())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(X){if(X&&W&&typeof X.stack=="string")return[X.stack,W.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),w=y[0],S=y[1];if(w&&S){var M=w.split(`
`),K=S.split(`
`);for(p=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;p<K.length&&!K[p].includes("DetermineComponentFrameRoot");)p++;if(u===M.length||p===K.length)for(u=M.length-1,p=K.length-1;1<=u&&0<=p&&M[u]!==K[p];)p--;for(;1<=u&&0<=p;u--,p--)if(M[u]!==K[p]){if(u!==1||p!==1)do if(u--,p--,0>p||M[u]!==K[p]){var ee=`
`+M[u].replace(" at new "," at ");return s.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",s.displayName)),ee}while(1<=u&&0<=p);break}}}finally{Do=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?xs(l):""}function Ac(s){switch(s.tag){case 26:case 27:case 5:return xs(s.type);case 16:return xs("Lazy");case 13:return xs("Suspense");case 19:return xs("SuspenseList");case 0:case 15:return ko(s.type,!1);case 11:return ko(s.type.render,!1);case 1:return ko(s.type,!0);case 31:return xs("Activity");default:return""}}function Po(s){try{var a="";do a+=Ac(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function In(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Cc(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ap(s){var a=Cc(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),u=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return p.call(this)},set:function(w){u=""+w,y.call(this,w)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(w){u=""+w},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Oo(s){s._valueTracker||(s._valueTracker=Ap(s))}function Rc(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return s&&(u=Cc(s)?s.checked?"true":"false":s.value),s=u,s!==l?(a.setValue(s),!0):!1}function ba(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Cp=/[\n"\\]/g;function Mt(s){return s.replace(Cp,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Hn(s,a,l,u,p,y,w,S){s.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.type=w:s.removeAttribute("type"),a!=null?w==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+In(a)):s.value!==""+In(a)&&(s.value=""+In(a)):w!=="submit"&&w!=="reset"||s.removeAttribute("value"),a!=null?_r(s,w,In(a)):l!=null?_r(s,w,In(l)):u!=null&&s.removeAttribute("value"),p==null&&y!=null&&(s.defaultChecked=!!y),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+In(S):s.removeAttribute("name")}function wa(s,a,l,u,p,y,w,S){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+In(l):"",a=a!=null?""+In(a):l,S||a===s.value||(s.value=a),s.defaultValue=a}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=S?s.checked:!!u,s.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.name=w)}function _r(s,a,l){a==="number"&&ba(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Ss(s,a,l,u){if(s=s.options,a){a={};for(var p=0;p<l.length;p++)a["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=a.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&u&&(s[l].defaultSelected=!0)}else{for(l=""+In(l),a=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,u&&(s[p].defaultSelected=!0);return}a!==null||s[p].disabled||(a=s[p])}a!==null&&(a.selected=!0)}}function tt(s,a,l){if(a!=null&&(a=""+In(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+In(l):""}function xa(s,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(Ie(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=In(a),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u)}function ii(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var Sa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sf(s,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":u?s.setProperty(a,l):typeof l!="number"||l===0||Sa.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function Ic(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var p in a)u=a[p],a.hasOwnProperty(p)&&l[p]!==u&&sf(s,p,u)}else for(var y in a)a.hasOwnProperty(y)&&sf(s,y,a[y])}function Nc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ip=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mo(s){return Ip.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var As=null;function si(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Cs=null,Rs=null;function Dc(s){var a=Bi(s);if(a&&(s=a.stateNode)){var l=s[Ot]||null;e:switch(s=a.stateNode,a.type){case"input":if(Hn(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Mt(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==s&&u.form===s.form){var p=u[Ot]||null;if(!p)throw Error(i(90));Hn(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===s.form&&Rc(u)}break e;case"textarea":tt(s,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Ss(s,!!l.multiple,a,!1)}}}var Hi=!1;function rf(s,a,l){if(Hi)return s(a,l);Hi=!0;try{var u=s(a);return u}finally{if(Hi=!1,(Cs!==null||Rs!==null)&&(Zf(),Cs&&(a=Cs,s=Rs,Rs=Cs=null,Dc(a),s)))for(a=0;a<s.length;a++)Dc(s[a])}}function Aa(s,a){var l=s.stateNode;if(l===null)return null;var u=l[Ot]||null;if(u===null)return null;l=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ri=!1;if(xi)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){ri=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{ri=!1}var qi=null,vr=null,Is=null;function kc(){if(Is)return Is;var s,a=vr,l=a.length,u,p="value"in qi?qi.value:qi.textContent,y=p.length;for(s=0;s<l&&a[s]===p[s];s++);var w=l-s;for(u=1;u<=w&&a[l-u]===p[y-u];u++);return Is=p.slice(s,1<u?1-u:void 0)}function Gi(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function $i(){return!0}function Pc(){return!1}function Yt(s){function a(l,u,p,y,w){this._reactName=l,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(l=s[S],this[S]=l?l(y):y[S]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?$i:Pc,this.isPropagationStopped=Pc,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),a}var Ye={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vo=Yt(Ye),Ra=g({},Ye,{view:0,detail:0}),af=Yt(Ra),Lo,jo,Ki,Ia=g({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ka,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ki&&(Ki&&s.type==="mousemove"?(Lo=s.screenX-Ki.screenX,jo=s.screenY-Ki.screenY):jo=Lo=0,Ki=s),Lo)},movementY:function(s){return"movementY"in s?s.movementY:jo}}),ai=Yt(Ia),of=g({},Ia,{dataTransfer:0}),Np=Yt(of),Na=g({},Ra,{relatedTarget:0}),Uo=Yt(Na),Oc=g({},Ye,{animationName:0,elapsedTime:0,pseudoElement:0}),Bo=Yt(Oc),lf=g({},Ye,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Fo=Yt(lf),Dp=g({},Ye,{data:0}),Mc=Yt(Dp),Da={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vc(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=uf[s])?!!a[s]:!1}function ka(){return Vc}var hf=g({},Ra,{key:function(s){if(s.key){var a=Da[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Gi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?cf[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ka,charCode:function(s){return s.type==="keypress"?Gi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Gi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),zo=Yt(hf),ff=g({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lc=Yt(ff),Ns=g({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ka}),df=Yt(Ns),mf=g({},Ye,{propertyName:0,elapsedTime:0,pseudoElement:0}),pf=Yt(mf),gf=g({},Ia,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ho=Yt(gf),Nn=g({},Ye,{newState:0,oldState:0}),yf=Yt(Nn),_f=[9,13,27,32],Wi=xi&&"CompositionEvent"in window,d=null;xi&&"documentMode"in document&&(d=document.documentMode);var T=xi&&"TextEvent"in window&&!d,b=xi&&(!Wi||d&&8<d&&11>=d),R=" ",G=!1;function Z(s,a){switch(s){case"keyup":return _f.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Be=!1;function Ft(s,a){switch(s){case"compositionend":return ce(a);case"keypress":return a.which!==32?null:(G=!0,R);case"textInput":return s=a.data,s===R&&G?null:s;default:return null}}function Fe(s,a){if(Be)return s==="compositionend"||!Wi&&Z(s,a)?(s=kc(),Is=vr=qi=null,Be=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return b&&a.locale!=="ko"?null:a.data;default:return null}}var Qt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zt(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Qt[s.type]:a==="textarea"}function Ds(s,a,l,u){Cs?Rs?Rs.push(u):Rs=[u]:Cs=u,a=sd(a,"onChange"),0<a.length&&(l=new Vo("onChange","change",null,l,u),s.push({event:l,listeners:a}))}var on=null,Yi=null;function jc(s){Tw(s,0)}function vf(s){var a=Fi(s);if(Rc(a))return s}function FT(s,a){if(s==="change")return a}var zT=!1;if(xi){var kp;if(xi){var Pp="oninput"in document;if(!Pp){var HT=document.createElement("div");HT.setAttribute("oninput","return;"),Pp=typeof HT.oninput=="function"}kp=Pp}else kp=!1;zT=kp&&(!document.documentMode||9<document.documentMode)}function qT(){on&&(on.detachEvent("onpropertychange",GT),Yi=on=null)}function GT(s){if(s.propertyName==="value"&&vf(Yi)){var a=[];Ds(a,Yi,s,si(s)),rf(jc,a)}}function Dk(s,a,l){s==="focusin"?(qT(),on=a,Yi=l,on.attachEvent("onpropertychange",GT)):s==="focusout"&&qT()}function kk(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return vf(Yi)}function Pk(s,a){if(s==="click")return vf(a)}function Ok(s,a){if(s==="input"||s==="change")return vf(a)}function Mk(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var qn=typeof Object.is=="function"?Object.is:Mk;function Uc(s,a){if(qn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var p=l[u];if(!ha.call(a,p)||!qn(s[p],a[p]))return!1}return!0}function $T(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function KT(s,a){var l=$T(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=a&&u>=a)return{node:l,offset:a-s};s=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=$T(l)}}function WT(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?WT(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function YT(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=ba(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=ba(s.document)}return a}function Op(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var Vk=xi&&"documentMode"in document&&11>=document.documentMode,qo=null,Mp=null,Bc=null,Vp=!1;function QT(s,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Vp||qo==null||qo!==ba(u)||(u=qo,"selectionStart"in u&&Op(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Bc&&Uc(Bc,u)||(Bc=u,u=sd(Mp,"onSelect"),0<u.length&&(a=new Vo("onSelect","select",null,a,l),s.push({event:a,listeners:u}),a.target=qo)))}function Pa(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var Go={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionrun:Pa("Transition","TransitionRun"),transitionstart:Pa("Transition","TransitionStart"),transitioncancel:Pa("Transition","TransitionCancel"),transitionend:Pa("Transition","TransitionEnd")},Lp={},XT={};xi&&(XT=document.createElement("div").style,"AnimationEvent"in window||(delete Go.animationend.animation,delete Go.animationiteration.animation,delete Go.animationstart.animation),"TransitionEvent"in window||delete Go.transitionend.transition);function Oa(s){if(Lp[s])return Lp[s];if(!Go[s])return s;var a=Go[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in XT)return Lp[s]=a[l];return s}var ZT=Oa("animationend"),JT=Oa("animationiteration"),eE=Oa("animationstart"),Lk=Oa("transitionrun"),jk=Oa("transitionstart"),Uk=Oa("transitioncancel"),tE=Oa("transitionend"),nE=new Map,jp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jp.push("scrollEnd");function Si(s,a){nE.set(s,a),wi(a,[s])}var iE=new WeakMap;function oi(s,a){if(typeof s=="object"&&s!==null){var l=iE.get(s);return l!==void 0?l:(a={value:s,source:a,stack:Po(a)},iE.set(s,a),a)}return{value:s,source:a,stack:Po(a)}}var li=[],$o=0,Up=0;function Tf(){for(var s=$o,a=Up=$o=0;a<s;){var l=li[a];li[a++]=null;var u=li[a];li[a++]=null;var p=li[a];li[a++]=null;var y=li[a];if(li[a++]=null,u!==null&&p!==null){var w=u.pending;w===null?p.next=p:(p.next=w.next,w.next=p),u.pending=p}y!==0&&sE(l,p,y)}}function Ef(s,a,l,u){li[$o++]=s,li[$o++]=a,li[$o++]=l,li[$o++]=u,Up|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Bp(s,a,l,u){return Ef(s,a,l,u),bf(s)}function Ko(s,a){return Ef(s,null,null,a),bf(s)}function sE(s,a,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var p=!1,y=s.return;y!==null;)y.childLanes|=l,u=y.alternate,u!==null&&(u.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(p=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,p&&a!==null&&(p=31-pn(l),s=y.hiddenUpdates,u=s[p],u===null?s[p]=[a]:u.push(a),a.lane=l|536870912),y):null}function bf(s){if(50<hu)throw hu=0,$g=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Wo={};function Bk(s,a,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(s,a,l,u){return new Bk(s,a,l,u)}function Fp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ks(s,a){var l=s.alternate;return l===null?(l=Gn(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function rE(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function wf(s,a,l,u,p,y){var w=0;if(u=s,typeof s=="function")Fp(s)&&(w=1);else if(typeof s=="string")w=zP(s,l,ye.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case I:return s=Gn(31,l,a,p),s.elementType=I,s.lanes=y,s;case A:return Ma(l.children,p,y,a);case D:w=8,p|=24;break;case N:return s=Gn(12,l,a,p|2),s.elementType=N,s.lanes=y,s;case Y:return s=Gn(13,l,a,p),s.elementType=Y,s.lanes=y,s;case ne:return s=Gn(19,l,a,p),s.elementType=ne,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case P:case L:w=10;break e;case U:w=9;break e;case Q:w=11;break e;case k:w=14;break e;case C:w=16,u=null;break e}w=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return a=Gn(w,l,a,p),a.elementType=s,a.type=u,a.lanes=y,a}function Ma(s,a,l,u){return s=Gn(7,s,u,a),s.lanes=l,s}function zp(s,a,l){return s=Gn(6,s,null,a),s.lanes=l,s}function Hp(s,a,l){return a=Gn(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var Yo=[],Qo=0,xf=null,Sf=0,ci=[],ui=0,Va=null,Ps=1,Os="";function La(s,a){Yo[Qo++]=Sf,Yo[Qo++]=xf,xf=s,Sf=a}function aE(s,a,l){ci[ui++]=Ps,ci[ui++]=Os,ci[ui++]=Va,Va=s;var u=Ps;s=Os;var p=32-pn(u)-1;u&=~(1<<p),l+=1;var y=32-pn(a)+p;if(30<y){var w=p-p%5;y=(u&(1<<w)-1).toString(32),u>>=w,p-=w,Ps=1<<32-pn(a)+p|l<<p|u,Os=y+s}else Ps=1<<y|l<<p|u,Os=s}function qp(s){s.return!==null&&(La(s,1),aE(s,1,0))}function Gp(s){for(;s===xf;)xf=Yo[--Qo],Yo[Qo]=null,Sf=Yo[--Qo],Yo[Qo]=null;for(;s===Va;)Va=ci[--ui],ci[ui]=null,Os=ci[--ui],ci[ui]=null,Ps=ci[--ui],ci[ui]=null}var Dn=null,xt=null,We=!1,ja=null,Qi=!1,$p=Error(i(519));function Ua(s){var a=Error(i(418,""));throw Hc(oi(a,s)),$p}function oE(s){var a=s.stateNode,l=s.type,u=s.memoizedProps;switch(a[Bt]=s,a[Ot]=u,l){case"dialog":Me("cancel",a),Me("close",a);break;case"iframe":case"object":case"embed":Me("load",a);break;case"video":case"audio":for(l=0;l<du.length;l++)Me(du[l],a);break;case"source":Me("error",a);break;case"img":case"image":case"link":Me("error",a),Me("load",a);break;case"details":Me("toggle",a);break;case"input":Me("invalid",a),wa(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Oo(a);break;case"select":Me("invalid",a);break;case"textarea":Me("invalid",a),xa(a,u.value,u.defaultValue,u.children),Oo(a)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||xw(a.textContent,l)?(u.popover!=null&&(Me("beforetoggle",a),Me("toggle",a)),u.onScroll!=null&&Me("scroll",a),u.onScrollEnd!=null&&Me("scrollend",a),u.onClick!=null&&(a.onclick=rd),a=!0):a=!1,a||Ua(s)}function lE(s){for(Dn=s.return;Dn;)switch(Dn.tag){case 5:case 13:Qi=!1;return;case 27:case 3:Qi=!0;return;default:Dn=Dn.return}}function Fc(s){if(s!==Dn)return!1;if(!We)return lE(s),We=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||ly(s.type,s.memoizedProps)),l=!l),l&&xt&&Ua(s),lE(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){xt=Ci(s.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}xt=null}}else a===27?(a=xt,Mr(s.type)?(s=fy,fy=null,xt=s):xt=a):xt=Dn?Ci(s.stateNode.nextSibling):null;return!0}function zc(){xt=Dn=null,We=!1}function cE(){var s=ja;return s!==null&&(Vn===null?Vn=s:Vn.push.apply(Vn,s),ja=null),s}function Hc(s){ja===null?ja=[s]:ja.push(s)}var Kp=re(null),Ba=null,Ms=null;function Tr(s,a,l){le(Kp,a._currentValue),a._currentValue=l}function Vs(s){s._currentValue=Kp.current,ue(Kp)}function Wp(s,a,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),s===l)break;s=s.return}}function Yp(s,a,l,u){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var y=p.dependencies;if(y!==null){var w=p.child;y=y.firstContext;e:for(;y!==null;){var S=y;y=p;for(var M=0;M<a.length;M++)if(S.context===a[M]){y.lanes|=l,S=y.alternate,S!==null&&(S.lanes|=l),Wp(y.return,l,s),u||(w=null);break e}y=S.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(i(341));w.lanes|=l,y=w.alternate,y!==null&&(y.lanes|=l),Wp(w,l,s),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===s){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function qc(s,a,l,u){s=null;for(var p=a,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var S=p.type;qn(p.pendingProps.value,w.value)||(s!==null?s.push(S):s=[S])}}else if(p===Wt.current){if(w=p.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(vu):s=[vu])}p=p.return}s!==null&&Yp(a,s,l,u),a.flags|=262144}function Af(s){for(s=s.firstContext;s!==null;){if(!qn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Fa(s){Ba=s,Ms=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function gn(s){return uE(Ba,s)}function Cf(s,a){return Ba===null&&Fa(s),uE(s,a)}function uE(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Ms===null){if(s===null)throw Error(i(308));Ms=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Ms=Ms.next=a;return l}var Fk=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},zk=t.unstable_scheduleCallback,Hk=t.unstable_NormalPriority,Ht={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qp(){return{controller:new Fk,data:new Map,refCount:0}}function Gc(s){s.refCount--,s.refCount===0&&zk(Hk,function(){s.controller.abort()})}var $c=null,Xp=0,Xo=0,Zo=null;function qk(s,a){if($c===null){var l=$c=[];Xp=0,Xo=Jg(),Zo={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Xp++,a.then(hE,hE),a}function hE(){if(--Xp===0&&$c!==null){Zo!==null&&(Zo.status="fulfilled");var s=$c;$c=null,Xo=0,Zo=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function Gk(s,a){var l=[],u={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return s.then(function(){u.status="fulfilled",u.value=a;for(var p=0;p<l.length;p++)(0,l[p])(a)},function(p){for(u.status="rejected",u.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),u}var fE=J.S;J.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&qk(s,a),fE!==null&&fE(s,a)};var za=re(null);function Zp(){var s=za.current;return s!==null?s:ct.pooledCache}function Rf(s,a){a===null?le(za,za.current):le(za,a.pool)}function dE(){var s=Zp();return s===null?null:{parent:Ht._currentValue,pool:s}}var Kc=Error(i(460)),mE=Error(i(474)),If=Error(i(542)),Jp={then:function(){}};function pE(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Nf(){}function gE(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(Nf,Nf),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,_E(s),s;default:if(typeof a.status=="string")a.then(Nf,Nf);else{if(s=ct,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(u){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=u}},function(u){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,_E(s),s}throw Wc=a,Kc}}var Wc=null;function yE(){if(Wc===null)throw Error(i(459));var s=Wc;return Wc=null,s}function _E(s){if(s===Kc||s===If)throw Error(i(483))}var Er=!1;function eg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tg(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function br(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function wr(s,a,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Je&2)!==0){var p=u.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),u.pending=a,a=bf(s),sE(s,null,l),a}return Ef(s,u,a,l),bf(s)}function Yc(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,wc(s,l)}}function ng(s,a){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var w={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?p=y=w:y=y.next=w,l=l.next}while(l!==null);y===null?p=y=a:y=y.next=a}else p=y=a;l={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var ig=!1;function Qc(){if(ig){var s=Zo;if(s!==null)throw s}}function Xc(s,a,l,u){ig=!1;var p=s.updateQueue;Er=!1;var y=p.firstBaseUpdate,w=p.lastBaseUpdate,S=p.shared.pending;if(S!==null){p.shared.pending=null;var M=S,K=M.next;M.next=null,w===null?y=K:w.next=K,w=M;var ee=s.alternate;ee!==null&&(ee=ee.updateQueue,S=ee.lastBaseUpdate,S!==w&&(S===null?ee.firstBaseUpdate=K:S.next=K,ee.lastBaseUpdate=M))}if(y!==null){var ie=p.baseState;w=0,ee=K=M=null,S=y;do{var W=S.lane&-536870913,X=W!==S.lane;if(X?(ze&W)===W:(u&W)===W){W!==0&&W===Xo&&(ig=!0),ee!==null&&(ee=ee.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var we=s,_e=S;W=a;var st=l;switch(_e.tag){case 1:if(we=_e.payload,typeof we=="function"){ie=we.call(st,ie,W);break e}ie=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=_e.payload,W=typeof we=="function"?we.call(st,ie,W):we,W==null)break e;ie=g({},ie,W);break e;case 2:Er=!0}}W=S.callback,W!==null&&(s.flags|=64,X&&(s.flags|=8192),X=p.callbacks,X===null?p.callbacks=[W]:X.push(W))}else X={lane:W,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ee===null?(K=ee=X,M=ie):ee=ee.next=X,w|=W;if(S=S.next,S===null){if(S=p.shared.pending,S===null)break;X=S,S=X.next,X.next=null,p.lastBaseUpdate=X,p.shared.pending=null}}while(!0);ee===null&&(M=ie),p.baseState=M,p.firstBaseUpdate=K,p.lastBaseUpdate=ee,y===null&&(p.shared.lanes=0),Dr|=w,s.lanes=w,s.memoizedState=ie}}function vE(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function TE(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)vE(l[s],a)}var Jo=re(null),Df=re(0);function EE(s,a){s=Hs,le(Df,s),le(Jo,a),Hs=s|a.baseLanes}function sg(){le(Df,Hs),le(Jo,Jo.current)}function rg(){Hs=Df.current,ue(Jo),ue(Df)}var xr=0,Ne=null,nt=null,Vt=null,kf=!1,el=!1,Ha=!1,Pf=0,Zc=0,tl=null,$k=0;function Nt(){throw Error(i(321))}function ag(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!qn(s[l],a[l]))return!1;return!0}function og(s,a,l,u,p,y){return xr=y,Ne=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,J.H=s===null||s.memoizedState===null?sb:rb,Ha=!1,y=l(u,p),Ha=!1,el&&(y=wE(a,l,u,p)),bE(s),y}function bE(s){J.H=Uf;var a=nt!==null&&nt.next!==null;if(xr=0,Vt=nt=Ne=null,kf=!1,Zc=0,tl=null,a)throw Error(i(300));s===null||Xt||(s=s.dependencies,s!==null&&Af(s)&&(Xt=!0))}function wE(s,a,l,u){Ne=s;var p=0;do{if(el&&(tl=null),Zc=0,el=!1,25<=p)throw Error(i(301));if(p+=1,Vt=nt=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}J.H=Jk,y=a(l,u)}while(el);return y}function Kk(){var s=J.H,a=s.useState()[0];return a=typeof a.then=="function"?Jc(a):a,s=s.useState()[0],(nt!==null?nt.memoizedState:null)!==s&&(Ne.flags|=1024),a}function lg(){var s=Pf!==0;return Pf=0,s}function cg(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function ug(s){if(kf){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}kf=!1}xr=0,Vt=nt=Ne=null,el=!1,Zc=Pf=0,tl=null}function On(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Ne.memoizedState=Vt=s:Vt=Vt.next=s,Vt}function Lt(){if(nt===null){var s=Ne.alternate;s=s!==null?s.memoizedState:null}else s=nt.next;var a=Vt===null?Ne.memoizedState:Vt.next;if(a!==null)Vt=a,nt=s;else{if(s===null)throw Ne.alternate===null?Error(i(467)):Error(i(310));nt=s,s={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Vt===null?Ne.memoizedState=Vt=s:Vt=Vt.next=s}return Vt}function hg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jc(s){var a=Zc;return Zc+=1,tl===null&&(tl=[]),s=gE(tl,s,a),a=Ne,(Vt===null?a.memoizedState:Vt.next)===null&&(a=a.alternate,J.H=a===null||a.memoizedState===null?sb:rb),s}function Of(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Jc(s);if(s.$$typeof===L)return gn(s)}throw Error(i(438,String(s)))}function fg(s){var a=null,l=Ne.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=Ne.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=hg(),Ne.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),u=0;u<s;u++)l[u]=j;return a.index++,l}function Ls(s,a){return typeof a=="function"?a(s):a}function Mf(s){var a=Lt();return dg(a,nt,s)}function dg(s,a,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var p=s.baseQueue,y=u.pending;if(y!==null){if(p!==null){var w=p.next;p.next=y.next,y.next=w}a.baseQueue=p=y,u.pending=null}if(y=s.baseState,p===null)s.memoizedState=y;else{a=p.next;var S=w=null,M=null,K=a,ee=!1;do{var ie=K.lane&-536870913;if(ie!==K.lane?(ze&ie)===ie:(xr&ie)===ie){var W=K.revertLane;if(W===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ie===Xo&&(ee=!0);else if((xr&W)===W){K=K.next,W===Xo&&(ee=!0);continue}else ie={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(S=M=ie,w=y):M=M.next=ie,Ne.lanes|=W,Dr|=W;ie=K.action,Ha&&l(y,ie),y=K.hasEagerState?K.eagerState:l(y,ie)}else W={lane:ie,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(S=M=W,w=y):M=M.next=W,Ne.lanes|=ie,Dr|=ie;K=K.next}while(K!==null&&K!==a);if(M===null?w=y:M.next=S,!qn(y,s.memoizedState)&&(Xt=!0,ee&&(l=Zo,l!==null)))throw l;s.memoizedState=y,s.baseState=w,s.baseQueue=M,u.lastRenderedState=y}return p===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function mg(s){var a=Lt(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,p=l.pending,y=a.memoizedState;if(p!==null){l.pending=null;var w=p=p.next;do y=s(y,w.action),w=w.next;while(w!==p);qn(y,a.memoizedState)||(Xt=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,u]}function xE(s,a,l){var u=Ne,p=Lt(),y=We;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=a();var w=!qn((nt||p).memoizedState,l);w&&(p.memoizedState=l,Xt=!0),p=p.queue;var S=CE.bind(null,u,p,s);if(eu(2048,8,S,[s]),p.getSnapshot!==a||w||Vt!==null&&Vt.memoizedState.tag&1){if(u.flags|=2048,nl(9,Vf(),AE.bind(null,u,p,l,a),null),ct===null)throw Error(i(349));y||(xr&124)!==0||SE(u,a,l)}return l}function SE(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Ne.updateQueue,a===null?(a=hg(),Ne.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function AE(s,a,l,u){a.value=l,a.getSnapshot=u,RE(a)&&IE(s)}function CE(s,a,l){return l(function(){RE(a)&&IE(s)})}function RE(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!qn(s,l)}catch{return!0}}function IE(s){var a=Ko(s,2);a!==null&&Qn(a,s,2)}function pg(s){var a=On();if(typeof s=="function"){var l=s;if(s=l(),Ha){zn(!0);try{l()}finally{zn(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:s},a}function NE(s,a,l,u){return s.baseState=l,dg(s,nt,typeof u=="function"?u:Ls)}function Wk(s,a,l,u,p){if(jf(s))throw Error(i(485));if(s=a.action,s!==null){var y={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};J.T!==null?l(!0):y.isTransition=!1,u(y),l=a.pending,l===null?(y.next=a.pending=y,DE(a,y)):(y.next=l.next,a.pending=l.next=y)}}function DE(s,a){var l=a.action,u=a.payload,p=s.state;if(a.isTransition){var y=J.T,w={};J.T=w;try{var S=l(p,u),M=J.S;M!==null&&M(w,S),kE(s,a,S)}catch(K){gg(s,a,K)}finally{J.T=y}}else try{y=l(p,u),kE(s,a,y)}catch(K){gg(s,a,K)}}function kE(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){PE(s,a,u)},function(u){return gg(s,a,u)}):PE(s,a,l)}function PE(s,a,l){a.status="fulfilled",a.value=l,OE(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,DE(s,l)))}function gg(s,a,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,OE(a),a=a.next;while(a!==u)}s.action=null}function OE(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function ME(s,a){return a}function VE(s,a){if(We){var l=ct.formState;if(l!==null){e:{var u=Ne;if(We){if(xt){t:{for(var p=xt,y=Qi;p.nodeType!==8;){if(!y){p=null;break t}if(p=Ci(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){xt=Ci(p.nextSibling),u=p.data==="F!";break e}}Ua(u)}u=!1}u&&(a=l[0])}}return l=On(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ME,lastRenderedState:a},l.queue=u,l=tb.bind(null,Ne,u),u.dispatch=l,u=pg(!1),y=Eg.bind(null,Ne,!1,u.queue),u=On(),p={state:a,dispatch:null,action:s,pending:null},u.queue=p,l=Wk.bind(null,Ne,p,y,l),p.dispatch=l,u.memoizedState=s,[a,l,!1]}function LE(s){var a=Lt();return jE(a,nt,s)}function jE(s,a,l){if(a=dg(s,a,ME)[0],s=Mf(Ls)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Jc(a)}catch(w){throw w===Kc?If:w}else u=a;a=Lt();var p=a.queue,y=p.dispatch;return l!==a.memoizedState&&(Ne.flags|=2048,nl(9,Vf(),Yk.bind(null,p,l),null)),[u,y,s]}function Yk(s,a){s.action=a}function UE(s){var a=Lt(),l=nt;if(l!==null)return jE(a,l,s);Lt(),a=a.memoizedState,l=Lt();var u=l.queue.dispatch;return l.memoizedState=s,[a,u,!1]}function nl(s,a,l,u){return s={tag:s,create:l,deps:u,inst:a,next:null},a=Ne.updateQueue,a===null&&(a=hg(),Ne.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,a.lastEffect=s),s}function Vf(){return{destroy:void 0,resource:void 0}}function BE(){return Lt().memoizedState}function Lf(s,a,l,u){var p=On();u=u===void 0?null:u,Ne.flags|=s,p.memoizedState=nl(1|a,Vf(),l,u)}function eu(s,a,l,u){var p=Lt();u=u===void 0?null:u;var y=p.memoizedState.inst;nt!==null&&u!==null&&ag(u,nt.memoizedState.deps)?p.memoizedState=nl(a,y,l,u):(Ne.flags|=s,p.memoizedState=nl(1|a,y,l,u))}function FE(s,a){Lf(8390656,8,s,a)}function zE(s,a){eu(2048,8,s,a)}function HE(s,a){return eu(4,2,s,a)}function qE(s,a){return eu(4,4,s,a)}function GE(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function $E(s,a,l){l=l!=null?l.concat([s]):null,eu(4,4,GE.bind(null,a,s),l)}function yg(){}function KE(s,a){var l=Lt();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&ag(a,u[1])?u[0]:(l.memoizedState=[s,a],s)}function WE(s,a){var l=Lt();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&ag(a,u[1]))return u[0];if(u=s(),Ha){zn(!0);try{s()}finally{zn(!1)}}return l.memoizedState=[u,a],u}function _g(s,a,l){return l===void 0||(xr&1073741824)!==0?s.memoizedState=a:(s.memoizedState=l,s=Xb(),Ne.lanes|=s,Dr|=s,l)}function YE(s,a,l,u){return qn(l,a)?l:Jo.current!==null?(s=_g(s,l,u),qn(s,a)||(Xt=!0),s):(xr&42)===0?(Xt=!0,s.memoizedState=l):(s=Xb(),Ne.lanes|=s,Dr|=s,a)}function QE(s,a,l,u,p){var y=ae.p;ae.p=y!==0&&8>y?y:8;var w=J.T,S={};J.T=S,Eg(s,!1,a,l);try{var M=p(),K=J.S;if(K!==null&&K(S,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var ee=Gk(M,u);tu(s,a,ee,Yn(s))}else tu(s,a,u,Yn(s))}catch(ie){tu(s,a,{then:function(){},status:"rejected",reason:ie},Yn())}finally{ae.p=y,J.T=w}}function Qk(){}function vg(s,a,l,u){if(s.tag!==5)throw Error(i(476));var p=XE(s).queue;QE(s,p,a,fe,l===null?Qk:function(){return ZE(s),l(u)})}function XE(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:fe},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function ZE(s){var a=XE(s).next.queue;tu(s,a,{},Yn())}function Tg(){return gn(vu)}function JE(){return Lt().memoizedState}function eb(){return Lt().memoizedState}function Xk(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=Yn();s=br(l);var u=wr(a,s,l);u!==null&&(Qn(u,a,l),Yc(u,a,l)),a={cache:Qp()},s.payload=a;return}a=a.return}}function Zk(s,a,l){var u=Yn();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},jf(s)?nb(a,l):(l=Bp(s,a,l,u),l!==null&&(Qn(l,s,u),ib(l,a,u)))}function tb(s,a,l){var u=Yn();tu(s,a,l,u)}function tu(s,a,l,u){var p={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(jf(s))nb(a,p);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var w=a.lastRenderedState,S=y(w,l);if(p.hasEagerState=!0,p.eagerState=S,qn(S,w))return Ef(s,a,p,0),ct===null&&Tf(),!1}catch{}finally{}if(l=Bp(s,a,p,u),l!==null)return Qn(l,s,u),ib(l,a,u),!0}return!1}function Eg(s,a,l,u){if(u={lane:2,revertLane:Jg(),action:u,hasEagerState:!1,eagerState:null,next:null},jf(s)){if(a)throw Error(i(479))}else a=Bp(s,l,u,2),a!==null&&Qn(a,s,2)}function jf(s){var a=s.alternate;return s===Ne||a!==null&&a===Ne}function nb(s,a){el=kf=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function ib(s,a,l){if((l&4194048)!==0){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,wc(s,l)}}var Uf={readContext:gn,use:Of,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt},sb={readContext:gn,use:Of,useCallback:function(s,a){return On().memoizedState=[s,a===void 0?null:a],s},useContext:gn,useEffect:FE,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,Lf(4194308,4,GE.bind(null,a,s),l)},useLayoutEffect:function(s,a){return Lf(4194308,4,s,a)},useInsertionEffect:function(s,a){Lf(4,2,s,a)},useMemo:function(s,a){var l=On();a=a===void 0?null:a;var u=s();if(Ha){zn(!0);try{s()}finally{zn(!1)}}return l.memoizedState=[u,a],u},useReducer:function(s,a,l){var u=On();if(l!==void 0){var p=l(a);if(Ha){zn(!0);try{l(a)}finally{zn(!1)}}}else p=a;return u.memoizedState=u.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},u.queue=s,s=s.dispatch=Zk.bind(null,Ne,s),[u.memoizedState,s]},useRef:function(s){var a=On();return s={current:s},a.memoizedState=s},useState:function(s){s=pg(s);var a=s.queue,l=tb.bind(null,Ne,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:yg,useDeferredValue:function(s,a){var l=On();return _g(l,s,a)},useTransition:function(){var s=pg(!1);return s=QE.bind(null,Ne,s.queue,!0,!1),On().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var u=Ne,p=On();if(We){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),ct===null)throw Error(i(349));(ze&124)!==0||SE(u,a,l)}p.memoizedState=l;var y={value:l,getSnapshot:a};return p.queue=y,FE(CE.bind(null,u,y,s),[s]),u.flags|=2048,nl(9,Vf(),AE.bind(null,u,y,l,a),null),l},useId:function(){var s=On(),a=ct.identifierPrefix;if(We){var l=Os,u=Ps;l=(u&~(1<<32-pn(u)-1)).toString(32)+l,a="«"+a+"R"+l,l=Pf++,0<l&&(a+="H"+l.toString(32)),a+="»"}else l=$k++,a="«"+a+"r"+l.toString(32)+"»";return s.memoizedState=a},useHostTransitionStatus:Tg,useFormState:VE,useActionState:VE,useOptimistic:function(s){var a=On();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Eg.bind(null,Ne,!0,l),l.dispatch=a,[s,a]},useMemoCache:fg,useCacheRefresh:function(){return On().memoizedState=Xk.bind(null,Ne)}},rb={readContext:gn,use:Of,useCallback:KE,useContext:gn,useEffect:zE,useImperativeHandle:$E,useInsertionEffect:HE,useLayoutEffect:qE,useMemo:WE,useReducer:Mf,useRef:BE,useState:function(){return Mf(Ls)},useDebugValue:yg,useDeferredValue:function(s,a){var l=Lt();return YE(l,nt.memoizedState,s,a)},useTransition:function(){var s=Mf(Ls)[0],a=Lt().memoizedState;return[typeof s=="boolean"?s:Jc(s),a]},useSyncExternalStore:xE,useId:JE,useHostTransitionStatus:Tg,useFormState:LE,useActionState:LE,useOptimistic:function(s,a){var l=Lt();return NE(l,nt,s,a)},useMemoCache:fg,useCacheRefresh:eb},Jk={readContext:gn,use:Of,useCallback:KE,useContext:gn,useEffect:zE,useImperativeHandle:$E,useInsertionEffect:HE,useLayoutEffect:qE,useMemo:WE,useReducer:mg,useRef:BE,useState:function(){return mg(Ls)},useDebugValue:yg,useDeferredValue:function(s,a){var l=Lt();return nt===null?_g(l,s,a):YE(l,nt.memoizedState,s,a)},useTransition:function(){var s=mg(Ls)[0],a=Lt().memoizedState;return[typeof s=="boolean"?s:Jc(s),a]},useSyncExternalStore:xE,useId:JE,useHostTransitionStatus:Tg,useFormState:UE,useActionState:UE,useOptimistic:function(s,a){var l=Lt();return nt!==null?NE(l,nt,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:fg,useCacheRefresh:eb},il=null,nu=0;function Bf(s){var a=nu;return nu+=1,il===null&&(il=[]),gE(il,s,a)}function iu(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Ff(s,a){throw a.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function ab(s){var a=s._init;return a(s._payload)}function ob(s){function a(q,H){if(s){var $=q.deletions;$===null?(q.deletions=[H],q.flags|=16):$.push(H)}}function l(q,H){if(!s)return null;for(;H!==null;)a(q,H),H=H.sibling;return null}function u(q){for(var H=new Map;q!==null;)q.key!==null?H.set(q.key,q):H.set(q.index,q),q=q.sibling;return H}function p(q,H){return q=ks(q,H),q.index=0,q.sibling=null,q}function y(q,H,$){return q.index=$,s?($=q.alternate,$!==null?($=$.index,$<H?(q.flags|=67108866,H):$):(q.flags|=67108866,H)):(q.flags|=1048576,H)}function w(q){return s&&q.alternate===null&&(q.flags|=67108866),q}function S(q,H,$,te){return H===null||H.tag!==6?(H=zp($,q.mode,te),H.return=q,H):(H=p(H,$),H.return=q,H)}function M(q,H,$,te){var me=$.type;return me===A?ee(q,H,$.props.children,te,$.key):H!==null&&(H.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===C&&ab(me)===H.type)?(H=p(H,$.props),iu(H,$),H.return=q,H):(H=wf($.type,$.key,$.props,null,q.mode,te),iu(H,$),H.return=q,H)}function K(q,H,$,te){return H===null||H.tag!==4||H.stateNode.containerInfo!==$.containerInfo||H.stateNode.implementation!==$.implementation?(H=Hp($,q.mode,te),H.return=q,H):(H=p(H,$.children||[]),H.return=q,H)}function ee(q,H,$,te,me){return H===null||H.tag!==7?(H=Ma($,q.mode,te,me),H.return=q,H):(H=p(H,$),H.return=q,H)}function ie(q,H,$){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=zp(""+H,q.mode,$),H.return=q,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case E:return $=wf(H.type,H.key,H.props,null,q.mode,$),iu($,H),$.return=q,$;case x:return H=Hp(H,q.mode,$),H.return=q,H;case C:var te=H._init;return H=te(H._payload),ie(q,H,$)}if(Ie(H)||z(H))return H=Ma(H,q.mode,$,null),H.return=q,H;if(typeof H.then=="function")return ie(q,Bf(H),$);if(H.$$typeof===L)return ie(q,Cf(q,H),$);Ff(q,H)}return null}function W(q,H,$,te){var me=H!==null?H.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return me!==null?null:S(q,H,""+$,te);if(typeof $=="object"&&$!==null){switch($.$$typeof){case E:return $.key===me?M(q,H,$,te):null;case x:return $.key===me?K(q,H,$,te):null;case C:return me=$._init,$=me($._payload),W(q,H,$,te)}if(Ie($)||z($))return me!==null?null:ee(q,H,$,te,null);if(typeof $.then=="function")return W(q,H,Bf($),te);if($.$$typeof===L)return W(q,H,Cf(q,$),te);Ff(q,$)}return null}function X(q,H,$,te,me){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return q=q.get($)||null,S(H,q,""+te,me);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case E:return q=q.get(te.key===null?$:te.key)||null,M(H,q,te,me);case x:return q=q.get(te.key===null?$:te.key)||null,K(H,q,te,me);case C:var Pe=te._init;return te=Pe(te._payload),X(q,H,$,te,me)}if(Ie(te)||z(te))return q=q.get($)||null,ee(H,q,te,me,null);if(typeof te.then=="function")return X(q,H,$,Bf(te),me);if(te.$$typeof===L)return X(q,H,$,Cf(H,te),me);Ff(H,te)}return null}function we(q,H,$,te){for(var me=null,Pe=null,pe=H,Ee=H=0,Jt=null;pe!==null&&Ee<$.length;Ee++){pe.index>Ee?(Jt=pe,pe=null):Jt=pe.sibling;var $e=W(q,pe,$[Ee],te);if($e===null){pe===null&&(pe=Jt);break}s&&pe&&$e.alternate===null&&a(q,pe),H=y($e,H,Ee),Pe===null?me=$e:Pe.sibling=$e,Pe=$e,pe=Jt}if(Ee===$.length)return l(q,pe),We&&La(q,Ee),me;if(pe===null){for(;Ee<$.length;Ee++)pe=ie(q,$[Ee],te),pe!==null&&(H=y(pe,H,Ee),Pe===null?me=pe:Pe.sibling=pe,Pe=pe);return We&&La(q,Ee),me}for(pe=u(pe);Ee<$.length;Ee++)Jt=X(pe,q,Ee,$[Ee],te),Jt!==null&&(s&&Jt.alternate!==null&&pe.delete(Jt.key===null?Ee:Jt.key),H=y(Jt,H,Ee),Pe===null?me=Jt:Pe.sibling=Jt,Pe=Jt);return s&&pe.forEach(function(Br){return a(q,Br)}),We&&La(q,Ee),me}function _e(q,H,$,te){if($==null)throw Error(i(151));for(var me=null,Pe=null,pe=H,Ee=H=0,Jt=null,$e=$.next();pe!==null&&!$e.done;Ee++,$e=$.next()){pe.index>Ee?(Jt=pe,pe=null):Jt=pe.sibling;var Br=W(q,pe,$e.value,te);if(Br===null){pe===null&&(pe=Jt);break}s&&pe&&Br.alternate===null&&a(q,pe),H=y(Br,H,Ee),Pe===null?me=Br:Pe.sibling=Br,Pe=Br,pe=Jt}if($e.done)return l(q,pe),We&&La(q,Ee),me;if(pe===null){for(;!$e.done;Ee++,$e=$.next())$e=ie(q,$e.value,te),$e!==null&&(H=y($e,H,Ee),Pe===null?me=$e:Pe.sibling=$e,Pe=$e);return We&&La(q,Ee),me}for(pe=u(pe);!$e.done;Ee++,$e=$.next())$e=X(pe,q,Ee,$e.value,te),$e!==null&&(s&&$e.alternate!==null&&pe.delete($e.key===null?Ee:$e.key),H=y($e,H,Ee),Pe===null?me=$e:Pe.sibling=$e,Pe=$e);return s&&pe.forEach(function(eO){return a(q,eO)}),We&&La(q,Ee),me}function st(q,H,$,te){if(typeof $=="object"&&$!==null&&$.type===A&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case E:e:{for(var me=$.key;H!==null;){if(H.key===me){if(me=$.type,me===A){if(H.tag===7){l(q,H.sibling),te=p(H,$.props.children),te.return=q,q=te;break e}}else if(H.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===C&&ab(me)===H.type){l(q,H.sibling),te=p(H,$.props),iu(te,$),te.return=q,q=te;break e}l(q,H);break}else a(q,H);H=H.sibling}$.type===A?(te=Ma($.props.children,q.mode,te,$.key),te.return=q,q=te):(te=wf($.type,$.key,$.props,null,q.mode,te),iu(te,$),te.return=q,q=te)}return w(q);case x:e:{for(me=$.key;H!==null;){if(H.key===me)if(H.tag===4&&H.stateNode.containerInfo===$.containerInfo&&H.stateNode.implementation===$.implementation){l(q,H.sibling),te=p(H,$.children||[]),te.return=q,q=te;break e}else{l(q,H);break}else a(q,H);H=H.sibling}te=Hp($,q.mode,te),te.return=q,q=te}return w(q);case C:return me=$._init,$=me($._payload),st(q,H,$,te)}if(Ie($))return we(q,H,$,te);if(z($)){if(me=z($),typeof me!="function")throw Error(i(150));return $=me.call($),_e(q,H,$,te)}if(typeof $.then=="function")return st(q,H,Bf($),te);if($.$$typeof===L)return st(q,H,Cf(q,$),te);Ff(q,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,H!==null&&H.tag===6?(l(q,H.sibling),te=p(H,$),te.return=q,q=te):(l(q,H),te=zp($,q.mode,te),te.return=q,q=te),w(q)):l(q,H)}return function(q,H,$,te){try{nu=0;var me=st(q,H,$,te);return il=null,me}catch(pe){if(pe===Kc||pe===If)throw pe;var Pe=Gn(29,pe,null,q.mode);return Pe.lanes=te,Pe.return=q,Pe}finally{}}}var sl=ob(!0),lb=ob(!1),hi=re(null),Xi=null;function Sr(s){var a=s.alternate;le(qt,qt.current&1),le(hi,s),Xi===null&&(a===null||Jo.current!==null||a.memoizedState!==null)&&(Xi=s)}function cb(s){if(s.tag===22){if(le(qt,qt.current),le(hi,s),Xi===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Xi=s)}}else Ar()}function Ar(){le(qt,qt.current),le(hi,hi.current)}function js(s){ue(hi),Xi===s&&(Xi=null),ue(qt)}var qt=re(0);function zf(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||hy(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function bg(s,a,l,u){a=s.memoizedState,l=l(u,a),l=l==null?a:g({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var wg={enqueueSetState:function(s,a,l){s=s._reactInternals;var u=Yn(),p=br(u);p.payload=a,l!=null&&(p.callback=l),a=wr(s,p,u),a!==null&&(Qn(a,s,u),Yc(a,s,u))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var u=Yn(),p=br(u);p.tag=1,p.payload=a,l!=null&&(p.callback=l),a=wr(s,p,u),a!==null&&(Qn(a,s,u),Yc(a,s,u))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=Yn(),u=br(l);u.tag=2,a!=null&&(u.callback=a),a=wr(s,u,l),a!==null&&(Qn(a,s,l),Yc(a,s,l))}};function ub(s,a,l,u,p,y,w){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,y,w):a.prototype&&a.prototype.isPureReactComponent?!Uc(l,u)||!Uc(p,y):!0}function hb(s,a,l,u){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==s&&wg.enqueueReplaceState(a,a.state,null)}function qa(s,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(s=s.defaultProps){l===a&&(l=g({},l));for(var p in s)l[p]===void 0&&(l[p]=s[p])}return l}var Hf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function fb(s){Hf(s)}function db(s){console.error(s)}function mb(s){Hf(s)}function qf(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function pb(s,a,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function xg(s,a,l){return l=br(l),l.tag=3,l.payload={element:null},l.callback=function(){qf(s,a)},l}function gb(s){return s=br(s),s.tag=3,s}function yb(s,a,l,u){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var y=u.value;s.payload=function(){return p(y)},s.callback=function(){pb(a,l,u)}}var w=l.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(s.callback=function(){pb(a,l,u),typeof p!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function eP(s,a,l,u,p){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&qc(a,l,p,!0),l=hi.current,l!==null){switch(l.tag){case 13:return Xi===null?Wg():l.alternate===null&&St===0&&(St=3),l.flags&=-257,l.flags|=65536,l.lanes=p,u===Jp?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),Qg(s,u,p)),!1;case 22:return l.flags|=65536,u===Jp?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),Qg(s,u,p)),!1}throw Error(i(435,l.tag))}return Qg(s,u,p),Wg(),!1}if(We)return a=hi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,u!==$p&&(s=Error(i(422),{cause:u}),Hc(oi(s,l)))):(u!==$p&&(a=Error(i(423),{cause:u}),Hc(oi(a,l))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,u=oi(u,l),p=xg(s.stateNode,u,p),ng(s,p),St!==4&&(St=2)),!1;var y=Error(i(520),{cause:u});if(y=oi(y,l),uu===null?uu=[y]:uu.push(y),St!==4&&(St=2),a===null)return!0;u=oi(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=p&-p,l.lanes|=s,s=xg(l.stateNode,u,s),ng(l,s),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(kr===null||!kr.has(y))))return l.flags|=65536,p&=-p,l.lanes|=p,p=gb(p),yb(p,s,l,u),ng(l,p),!1}l=l.return}while(l!==null);return!1}var _b=Error(i(461)),Xt=!1;function ln(s,a,l,u){a.child=s===null?lb(a,null,l,u):sl(a,s.child,l,u)}function vb(s,a,l,u,p){l=l.render;var y=a.ref;if("ref"in u){var w={};for(var S in u)S!=="ref"&&(w[S]=u[S])}else w=u;return Fa(a),u=og(s,a,l,w,y,p),S=lg(),s!==null&&!Xt?(cg(s,a,p),Us(s,a,p)):(We&&S&&qp(a),a.flags|=1,ln(s,a,u,p),a.child)}function Tb(s,a,l,u,p){if(s===null){var y=l.type;return typeof y=="function"&&!Fp(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,Eb(s,a,y,u,p)):(s=wf(l.type,null,u,a,a.mode,p),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!kg(s,p)){var w=y.memoizedProps;if(l=l.compare,l=l!==null?l:Uc,l(w,u)&&s.ref===a.ref)return Us(s,a,p)}return a.flags|=1,s=ks(y,u),s.ref=a.ref,s.return=a,a.child=s}function Eb(s,a,l,u,p){if(s!==null){var y=s.memoizedProps;if(Uc(y,u)&&s.ref===a.ref)if(Xt=!1,a.pendingProps=u=y,kg(s,p))(s.flags&131072)!==0&&(Xt=!0);else return a.lanes=s.lanes,Us(s,a,p)}return Sg(s,a,l,u,p)}function bb(s,a,l){var u=a.pendingProps,p=u.children,y=s!==null?s.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=y!==null?y.baseLanes|l:l,s!==null){for(p=a.child=s.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;a.childLanes=y&~u}else a.childLanes=0,a.child=null;return wb(s,a,u,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Rf(a,y!==null?y.cachePool:null),y!==null?EE(a,y):sg(),cb(a);else return a.lanes=a.childLanes=536870912,wb(s,a,y!==null?y.baseLanes|l:l,l)}else y!==null?(Rf(a,y.cachePool),EE(a,y),Ar(),a.memoizedState=null):(s!==null&&Rf(a,null),sg(),Ar());return ln(s,a,p,l),a.child}function wb(s,a,l,u){var p=Zp();return p=p===null?null:{parent:Ht._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},s!==null&&Rf(a,null),sg(),cb(a),s!==null&&qc(s,a,u,!0),null}function Gf(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function Sg(s,a,l,u,p){return Fa(a),l=og(s,a,l,u,void 0,p),u=lg(),s!==null&&!Xt?(cg(s,a,p),Us(s,a,p)):(We&&u&&qp(a),a.flags|=1,ln(s,a,l,p),a.child)}function xb(s,a,l,u,p,y){return Fa(a),a.updateQueue=null,l=wE(a,u,l,p),bE(s),u=lg(),s!==null&&!Xt?(cg(s,a,y),Us(s,a,y)):(We&&u&&qp(a),a.flags|=1,ln(s,a,l,y),a.child)}function Sb(s,a,l,u,p){if(Fa(a),a.stateNode===null){var y=Wo,w=l.contextType;typeof w=="object"&&w!==null&&(y=gn(w)),y=new l(u,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=wg,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=u,y.state=a.memoizedState,y.refs={},eg(a),w=l.contextType,y.context=typeof w=="object"&&w!==null?gn(w):Wo,y.state=a.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(bg(a,l,w,u),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&wg.enqueueReplaceState(y,y.state,null),Xc(a,u,y,p),Qc(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(s===null){y=a.stateNode;var S=a.memoizedProps,M=qa(l,S);y.props=M;var K=y.context,ee=l.contextType;w=Wo,typeof ee=="object"&&ee!==null&&(w=gn(ee));var ie=l.getDerivedStateFromProps;ee=typeof ie=="function"||typeof y.getSnapshotBeforeUpdate=="function",S=a.pendingProps!==S,ee||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S||K!==w)&&hb(a,y,u,w),Er=!1;var W=a.memoizedState;y.state=W,Xc(a,u,y,p),Qc(),K=a.memoizedState,S||W!==K||Er?(typeof ie=="function"&&(bg(a,l,ie,u),K=a.memoizedState),(M=Er||ub(a,l,M,u,W,K,w))?(ee||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=K),y.props=u,y.state=K,y.context=w,u=M):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{y=a.stateNode,tg(s,a),w=a.memoizedProps,ee=qa(l,w),y.props=ee,ie=a.pendingProps,W=y.context,K=l.contextType,M=Wo,typeof K=="object"&&K!==null&&(M=gn(K)),S=l.getDerivedStateFromProps,(K=typeof S=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==ie||W!==M)&&hb(a,y,u,M),Er=!1,W=a.memoizedState,y.state=W,Xc(a,u,y,p),Qc();var X=a.memoizedState;w!==ie||W!==X||Er||s!==null&&s.dependencies!==null&&Af(s.dependencies)?(typeof S=="function"&&(bg(a,l,S,u),X=a.memoizedState),(ee=Er||ub(a,l,ee,u,W,X,M)||s!==null&&s.dependencies!==null&&Af(s.dependencies))?(K||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,X,M),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,X,M)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===s.memoizedProps&&W===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&W===s.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=X),y.props=u,y.state=X,y.context=M,u=ee):(typeof y.componentDidUpdate!="function"||w===s.memoizedProps&&W===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&W===s.memoizedState||(a.flags|=1024),u=!1)}return y=u,Gf(s,a),u=(a.flags&128)!==0,y||u?(y=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&u?(a.child=sl(a,s.child,null,p),a.child=sl(a,null,l,p)):ln(s,a,l,p),a.memoizedState=y.state,s=a.child):s=Us(s,a,p),s}function Ab(s,a,l,u){return zc(),a.flags|=256,ln(s,a,l,u),a.child}var Ag={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cg(s){return{baseLanes:s,cachePool:dE()}}function Rg(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=fi),s}function Cb(s,a,l){var u=a.pendingProps,p=!1,y=(a.flags&128)!==0,w;if((w=y)||(w=s!==null&&s.memoizedState===null?!1:(qt.current&2)!==0),w&&(p=!0,a.flags&=-129),w=(a.flags&32)!==0,a.flags&=-33,s===null){if(We){if(p?Sr(a):Ar(),We){var S=xt,M;if(M=S){e:{for(M=S,S=Qi;M.nodeType!==8;){if(!S){S=null;break e}if(M=Ci(M.nextSibling),M===null){S=null;break e}}S=M}S!==null?(a.memoizedState={dehydrated:S,treeContext:Va!==null?{id:Ps,overflow:Os}:null,retryLane:536870912,hydrationErrors:null},M=Gn(18,null,null,0),M.stateNode=S,M.return=a,a.child=M,Dn=a,xt=null,M=!0):M=!1}M||Ua(a)}if(S=a.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return hy(S)?a.lanes=32:a.lanes=536870912,null;js(a)}return S=u.children,u=u.fallback,p?(Ar(),p=a.mode,S=$f({mode:"hidden",children:S},p),u=Ma(u,p,l,null),S.return=a,u.return=a,S.sibling=u,a.child=S,p=a.child,p.memoizedState=Cg(l),p.childLanes=Rg(s,w,l),a.memoizedState=Ag,u):(Sr(a),Ig(a,S))}if(M=s.memoizedState,M!==null&&(S=M.dehydrated,S!==null)){if(y)a.flags&256?(Sr(a),a.flags&=-257,a=Ng(s,a,l)):a.memoizedState!==null?(Ar(),a.child=s.child,a.flags|=128,a=null):(Ar(),p=u.fallback,S=a.mode,u=$f({mode:"visible",children:u.children},S),p=Ma(p,S,l,null),p.flags|=2,u.return=a,p.return=a,u.sibling=p,a.child=u,sl(a,s.child,null,l),u=a.child,u.memoizedState=Cg(l),u.childLanes=Rg(s,w,l),a.memoizedState=Ag,a=p);else if(Sr(a),hy(S)){if(w=S.nextSibling&&S.nextSibling.dataset,w)var K=w.dgst;w=K,u=Error(i(419)),u.stack="",u.digest=w,Hc({value:u,source:null,stack:null}),a=Ng(s,a,l)}else if(Xt||qc(s,a,l,!1),w=(l&s.childLanes)!==0,Xt||w){if(w=ct,w!==null&&(u=l&-l,u=(u&42)!==0?1:dr(u),u=(u&(w.suspendedLanes|l))!==0?0:u,u!==0&&u!==M.retryLane))throw M.retryLane=u,Ko(s,u),Qn(w,s,u),_b;S.data==="$?"||Wg(),a=Ng(s,a,l)}else S.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=M.treeContext,xt=Ci(S.nextSibling),Dn=a,We=!0,ja=null,Qi=!1,s!==null&&(ci[ui++]=Ps,ci[ui++]=Os,ci[ui++]=Va,Ps=s.id,Os=s.overflow,Va=a),a=Ig(a,u.children),a.flags|=4096);return a}return p?(Ar(),p=u.fallback,S=a.mode,M=s.child,K=M.sibling,u=ks(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&65011712,K!==null?p=ks(K,p):(p=Ma(p,S,l,null),p.flags|=2),p.return=a,u.return=a,u.sibling=p,a.child=u,u=p,p=a.child,S=s.child.memoizedState,S===null?S=Cg(l):(M=S.cachePool,M!==null?(K=Ht._currentValue,M=M.parent!==K?{parent:K,pool:K}:M):M=dE(),S={baseLanes:S.baseLanes|l,cachePool:M}),p.memoizedState=S,p.childLanes=Rg(s,w,l),a.memoizedState=Ag,u):(Sr(a),l=s.child,s=l.sibling,l=ks(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,s!==null&&(w=a.deletions,w===null?(a.deletions=[s],a.flags|=16):w.push(s)),a.child=l,a.memoizedState=null,l)}function Ig(s,a){return a=$f({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function $f(s,a){return s=Gn(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Ng(s,a,l){return sl(a,s.child,null,l),s=Ig(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Rb(s,a,l){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a),Wp(s.return,a,l)}function Dg(s,a,l,u,p){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:p}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=l,y.tailMode=p)}function Ib(s,a,l){var u=a.pendingProps,p=u.revealOrder,y=u.tail;if(ln(s,a,u.children,l),u=qt.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Rb(s,l,a);else if(s.tag===19)Rb(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}u&=1}switch(le(qt,u),p){case"forwards":for(l=a.child,p=null;l!==null;)s=l.alternate,s!==null&&zf(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=a.child,a.child=null):(p=l.sibling,l.sibling=null),Dg(a,!1,p,l,y);break;case"backwards":for(l=null,p=a.child,a.child=null;p!==null;){if(s=p.alternate,s!==null&&zf(s)===null){a.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}Dg(a,!0,l,null,y);break;case"together":Dg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Us(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),Dr|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(qc(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=ks(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=ks(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function kg(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Af(s)))}function tP(s,a,l){switch(a.tag){case 3:lt(a,a.stateNode.containerInfo),Tr(a,Ht,s.memoizedState.cache),zc();break;case 27:case 5:fr(a);break;case 4:lt(a,a.stateNode.containerInfo);break;case 10:Tr(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Sr(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Cb(s,a,l):(Sr(a),s=Us(s,a,l),s!==null?s.sibling:null);Sr(a);break;case 19:var p=(s.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(qc(s,a,l,!1),u=(l&a.childLanes)!==0),p){if(u)return Ib(s,a,l);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),le(qt,qt.current),u)break;return null;case 22:case 23:return a.lanes=0,bb(s,a,l);case 24:Tr(a,Ht,s.memoizedState.cache)}return Us(s,a,l)}function Nb(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)Xt=!0;else{if(!kg(s,l)&&(a.flags&128)===0)return Xt=!1,tP(s,a,l);Xt=(s.flags&131072)!==0}else Xt=!1,We&&(a.flags&1048576)!==0&&aE(a,Sf,a.index);switch(a.lanes=0,a.tag){case 16:e:{s=a.pendingProps;var u=a.elementType,p=u._init;if(u=p(u._payload),a.type=u,typeof u=="function")Fp(u)?(s=qa(u,s),a.tag=1,a=Sb(null,a,u,s,l)):(a.tag=0,a=Sg(null,a,u,s,l));else{if(u!=null){if(p=u.$$typeof,p===Q){a.tag=11,a=vb(null,a,u,s,l);break e}else if(p===k){a.tag=14,a=Tb(null,a,u,s,l);break e}}throw a=pt(u)||u,Error(i(306,a,""))}}return a;case 0:return Sg(s,a,a.type,a.pendingProps,l);case 1:return u=a.type,p=qa(u,a.pendingProps),Sb(s,a,u,p,l);case 3:e:{if(lt(a,a.stateNode.containerInfo),s===null)throw Error(i(387));u=a.pendingProps;var y=a.memoizedState;p=y.element,tg(s,a),Xc(a,u,null,l);var w=a.memoizedState;if(u=w.cache,Tr(a,Ht,u),u!==y.cache&&Yp(a,[Ht],l,!0),Qc(),u=w.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:w.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=Ab(s,a,u,l);break e}else if(u!==p){p=oi(Error(i(424)),a),Hc(p),a=Ab(s,a,u,l);break e}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(xt=Ci(s.firstChild),Dn=a,We=!0,ja=null,Qi=!0,l=lb(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(zc(),u===p){a=Us(s,a,l);break e}ln(s,a,u,l)}a=a.child}return a;case 26:return Gf(s,a),s===null?(l=Ow(a.type,null,a.pendingProps,null))?a.memoizedState=l:We||(l=a.type,s=a.pendingProps,u=ad(Se.current).createElement(l),u[Bt]=a,u[Ot]=s,un(u,l,s),It(u),a.stateNode=u):a.memoizedState=Ow(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return fr(a),s===null&&We&&(u=a.stateNode=Dw(a.type,a.pendingProps,Se.current),Dn=a,Qi=!0,p=xt,Mr(a.type)?(fy=p,xt=Ci(u.firstChild)):xt=p),ln(s,a,a.pendingProps.children,l),Gf(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&We&&((p=u=xt)&&(u=IP(u,a.type,a.pendingProps,Qi),u!==null?(a.stateNode=u,Dn=a,xt=Ci(u.firstChild),Qi=!1,p=!0):p=!1),p||Ua(a)),fr(a),p=a.type,y=a.pendingProps,w=s!==null?s.memoizedProps:null,u=y.children,ly(p,y)?u=null:w!==null&&ly(p,w)&&(a.flags|=32),a.memoizedState!==null&&(p=og(s,a,Kk,null,null,l),vu._currentValue=p),Gf(s,a),ln(s,a,u,l),a.child;case 6:return s===null&&We&&((s=l=xt)&&(l=NP(l,a.pendingProps,Qi),l!==null?(a.stateNode=l,Dn=a,xt=null,s=!0):s=!1),s||Ua(a)),null;case 13:return Cb(s,a,l);case 4:return lt(a,a.stateNode.containerInfo),u=a.pendingProps,s===null?a.child=sl(a,null,u,l):ln(s,a,u,l),a.child;case 11:return vb(s,a,a.type,a.pendingProps,l);case 7:return ln(s,a,a.pendingProps,l),a.child;case 8:return ln(s,a,a.pendingProps.children,l),a.child;case 12:return ln(s,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,Tr(a,a.type,u.value),ln(s,a,u.children,l),a.child;case 9:return p=a.type._context,u=a.pendingProps.children,Fa(a),p=gn(p),u=u(p),a.flags|=1,ln(s,a,u,l),a.child;case 14:return Tb(s,a,a.type,a.pendingProps,l);case 15:return Eb(s,a,a.type,a.pendingProps,l);case 19:return Ib(s,a,l);case 31:return u=a.pendingProps,l=a.mode,u={mode:u.mode,children:u.children},s===null?(l=$f(u,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=ks(s.child,u),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return bb(s,a,l);case 24:return Fa(a),u=gn(Ht),s===null?(p=Zp(),p===null&&(p=ct,y=Qp(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=l),p=y),a.memoizedState={parent:u,cache:p},eg(a),Tr(a,Ht,p)):((s.lanes&l)!==0&&(tg(s,a),Xc(a,null,null,l),Qc()),p=s.memoizedState,y=a.memoizedState,p.parent!==u?(p={parent:u,cache:u},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),Tr(a,Ht,u)):(u=y.cache,Tr(a,Ht,u),u!==p.cache&&Yp(a,[Ht],l,!0))),ln(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Bs(s){s.flags|=4}function Db(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Uw(a)){if(a=hi.current,a!==null&&((ze&4194048)===ze?Xi!==null:(ze&62914560)!==ze&&(ze&536870912)===0||a!==Xi))throw Wc=Jp,mE;s.flags|=8192}}function Kf(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Ec():536870912,s.lanes|=a,ll|=a)}function su(s,a){if(!We)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function Tt(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(a)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=u,s.childLanes=l,a}function nP(s,a,l){var u=a.pendingProps;switch(Gp(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(a),null;case 1:return Tt(a),null;case 3:return l=a.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Vs(Ht),ji(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Fc(a)?Bs(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,cE())),Tt(a),null;case 26:return l=a.memoizedState,s===null?(Bs(a),l!==null?(Tt(a),Db(a,l)):(Tt(a),a.flags&=-16777217)):l?l!==s.memoizedState?(Bs(a),Tt(a),Db(a,l)):(Tt(a),a.flags&=-16777217):(s.memoizedProps!==u&&Bs(a),Tt(a),a.flags&=-16777217),null;case 27:vs(a),l=Se.current;var p=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==u&&Bs(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return Tt(a),null}s=ye.current,Fc(a)?oE(a):(s=Dw(p,u,l),a.stateNode=s,Bs(a))}return Tt(a),null;case 5:if(vs(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&Bs(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return Tt(a),null}if(s=ye.current,Fc(a))oE(a);else{switch(p=ad(Se.current),s){case 1:s=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=p.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof u.is=="string"?p.createElement("select",{is:u.is}):p.createElement("select"),u.multiple?s.multiple=!0:u.size&&(s.size=u.size);break;default:s=typeof u.is=="string"?p.createElement(l,{is:u.is}):p.createElement(l)}}s[Bt]=a,s[Ot]=u;e:for(p=a.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break e;for(;p.sibling===null;){if(p.return===null||p.return===a)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}a.stateNode=s;e:switch(un(s,l,u),l){case"button":case"input":case"select":case"textarea":s=!!u.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Bs(a)}}return Tt(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==u&&Bs(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(s=Se.current,Fc(a)){if(s=a.stateNode,l=a.memoizedProps,u=null,p=Dn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}s[Bt]=a,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||xw(s.nodeValue,l)),s||Ua(a)}else s=ad(s).createTextNode(u),s[Bt]=a,a.stateNode=s}return Tt(a),null;case 13:if(u=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=Fc(a),u!==null&&u.dehydrated!==null){if(s===null){if(!p)throw Error(i(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Bt]=a}else zc(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Tt(a),p=!1}else p=cE(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(js(a),a):(js(a),null)}if(js(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=u!==null,s=s!==null&&s.memoizedState!==null,l){u=a.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),Kf(a,a.updateQueue),Tt(a),null;case 4:return ji(),s===null&&iy(a.stateNode.containerInfo),Tt(a),null;case 10:return Vs(a.type),Tt(a),null;case 19:if(ue(qt),p=a.memoizedState,p===null)return Tt(a),null;if(u=(a.flags&128)!==0,y=p.rendering,y===null)if(u)su(p,!1);else{if(St!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(y=zf(s),y!==null){for(a.flags|=128,su(p,!1),s=y.updateQueue,a.updateQueue=s,Kf(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)rE(l,s),l=l.sibling;return le(qt,qt.current&1|2),a.child}s=s.sibling}p.tail!==null&&ti()>Qf&&(a.flags|=128,u=!0,su(p,!1),a.lanes=4194304)}else{if(!u)if(s=zf(y),s!==null){if(a.flags|=128,u=!0,s=s.updateQueue,a.updateQueue=s,Kf(a,s),su(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!We)return Tt(a),null}else 2*ti()-p.renderingStartTime>Qf&&l!==536870912&&(a.flags|=128,u=!0,su(p,!1),a.lanes=4194304);p.isBackwards?(y.sibling=a.child,a.child=y):(s=p.last,s!==null?s.sibling=y:a.child=y,p.last=y)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=ti(),a.sibling=null,s=qt.current,le(qt,u?s&1|2:s&1),a):(Tt(a),null);case 22:case 23:return js(a),rg(),u=a.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(Tt(a),a.subtreeFlags&6&&(a.flags|=8192)):Tt(a),l=a.updateQueue,l!==null&&Kf(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),s!==null&&ue(za),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Vs(Ht),Tt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function iP(s,a){switch(Gp(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Vs(Ht),ji(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return vs(a),null;case 13:if(js(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));zc()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return ue(qt),null;case 4:return ji(),null;case 10:return Vs(a.type),null;case 22:case 23:return js(a),rg(),s!==null&&ue(za),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Vs(Ht),null;case 25:return null;default:return null}}function kb(s,a){switch(Gp(a),a.tag){case 3:Vs(Ht),ji();break;case 26:case 27:case 5:vs(a);break;case 4:ji();break;case 13:js(a);break;case 19:ue(qt);break;case 10:Vs(a.type);break;case 22:case 23:js(a),rg(),s!==null&&ue(za);break;case 24:Vs(Ht)}}function ru(s,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var p=u.next;l=p;do{if((l.tag&s)===s){u=void 0;var y=l.create,w=l.inst;u=y(),w.destroy=u}l=l.next}while(l!==p)}}catch(S){at(a,a.return,S)}}function Cr(s,a,l){try{var u=a.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&s)===s){var w=u.inst,S=w.destroy;if(S!==void 0){w.destroy=void 0,p=a;var M=l,K=S;try{K()}catch(ee){at(p,M,ee)}}}u=u.next}while(u!==y)}}catch(ee){at(a,a.return,ee)}}function Pb(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{TE(a,l)}catch(u){at(s,s.return,u)}}}function Ob(s,a,l){l.props=qa(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){at(s,a,u)}}function au(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(p){at(s,a,p)}}function Zi(s,a){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(p){at(s,a,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){at(s,a,p)}else l.current=null}function Mb(s){var a=s.type,l=s.memoizedProps,u=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(p){at(s,s.return,p)}}function Pg(s,a,l){try{var u=s.stateNode;xP(u,s.type,l,a),u[Ot]=a}catch(p){at(s,s.return,p)}}function Vb(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Mr(s.type)||s.tag===4}function Og(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Vb(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Mr(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Mg(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=rd));else if(u!==4&&(u===27&&Mr(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(Mg(s,a,l),s=s.sibling;s!==null;)Mg(s,a,l),s=s.sibling}function Wf(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(u!==4&&(u===27&&Mr(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Wf(s,a,l),s=s.sibling;s!==null;)Wf(s,a,l),s=s.sibling}function Lb(s){var a=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);un(a,u,l),a[Bt]=s,a[Ot]=l}catch(y){at(s,s.return,y)}}var Fs=!1,Dt=!1,Vg=!1,jb=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function sP(s,a){if(s=s.containerInfo,ay=fd,s=YT(s),Op(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var w=0,S=-1,M=-1,K=0,ee=0,ie=s,W=null;t:for(;;){for(var X;ie!==l||p!==0&&ie.nodeType!==3||(S=w+p),ie!==y||u!==0&&ie.nodeType!==3||(M=w+u),ie.nodeType===3&&(w+=ie.nodeValue.length),(X=ie.firstChild)!==null;)W=ie,ie=X;for(;;){if(ie===s)break t;if(W===l&&++K===p&&(S=w),W===y&&++ee===u&&(M=w),(X=ie.nextSibling)!==null)break;ie=W,W=ie.parentNode}ie=X}l=S===-1||M===-1?null:{start:S,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(oy={focusedElem:s,selectionRange:l},fd=!1,Zt=a;Zt!==null;)if(a=Zt,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,Zt=s;else for(;Zt!==null;){switch(a=Zt,y=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,l=a,p=y.memoizedProps,y=y.memoizedState,u=l.stateNode;try{var we=qa(l.type,p,l.elementType===l.type);s=u.getSnapshotBeforeUpdate(we,y),u.__reactInternalSnapshotBeforeUpdate=s}catch(_e){at(l,l.return,_e)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)uy(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":uy(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,Zt=s;break}Zt=a.return}}function Ub(s,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Rr(s,l),u&4&&ru(5,l);break;case 1:if(Rr(s,l),u&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(w){at(l,l.return,w)}else{var p=qa(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(p,a,s.__reactInternalSnapshotBeforeUpdate)}catch(w){at(l,l.return,w)}}u&64&&Pb(l),u&512&&au(l,l.return);break;case 3:if(Rr(s,l),u&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{TE(s,a)}catch(w){at(l,l.return,w)}}break;case 27:a===null&&u&4&&Lb(l);case 26:case 5:Rr(s,l),a===null&&u&4&&Mb(l),u&512&&au(l,l.return);break;case 12:Rr(s,l);break;case 13:Rr(s,l),u&4&&zb(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=dP.bind(null,l),DP(s,l))));break;case 22:if(u=l.memoizedState!==null||Fs,!u){a=a!==null&&a.memoizedState!==null||Dt,p=Fs;var y=Dt;Fs=u,(Dt=a)&&!y?Ir(s,l,(l.subtreeFlags&8772)!==0):Rr(s,l),Fs=p,Dt=y}break;case 30:break;default:Rr(s,l)}}function Bb(s){var a=s.alternate;a!==null&&(s.alternate=null,Bb(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&gr(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var yt=null,Mn=!1;function zs(s,a,l){for(l=l.child;l!==null;)Fb(s,a,l),l=l.sibling}function Fb(s,a,l){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(wt,l)}catch{}switch(l.tag){case 26:Dt||Zi(l,a),zs(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Dt||Zi(l,a);var u=yt,p=Mn;Mr(l.type)&&(yt=l.stateNode,Mn=!1),zs(s,a,l),pu(l.stateNode),yt=u,Mn=p;break;case 5:Dt||Zi(l,a);case 6:if(u=yt,p=Mn,yt=null,zs(s,a,l),yt=u,Mn=p,yt!==null)if(Mn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(l.stateNode)}catch(y){at(l,a,y)}else try{yt.removeChild(l.stateNode)}catch(y){at(l,a,y)}break;case 18:yt!==null&&(Mn?(s=yt,Iw(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),wu(s)):Iw(yt,l.stateNode));break;case 4:u=yt,p=Mn,yt=l.stateNode.containerInfo,Mn=!0,zs(s,a,l),yt=u,Mn=p;break;case 0:case 11:case 14:case 15:Dt||Cr(2,l,a),Dt||Cr(4,l,a),zs(s,a,l);break;case 1:Dt||(Zi(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Ob(l,a,u)),zs(s,a,l);break;case 21:zs(s,a,l);break;case 22:Dt=(u=Dt)||l.memoizedState!==null,zs(s,a,l),Dt=u;break;default:zs(s,a,l)}}function zb(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{wu(s)}catch(l){at(a,a.return,l)}}function rP(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new jb),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new jb),a;default:throw Error(i(435,s.tag))}}function Lg(s,a){var l=rP(s);a.forEach(function(u){var p=mP.bind(null,s,u);l.has(u)||(l.add(u),u.then(p,p))})}function $n(s,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var p=l[u],y=s,w=a,S=w;e:for(;S!==null;){switch(S.tag){case 27:if(Mr(S.type)){yt=S.stateNode,Mn=!1;break e}break;case 5:yt=S.stateNode,Mn=!1;break e;case 3:case 4:yt=S.stateNode.containerInfo,Mn=!0;break e}S=S.return}if(yt===null)throw Error(i(160));Fb(y,w,p),yt=null,Mn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Hb(a,s),a=a.sibling}var Ai=null;function Hb(s,a){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:$n(a,s),Kn(s),u&4&&(Cr(3,s,s.return),ru(3,s),Cr(5,s,s.return));break;case 1:$n(a,s),Kn(s),u&512&&(Dt||l===null||Zi(l,l.return)),u&64&&Fs&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var p=Ai;if($n(a,s),Kn(s),u&512&&(Dt||l===null||Zi(l,l.return)),u&4){var y=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){e:{u=s.type,l=s.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":y=p.getElementsByTagName("title")[0],(!y||y[va]||y[Bt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(u),p.head.insertBefore(y,p.querySelector("head > title"))),un(y,u,l),y[Bt]=s,It(y),u=y;break e;case"link":var w=Lw("link","href",p).get(u+(l.href||""));if(w){for(var S=0;S<w.length;S++)if(y=w[S],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){w.splice(S,1);break t}}y=p.createElement(u),un(y,u,l),p.head.appendChild(y);break;case"meta":if(w=Lw("meta","content",p).get(u+(l.content||""))){for(S=0;S<w.length;S++)if(y=w[S],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){w.splice(S,1);break t}}y=p.createElement(u),un(y,u,l),p.head.appendChild(y);break;default:throw Error(i(468,u))}y[Bt]=s,It(y),u=y}s.stateNode=u}else jw(p,s.type,s.stateNode);else s.stateNode=Vw(p,u,s.memoizedProps);else y!==u?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,u===null?jw(p,s.type,s.stateNode):Vw(p,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Pg(s,s.memoizedProps,l.memoizedProps)}break;case 27:$n(a,s),Kn(s),u&512&&(Dt||l===null||Zi(l,l.return)),l!==null&&u&4&&Pg(s,s.memoizedProps,l.memoizedProps);break;case 5:if($n(a,s),Kn(s),u&512&&(Dt||l===null||Zi(l,l.return)),s.flags&32){p=s.stateNode;try{ii(p,"")}catch(X){at(s,s.return,X)}}u&4&&s.stateNode!=null&&(p=s.memoizedProps,Pg(s,p,l!==null?l.memoizedProps:p)),u&1024&&(Vg=!0);break;case 6:if($n(a,s),Kn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(X){at(s,s.return,X)}}break;case 3:if(cd=null,p=Ai,Ai=od(a.containerInfo),$n(a,s),Ai=p,Kn(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{wu(a.containerInfo)}catch(X){at(s,s.return,X)}Vg&&(Vg=!1,qb(s));break;case 4:u=Ai,Ai=od(s.stateNode.containerInfo),$n(a,s),Kn(s),Ai=u;break;case 12:$n(a,s),Kn(s);break;case 13:$n(a,s),Kn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Hg=ti()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Lg(s,u)));break;case 22:p=s.memoizedState!==null;var M=l!==null&&l.memoizedState!==null,K=Fs,ee=Dt;if(Fs=K||p,Dt=ee||M,$n(a,s),Dt=ee,Fs=K,Kn(s),u&8192)e:for(a=s.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(l===null||M||Fs||Dt||Ga(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){M=l=a;try{if(y=M.stateNode,p)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{S=M.stateNode;var ie=M.memoizedProps.style,W=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;S.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(X){at(M,M.return,X)}}}else if(a.tag===6){if(l===null){M=a;try{M.stateNode.nodeValue=p?"":M.memoizedProps}catch(X){at(M,M.return,X)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Lg(s,l))));break;case 19:$n(a,s),Kn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Lg(s,u)));break;case 30:break;case 21:break;default:$n(a,s),Kn(s)}}function Kn(s){var a=s.flags;if(a&2){try{for(var l,u=s.return;u!==null;){if(Vb(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var p=l.stateNode,y=Og(s);Wf(s,y,p);break;case 5:var w=l.stateNode;l.flags&32&&(ii(w,""),l.flags&=-33);var S=Og(s);Wf(s,S,w);break;case 3:case 4:var M=l.stateNode.containerInfo,K=Og(s);Mg(s,K,M);break;default:throw Error(i(161))}}catch(ee){at(s,s.return,ee)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function qb(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;qb(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Rr(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Ub(s,a.alternate,a),a=a.sibling}function Ga(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Cr(4,a,a.return),Ga(a);break;case 1:Zi(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Ob(a,a.return,l),Ga(a);break;case 27:pu(a.stateNode);case 26:case 5:Zi(a,a.return),Ga(a);break;case 22:a.memoizedState===null&&Ga(a);break;case 30:Ga(a);break;default:Ga(a)}s=s.sibling}}function Ir(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,p=s,y=a,w=y.flags;switch(y.tag){case 0:case 11:case 15:Ir(p,y,l),ru(4,y);break;case 1:if(Ir(p,y,l),u=y,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(K){at(u,u.return,K)}if(u=y,p=u.updateQueue,p!==null){var S=u.stateNode;try{var M=p.shared.hiddenCallbacks;if(M!==null)for(p.shared.hiddenCallbacks=null,p=0;p<M.length;p++)vE(M[p],S)}catch(K){at(u,u.return,K)}}l&&w&64&&Pb(y),au(y,y.return);break;case 27:Lb(y);case 26:case 5:Ir(p,y,l),l&&u===null&&w&4&&Mb(y),au(y,y.return);break;case 12:Ir(p,y,l);break;case 13:Ir(p,y,l),l&&w&4&&zb(p,y);break;case 22:y.memoizedState===null&&Ir(p,y,l),au(y,y.return);break;case 30:break;default:Ir(p,y,l)}a=a.sibling}}function jg(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Gc(l))}function Ug(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Gc(s))}function Ji(s,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Gb(s,a,l,u),a=a.sibling}function Gb(s,a,l,u){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Ji(s,a,l,u),p&2048&&ru(9,a);break;case 1:Ji(s,a,l,u);break;case 3:Ji(s,a,l,u),p&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Gc(s)));break;case 12:if(p&2048){Ji(s,a,l,u),s=a.stateNode;try{var y=a.memoizedProps,w=y.id,S=y.onPostCommit;typeof S=="function"&&S(w,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(M){at(a,a.return,M)}}else Ji(s,a,l,u);break;case 13:Ji(s,a,l,u);break;case 23:break;case 22:y=a.stateNode,w=a.alternate,a.memoizedState!==null?y._visibility&2?Ji(s,a,l,u):ou(s,a):y._visibility&2?Ji(s,a,l,u):(y._visibility|=2,rl(s,a,l,u,(a.subtreeFlags&10256)!==0)),p&2048&&jg(w,a);break;case 24:Ji(s,a,l,u),p&2048&&Ug(a.alternate,a);break;default:Ji(s,a,l,u)}}function rl(s,a,l,u,p){for(p=p&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=s,w=a,S=l,M=u,K=w.flags;switch(w.tag){case 0:case 11:case 15:rl(y,w,S,M,p),ru(8,w);break;case 23:break;case 22:var ee=w.stateNode;w.memoizedState!==null?ee._visibility&2?rl(y,w,S,M,p):ou(y,w):(ee._visibility|=2,rl(y,w,S,M,p)),p&&K&2048&&jg(w.alternate,w);break;case 24:rl(y,w,S,M,p),p&&K&2048&&Ug(w.alternate,w);break;default:rl(y,w,S,M,p)}a=a.sibling}}function ou(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,u=a,p=u.flags;switch(u.tag){case 22:ou(l,u),p&2048&&jg(u.alternate,u);break;case 24:ou(l,u),p&2048&&Ug(u.alternate,u);break;default:ou(l,u)}a=a.sibling}}var lu=8192;function al(s){if(s.subtreeFlags&lu)for(s=s.child;s!==null;)$b(s),s=s.sibling}function $b(s){switch(s.tag){case 26:al(s),s.flags&lu&&s.memoizedState!==null&&qP(Ai,s.memoizedState,s.memoizedProps);break;case 5:al(s);break;case 3:case 4:var a=Ai;Ai=od(s.stateNode.containerInfo),al(s),Ai=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=lu,lu=16777216,al(s),lu=a):al(s));break;default:al(s)}}function Kb(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function cu(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Zt=u,Yb(u,s)}Kb(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Wb(s),s=s.sibling}function Wb(s){switch(s.tag){case 0:case 11:case 15:cu(s),s.flags&2048&&Cr(9,s,s.return);break;case 3:cu(s);break;case 12:cu(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Yf(s)):cu(s);break;default:cu(s)}}function Yf(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Zt=u,Yb(u,s)}Kb(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Cr(8,a,a.return),Yf(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Yf(a));break;default:Yf(a)}s=s.sibling}}function Yb(s,a){for(;Zt!==null;){var l=Zt;switch(l.tag){case 0:case 11:case 15:Cr(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Gc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Zt=u;else e:for(l=s;Zt!==null;){u=Zt;var p=u.sibling,y=u.return;if(Bb(u),u===l){Zt=null;break e}if(p!==null){p.return=y,Zt=p;break e}Zt=y}}}var aP={getCacheForType:function(s){var a=gn(Ht),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},oP=typeof WeakMap=="function"?WeakMap:Map,Je=0,ct=null,Oe=null,ze=0,et=0,Wn=null,Nr=!1,ol=!1,Bg=!1,Hs=0,St=0,Dr=0,$a=0,Fg=0,fi=0,ll=0,uu=null,Vn=null,zg=!1,Hg=0,Qf=1/0,Xf=null,kr=null,cn=0,Pr=null,cl=null,ul=0,qg=0,Gg=null,Qb=null,hu=0,$g=null;function Yn(){if((Je&2)!==0&&ze!==0)return ze&-ze;if(J.T!==null){var s=Xo;return s!==0?s:Jg()}return mr()}function Xb(){fi===0&&(fi=(ze&536870912)===0||We?Tc():536870912);var s=hi.current;return s!==null&&(s.flags|=32),fi}function Qn(s,a,l){(s===ct&&(et===2||et===9)||s.cancelPendingCommit!==null)&&(hl(s,0),Or(s,ze,fi,!1)),Es(s,l),((Je&2)===0||s!==ct)&&(s===ct&&((Je&2)===0&&($a|=l),St===4&&Or(s,ze,fi,!1)),es(s))}function Zb(s,a,l){if((Je&6)!==0)throw Error(i(327));var u=!l&&(a&124)===0&&(a&s.expiredLanes)===0||_a(s,a),p=u?uP(s,a):Yg(s,a,!0),y=u;do{if(p===0){ol&&!u&&Or(s,a,0,!1);break}else{if(l=s.current.alternate,y&&!lP(l)){p=Yg(s,a,!1),y=!1;continue}if(p===2){if(y=a,s.errorRecoveryDisabledLanes&y)var w=0;else w=s.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){a=w;e:{var S=s;p=uu;var M=S.current.memoizedState.isDehydrated;if(M&&(hl(S,w).flags|=256),w=Yg(S,w,!1),w!==2){if(Bg&&!M){S.errorRecoveryDisabledLanes|=y,$a|=y,p=4;break e}y=Vn,Vn=p,y!==null&&(Vn===null?Vn=y:Vn.push.apply(Vn,y))}p=w}if(y=!1,p!==2)continue}}if(p===1){hl(s,0),Or(s,a,0,!0);break}e:{switch(u=s,y=p,y){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Or(u,a,fi,!Nr);break e;case 2:Vn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(p=Hg+300-ti(),10<p)){if(Or(u,a,fi,!Nr),Ro(u,0,!0)!==0)break e;u.timeoutHandle=Cw(Jb.bind(null,u,l,Vn,Xf,zg,a,fi,$a,ll,Nr,y,2,-0,0),p);break e}Jb(u,l,Vn,Xf,zg,a,fi,$a,ll,Nr,y,0,-0,0)}}break}while(!0);es(s)}function Jb(s,a,l,u,p,y,w,S,M,K,ee,ie,W,X){if(s.timeoutHandle=-1,ie=a.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(_u={stylesheets:null,count:0,unsuspend:HP},$b(a),ie=GP(),ie!==null)){s.cancelPendingCommit=ie(aw.bind(null,s,a,y,l,u,p,w,S,M,ee,1,W,X)),Or(s,y,w,!K);return}aw(s,a,y,l,u,p,w,S,M)}function lP(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var p=l[u],y=p.getSnapshot;p=p.value;try{if(!qn(y(),p))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Or(s,a,l,u){a&=~Fg,a&=~$a,s.suspendedLanes|=a,s.pingedLanes&=~a,u&&(s.warmLanes|=a),u=s.expirationTimes;for(var p=a;0<p;){var y=31-pn(p),w=1<<y;u[y]=-1,p&=~w}l!==0&&Ui(s,l,a)}function Zf(){return(Je&6)===0?(fu(0),!1):!0}function Kg(){if(Oe!==null){if(et===0)var s=Oe.return;else s=Oe,Ms=Ba=null,ug(s),il=null,nu=0,s=Oe;for(;s!==null;)kb(s.alternate,s),s=s.return;Oe=null}}function hl(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,AP(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Kg(),ct=s,Oe=l=ks(s.current,null),ze=a,et=0,Wn=null,Nr=!1,ol=_a(s,a),Bg=!1,ll=fi=Fg=$a=Dr=St=0,Vn=uu=null,zg=!1,(a&8)!==0&&(a|=a&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=a;0<u;){var p=31-pn(u),y=1<<p;a|=s[p],u&=~y}return Hs=a,Tf(),l}function ew(s,a){Ne=null,J.H=Uf,a===Kc||a===If?(a=yE(),et=3):a===mE?(a=yE(),et=4):et=a===_b?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Wn=a,Oe===null&&(St=1,qf(s,oi(a,s.current)))}function tw(){var s=J.H;return J.H=Uf,s===null?Uf:s}function nw(){var s=J.A;return J.A=aP,s}function Wg(){St=4,Nr||(ze&4194048)!==ze&&hi.current!==null||(ol=!0),(Dr&134217727)===0&&($a&134217727)===0||ct===null||Or(ct,ze,fi,!1)}function Yg(s,a,l){var u=Je;Je|=2;var p=tw(),y=nw();(ct!==s||ze!==a)&&(Xf=null,hl(s,a)),a=!1;var w=St;e:do try{if(et!==0&&Oe!==null){var S=Oe,M=Wn;switch(et){case 8:Kg(),w=6;break e;case 3:case 2:case 9:case 6:hi.current===null&&(a=!0);var K=et;if(et=0,Wn=null,fl(s,S,M,K),l&&ol){w=0;break e}break;default:K=et,et=0,Wn=null,fl(s,S,M,K)}}cP(),w=St;break}catch(ee){ew(s,ee)}while(!0);return a&&s.shellSuspendCounter++,Ms=Ba=null,Je=u,J.H=p,J.A=y,Oe===null&&(ct=null,ze=0,Tf()),w}function cP(){for(;Oe!==null;)iw(Oe)}function uP(s,a){var l=Je;Je|=2;var u=tw(),p=nw();ct!==s||ze!==a?(Xf=null,Qf=ti()+500,hl(s,a)):ol=_a(s,a);e:do try{if(et!==0&&Oe!==null){a=Oe;var y=Wn;t:switch(et){case 1:et=0,Wn=null,fl(s,a,y,1);break;case 2:case 9:if(pE(y)){et=0,Wn=null,sw(a);break}a=function(){et!==2&&et!==9||ct!==s||(et=7),es(s)},y.then(a,a);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:pE(y)?(et=0,Wn=null,sw(a)):(et=0,Wn=null,fl(s,a,y,7));break;case 5:var w=null;switch(Oe.tag){case 26:w=Oe.memoizedState;case 5:case 27:var S=Oe;if(!w||Uw(w)){et=0,Wn=null;var M=S.sibling;if(M!==null)Oe=M;else{var K=S.return;K!==null?(Oe=K,Jf(K)):Oe=null}break t}}et=0,Wn=null,fl(s,a,y,5);break;case 6:et=0,Wn=null,fl(s,a,y,6);break;case 8:Kg(),St=6;break e;default:throw Error(i(462))}}hP();break}catch(ee){ew(s,ee)}while(!0);return Ms=Ba=null,J.H=u,J.A=p,Je=l,Oe!==null?0:(ct=null,ze=0,Tf(),St)}function hP(){for(;Oe!==null&&!gc();)iw(Oe)}function iw(s){var a=Nb(s.alternate,s,Hs);s.memoizedProps=s.pendingProps,a===null?Jf(s):Oe=a}function sw(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=xb(l,a,a.pendingProps,a.type,void 0,ze);break;case 11:a=xb(l,a,a.pendingProps,a.type.render,a.ref,ze);break;case 5:ug(a);default:kb(l,a),a=Oe=rE(a,Hs),a=Nb(l,a,Hs)}s.memoizedProps=s.pendingProps,a===null?Jf(s):Oe=a}function fl(s,a,l,u){Ms=Ba=null,ug(a),il=null,nu=0;var p=a.return;try{if(eP(s,p,a,l,ze)){St=1,qf(s,oi(l,s.current)),Oe=null;return}}catch(y){if(p!==null)throw Oe=p,y;St=1,qf(s,oi(l,s.current)),Oe=null;return}a.flags&32768?(We||u===1?s=!0:ol||(ze&536870912)!==0?s=!1:(Nr=s=!0,(u===2||u===9||u===3||u===6)&&(u=hi.current,u!==null&&u.tag===13&&(u.flags|=16384))),rw(a,s)):Jf(a)}function Jf(s){var a=s;do{if((a.flags&32768)!==0){rw(a,Nr);return}s=a.return;var l=nP(a.alternate,a,Hs);if(l!==null){Oe=l;return}if(a=a.sibling,a!==null){Oe=a;return}Oe=a=s}while(a!==null);St===0&&(St=5)}function rw(s,a){do{var l=iP(s.alternate,s);if(l!==null){l.flags&=32767,Oe=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Oe=s;return}Oe=s=l}while(s!==null);St=6,Oe=null}function aw(s,a,l,u,p,y,w,S,M){s.cancelPendingCommit=null;do ed();while(cn!==0);if((Je&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(y=a.lanes|a.childLanes,y|=Up,bc(s,l,y,w,S,M),s===ct&&(Oe=ct=null,ze=0),cl=a,Pr=s,ul=l,qg=y,Gg=p,Qb=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,pP(ma,function(){return hw(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=J.T,J.T=null,p=ae.p,ae.p=2,w=Je,Je|=4;try{sP(s,a,l)}finally{Je=w,ae.p=p,J.T=u}}cn=1,ow(),lw(),cw()}}function ow(){if(cn===1){cn=0;var s=Pr,a=cl,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=J.T,J.T=null;var u=ae.p;ae.p=2;var p=Je;Je|=4;try{Hb(a,s);var y=oy,w=YT(s.containerInfo),S=y.focusedElem,M=y.selectionRange;if(w!==S&&S&&S.ownerDocument&&WT(S.ownerDocument.documentElement,S)){if(M!==null&&Op(S)){var K=M.start,ee=M.end;if(ee===void 0&&(ee=K),"selectionStart"in S)S.selectionStart=K,S.selectionEnd=Math.min(ee,S.value.length);else{var ie=S.ownerDocument||document,W=ie&&ie.defaultView||window;if(W.getSelection){var X=W.getSelection(),we=S.textContent.length,_e=Math.min(M.start,we),st=M.end===void 0?_e:Math.min(M.end,we);!X.extend&&_e>st&&(w=st,st=_e,_e=w);var q=KT(S,_e),H=KT(S,st);if(q&&H&&(X.rangeCount!==1||X.anchorNode!==q.node||X.anchorOffset!==q.offset||X.focusNode!==H.node||X.focusOffset!==H.offset)){var $=ie.createRange();$.setStart(q.node,q.offset),X.removeAllRanges(),_e>st?(X.addRange($),X.extend(H.node,H.offset)):($.setEnd(H.node,H.offset),X.addRange($))}}}}for(ie=[],X=S;X=X.parentNode;)X.nodeType===1&&ie.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ie.length;S++){var te=ie[S];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}fd=!!ay,oy=ay=null}finally{Je=p,ae.p=u,J.T=l}}s.current=a,cn=2}}function lw(){if(cn===2){cn=0;var s=Pr,a=cl,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=J.T,J.T=null;var u=ae.p;ae.p=2;var p=Je;Je|=4;try{Ub(s,a.alternate,a)}finally{Je=p,ae.p=u,J.T=l}}cn=3}}function cw(){if(cn===4||cn===3){cn=0,Wh();var s=Pr,a=cl,l=ul,u=Qb;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?cn=5:(cn=0,cl=Pr=null,uw(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(kr=null),Io(l),a=a.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(wt,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=J.T,p=ae.p,ae.p=2,J.T=null;try{for(var y=s.onRecoverableError,w=0;w<u.length;w++){var S=u[w];y(S.value,{componentStack:S.stack})}}finally{J.T=a,ae.p=p}}(ul&3)!==0&&ed(),es(s),p=s.pendingLanes,(l&4194090)!==0&&(p&42)!==0?s===$g?hu++:(hu=0,$g=s):hu=0,fu(0)}}function uw(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Gc(a)))}function ed(s){return ow(),lw(),cw(),hw()}function hw(){if(cn!==5)return!1;var s=Pr,a=qg;qg=0;var l=Io(ul),u=J.T,p=ae.p;try{ae.p=32>l?32:l,J.T=null,l=Gg,Gg=null;var y=Pr,w=ul;if(cn=0,cl=Pr=null,ul=0,(Je&6)!==0)throw Error(i(331));var S=Je;if(Je|=4,Wb(y.current),Gb(y,y.current,w,l),Je=S,fu(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(wt,y)}catch{}return!0}finally{ae.p=p,J.T=u,uw(s,a)}}function fw(s,a,l){a=oi(l,a),a=xg(s.stateNode,a,2),s=wr(s,a,2),s!==null&&(Es(s,2),es(s))}function at(s,a,l){if(s.tag===3)fw(s,s,l);else for(;a!==null;){if(a.tag===3){fw(a,s,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(kr===null||!kr.has(u))){s=oi(l,s),l=gb(2),u=wr(a,l,2),u!==null&&(yb(l,u,a,s),Es(u,2),es(u));break}}a=a.return}}function Qg(s,a,l){var u=s.pingCache;if(u===null){u=s.pingCache=new oP;var p=new Set;u.set(a,p)}else p=u.get(a),p===void 0&&(p=new Set,u.set(a,p));p.has(l)||(Bg=!0,p.add(l),s=fP.bind(null,s,a,l),a.then(s,s))}function fP(s,a,l){var u=s.pingCache;u!==null&&u.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,ct===s&&(ze&l)===l&&(St===4||St===3&&(ze&62914560)===ze&&300>ti()-Hg?(Je&2)===0&&hl(s,0):Fg|=l,ll===ze&&(ll=0)),es(s)}function dw(s,a){a===0&&(a=Ec()),s=Ko(s,a),s!==null&&(Es(s,a),es(s))}function dP(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),dw(s,l)}function mP(s,a){var l=0;switch(s.tag){case 13:var u=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),dw(s,l)}function pP(s,a){return fa(s,a)}var td=null,dl=null,Xg=!1,nd=!1,Zg=!1,Ka=0;function es(s){s!==dl&&s.next===null&&(dl===null?td=dl=s:dl=dl.next=s),nd=!0,Xg||(Xg=!0,yP())}function fu(s,a){if(!Zg&&nd){Zg=!0;do for(var l=!1,u=td;u!==null;){if(s!==0){var p=u.pendingLanes;if(p===0)var y=0;else{var w=u.suspendedLanes,S=u.pingedLanes;y=(1<<31-pn(42|s)+1)-1,y&=p&~(w&~S),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,yw(u,y))}else y=ze,y=Ro(u,u===ct?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||_a(u,y)||(l=!0,yw(u,y));u=u.next}while(l);Zg=!1}}function gP(){mw()}function mw(){nd=Xg=!1;var s=0;Ka!==0&&(SP()&&(s=Ka),Ka=0);for(var a=ti(),l=null,u=td;u!==null;){var p=u.next,y=pw(u,a);y===0?(u.next=null,l===null?td=p:l.next=p,p===null&&(dl=l)):(l=u,(s!==0||(y&3)!==0)&&(nd=!0)),u=p}fu(s)}function pw(s,a){for(var l=s.suspendedLanes,u=s.pingedLanes,p=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var w=31-pn(y),S=1<<w,M=p[w];M===-1?((S&l)===0||(S&u)!==0)&&(p[w]=vc(S,a)):M<=a&&(s.expiredLanes|=S),y&=~S}if(a=ct,l=ze,l=Ro(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===a&&(et===2||et===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&da(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||_a(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(u!==null&&da(u),Io(l)){case 2:case 8:l=Ao;break;case 32:l=ma;break;case 268435456:l=Co;break;default:l=ma}return u=gw.bind(null,s),l=fa(l,u),s.callbackPriority=a,s.callbackNode=l,a}return u!==null&&u!==null&&da(u),s.callbackPriority=2,s.callbackNode=null,2}function gw(s,a){if(cn!==0&&cn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(ed()&&s.callbackNode!==l)return null;var u=ze;return u=Ro(s,s===ct?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(Zb(s,u,a),pw(s,ti()),s.callbackNode!=null&&s.callbackNode===l?gw.bind(null,s):null)}function yw(s,a){if(ed())return null;Zb(s,a,!0)}function yP(){CP(function(){(Je&6)!==0?fa(yc,gP):mw()})}function Jg(){return Ka===0&&(Ka=Tc()),Ka}function _w(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Mo(""+s)}function vw(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function _P(s,a,l,u,p){if(a==="submit"&&l&&l.stateNode===p){var y=_w((p[Ot]||null).action),w=u.submitter;w&&(a=(a=w[Ot]||null)?_w(a.formAction):w.getAttribute("formAction"),a!==null&&(y=a,w=null));var S=new Vo("action","action",null,u,p);s.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ka!==0){var M=w?vw(p,w):new FormData(p);vg(l,{pending:!0,data:M,method:p.method,action:y},null,M)}}else typeof y=="function"&&(S.preventDefault(),M=w?vw(p,w):new FormData(p),vg(l,{pending:!0,data:M,method:p.method,action:y},y,M))},currentTarget:p}]})}}for(var ey=0;ey<jp.length;ey++){var ty=jp[ey],vP=ty.toLowerCase(),TP=ty[0].toUpperCase()+ty.slice(1);Si(vP,"on"+TP)}Si(ZT,"onAnimationEnd"),Si(JT,"onAnimationIteration"),Si(eE,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(Lk,"onTransitionRun"),Si(jk,"onTransitionStart"),Si(Uk,"onTransitionCancel"),Si(tE,"onTransitionEnd"),ws("onMouseEnter",["mouseout","mouseover"]),ws("onMouseLeave",["mouseout","mouseover"]),ws("onPointerEnter",["pointerout","pointerover"]),ws("onPointerLeave",["pointerout","pointerover"]),wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EP=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(du));function Tw(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],p=u.event;u=u.listeners;e:{var y=void 0;if(a)for(var w=u.length-1;0<=w;w--){var S=u[w],M=S.instance,K=S.currentTarget;if(S=S.listener,M!==y&&p.isPropagationStopped())break e;y=S,p.currentTarget=K;try{y(p)}catch(ee){Hf(ee)}p.currentTarget=null,y=M}else for(w=0;w<u.length;w++){if(S=u[w],M=S.instance,K=S.currentTarget,S=S.listener,M!==y&&p.isPropagationStopped())break e;y=S,p.currentTarget=K;try{y(p)}catch(ee){Hf(ee)}p.currentTarget=null,y=M}}}}function Me(s,a){var l=a[xc];l===void 0&&(l=a[xc]=new Set);var u=s+"__bubble";l.has(u)||(Ew(a,s,2,!1),l.add(u))}function ny(s,a,l){var u=0;a&&(u|=4),Ew(l,s,u,a)}var id="_reactListening"+Math.random().toString(36).slice(2);function iy(s){if(!s[id]){s[id]=!0,Sc.forEach(function(l){l!=="selectionchange"&&(EP.has(l)||ny(l,!1,s),ny(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[id]||(a[id]=!0,ny("selectionchange",!1,a))}}function Ew(s,a,l,u){switch(Gw(a)){case 2:var p=WP;break;case 8:p=YP;break;default:p=yy}l=p.bind(null,a,l,s),p=void 0,!ri||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),u?p!==void 0?s.addEventListener(a,l,{capture:!0,passive:p}):s.addEventListener(a,l,!0):p!==void 0?s.addEventListener(a,l,{passive:p}):s.addEventListener(a,l,!1)}function sy(s,a,l,u,p){var y=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var S=u.stateNode.containerInfo;if(S===p)break;if(w===4)for(w=u.return;w!==null;){var M=w.tag;if((M===3||M===4)&&w.stateNode.containerInfo===p)return;w=w.return}for(;S!==null;){if(w=bs(S),w===null)return;if(M=w.tag,M===5||M===6||M===26||M===27){u=y=w;continue e}S=S.parentNode}}u=u.return}rf(function(){var K=y,ee=si(l),ie=[];e:{var W=nE.get(s);if(W!==void 0){var X=Vo,we=s;switch(s){case"keypress":if(Gi(l)===0)break e;case"keydown":case"keyup":X=zo;break;case"focusin":we="focus",X=Uo;break;case"focusout":we="blur",X=Uo;break;case"beforeblur":case"afterblur":X=Uo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=ai;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Np;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=df;break;case ZT:case JT:case eE:X=Bo;break;case tE:X=pf;break;case"scroll":case"scrollend":X=af;break;case"wheel":X=Ho;break;case"copy":case"cut":case"paste":X=Fo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Lc;break;case"toggle":case"beforetoggle":X=yf}var _e=(a&4)!==0,st=!_e&&(s==="scroll"||s==="scrollend"),q=_e?W!==null?W+"Capture":null:W;_e=[];for(var H=K,$;H!==null;){var te=H;if($=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||$===null||q===null||(te=Aa(H,q),te!=null&&_e.push(mu(H,te,$))),st)break;H=H.return}0<_e.length&&(W=new X(W,we,null,l,ee),ie.push({event:W,listeners:_e}))}}if((a&7)===0){e:{if(W=s==="mouseover"||s==="pointerover",X=s==="mouseout"||s==="pointerout",W&&l!==As&&(we=l.relatedTarget||l.fromElement)&&(bs(we)||we[ni]))break e;if((X||W)&&(W=ee.window===ee?ee:(W=ee.ownerDocument)?W.defaultView||W.parentWindow:window,X?(we=l.relatedTarget||l.toElement,X=K,we=we?bs(we):null,we!==null&&(st=o(we),_e=we.tag,we!==st||_e!==5&&_e!==27&&_e!==6)&&(we=null)):(X=null,we=K),X!==we)){if(_e=ai,te="onMouseLeave",q="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(_e=Lc,te="onPointerLeave",q="onPointerEnter",H="pointer"),st=X==null?W:Fi(X),$=we==null?W:Fi(we),W=new _e(te,H+"leave",X,l,ee),W.target=st,W.relatedTarget=$,te=null,bs(ee)===K&&(_e=new _e(q,H+"enter",we,l,ee),_e.target=$,_e.relatedTarget=st,te=_e),st=te,X&&we)t:{for(_e=X,q=we,H=0,$=_e;$;$=ml($))H++;for($=0,te=q;te;te=ml(te))$++;for(;0<H-$;)_e=ml(_e),H--;for(;0<$-H;)q=ml(q),$--;for(;H--;){if(_e===q||q!==null&&_e===q.alternate)break t;_e=ml(_e),q=ml(q)}_e=null}else _e=null;X!==null&&bw(ie,W,X,_e,!1),we!==null&&st!==null&&bw(ie,st,we,_e,!0)}}e:{if(W=K?Fi(K):window,X=W.nodeName&&W.nodeName.toLowerCase(),X==="select"||X==="input"&&W.type==="file")var me=FT;else if(zt(W))if(zT)me=Ok;else{me=kk;var Pe=Dk}else X=W.nodeName,!X||X.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?K&&Nc(K.elementType)&&(me=FT):me=Pk;if(me&&(me=me(s,K))){Ds(ie,me,l,ee);break e}Pe&&Pe(s,W,K),s==="focusout"&&K&&W.type==="number"&&K.memoizedProps.value!=null&&_r(W,"number",W.value)}switch(Pe=K?Fi(K):window,s){case"focusin":(zt(Pe)||Pe.contentEditable==="true")&&(qo=Pe,Mp=K,Bc=null);break;case"focusout":Bc=Mp=qo=null;break;case"mousedown":Vp=!0;break;case"contextmenu":case"mouseup":case"dragend":Vp=!1,QT(ie,l,ee);break;case"selectionchange":if(Vk)break;case"keydown":case"keyup":QT(ie,l,ee)}var pe;if(Wi)e:{switch(s){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Be?Z(s,l)&&(Ee="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Ee="onCompositionStart");Ee&&(b&&l.locale!=="ko"&&(Be||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Be&&(pe=kc()):(qi=ee,vr="value"in qi?qi.value:qi.textContent,Be=!0)),Pe=sd(K,Ee),0<Pe.length&&(Ee=new Mc(Ee,s,null,l,ee),ie.push({event:Ee,listeners:Pe}),pe?Ee.data=pe:(pe=ce(l),pe!==null&&(Ee.data=pe)))),(pe=T?Ft(s,l):Fe(s,l))&&(Ee=sd(K,"onBeforeInput"),0<Ee.length&&(Pe=new Mc("onBeforeInput","beforeinput",null,l,ee),ie.push({event:Pe,listeners:Ee}),Pe.data=pe)),_P(ie,s,K,l,ee)}Tw(ie,a)})}function mu(s,a,l){return{instance:s,listener:a,currentTarget:l}}function sd(s,a){for(var l=a+"Capture",u=[];s!==null;){var p=s,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Aa(s,l),p!=null&&u.unshift(mu(s,p,y)),p=Aa(s,a),p!=null&&u.push(mu(s,p,y))),s.tag===3)return u;s=s.return}return[]}function ml(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function bw(s,a,l,u,p){for(var y=a._reactName,w=[];l!==null&&l!==u;){var S=l,M=S.alternate,K=S.stateNode;if(S=S.tag,M!==null&&M===u)break;S!==5&&S!==26&&S!==27||K===null||(M=K,p?(K=Aa(l,y),K!=null&&w.unshift(mu(l,K,M))):p||(K=Aa(l,y),K!=null&&w.push(mu(l,K,M)))),l=l.return}w.length!==0&&s.push({event:a,listeners:w})}var bP=/\r\n?/g,wP=/\u0000|\uFFFD/g;function ww(s){return(typeof s=="string"?s:""+s).replace(bP,`
`).replace(wP,"")}function xw(s,a){return a=ww(a),ww(s)===a}function rd(){}function it(s,a,l,u,p,y){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||ii(s,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&ii(s,""+u);break;case"className":zi(s,"class",u);break;case"tabIndex":zi(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":zi(s,l,u);break;case"style":Ic(s,u,y);break;case"data":if(a!=="object"){zi(s,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Mo(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&it(s,a,"name",p.name,p,null),it(s,a,"formEncType",p.formEncType,p,null),it(s,a,"formMethod",p.formMethod,p,null),it(s,a,"formTarget",p.formTarget,p,null)):(it(s,a,"encType",p.encType,p,null),it(s,a,"method",p.method,p,null),it(s,a,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Mo(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=rd);break;case"onScroll":u!=null&&Me("scroll",s);break;case"onScrollEnd":u!=null&&Me("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=Mo(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":Me("beforetoggle",s),Me("toggle",s),yr(s,"popover",u);break;case"xlinkActuate":an(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":an(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":an(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":an(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":an(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":an(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":an(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":an(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":an(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":yr(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Rp.get(l)||l,yr(s,l,u))}}function ry(s,a,l,u,p,y){switch(l){case"style":Ic(s,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?ii(s,u):(typeof u=="number"||typeof u=="bigint")&&ii(s,""+u);break;case"onScroll":u!=null&&Me("scroll",s);break;case"onScrollEnd":u!=null&&Me("scrollend",s);break;case"onClick":u!=null&&(s.onclick=rd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!No.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),a=l.slice(2,p?l.length-7:void 0),y=s[Ot]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(a,y,p),typeof u=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,u,p);break e}l in s?s[l]=u:u===!0?s.setAttribute(l,""):yr(s,l,u)}}}function un(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",s),Me("load",s);var u=!1,p=!1,y;for(y in l)if(l.hasOwnProperty(y)){var w=l[y];if(w!=null)switch(y){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:it(s,a,y,w,l,null)}}p&&it(s,a,"srcSet",l.srcSet,l,null),u&&it(s,a,"src",l.src,l,null);return;case"input":Me("invalid",s);var S=y=w=p=null,M=null,K=null;for(u in l)if(l.hasOwnProperty(u)){var ee=l[u];if(ee!=null)switch(u){case"name":p=ee;break;case"type":w=ee;break;case"checked":M=ee;break;case"defaultChecked":K=ee;break;case"value":y=ee;break;case"defaultValue":S=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,a));break;default:it(s,a,u,ee,l,null)}}wa(s,y,S,M,K,w,p,!1),Oo(s);return;case"select":Me("invalid",s),u=w=y=null;for(p in l)if(l.hasOwnProperty(p)&&(S=l[p],S!=null))switch(p){case"value":y=S;break;case"defaultValue":w=S;break;case"multiple":u=S;default:it(s,a,p,S,l,null)}a=y,l=w,s.multiple=!!u,a!=null?Ss(s,!!u,a,!1):l!=null&&Ss(s,!!u,l,!0);return;case"textarea":Me("invalid",s),y=p=u=null;for(w in l)if(l.hasOwnProperty(w)&&(S=l[w],S!=null))switch(w){case"value":u=S;break;case"defaultValue":p=S;break;case"children":y=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:it(s,a,w,S,l,null)}xa(s,u,p,y),Oo(s);return;case"option":for(M in l)if(l.hasOwnProperty(M)&&(u=l[M],u!=null))switch(M){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:it(s,a,M,u,l,null)}return;case"dialog":Me("beforetoggle",s),Me("toggle",s),Me("cancel",s),Me("close",s);break;case"iframe":case"object":Me("load",s);break;case"video":case"audio":for(u=0;u<du.length;u++)Me(du[u],s);break;case"image":Me("error",s),Me("load",s);break;case"details":Me("toggle",s);break;case"embed":case"source":case"link":Me("error",s),Me("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in l)if(l.hasOwnProperty(K)&&(u=l[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:it(s,a,K,u,l,null)}return;default:if(Nc(a)){for(ee in l)l.hasOwnProperty(ee)&&(u=l[ee],u!==void 0&&ry(s,a,ee,u,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(u=l[S],u!=null&&it(s,a,S,u,l,null))}function xP(s,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,w=null,S=null,M=null,K=null,ee=null;for(X in l){var ie=l[X];if(l.hasOwnProperty(X)&&ie!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":M=ie;default:u.hasOwnProperty(X)||it(s,a,X,null,u,ie)}}for(var W in u){var X=u[W];if(ie=l[W],u.hasOwnProperty(W)&&(X!=null||ie!=null))switch(W){case"type":y=X;break;case"name":p=X;break;case"checked":K=X;break;case"defaultChecked":ee=X;break;case"value":w=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,a));break;default:X!==ie&&it(s,a,W,X,u,ie)}}Hn(s,w,S,M,K,ee,y,p);return;case"select":X=w=S=W=null;for(y in l)if(M=l[y],l.hasOwnProperty(y)&&M!=null)switch(y){case"value":break;case"multiple":X=M;default:u.hasOwnProperty(y)||it(s,a,y,null,u,M)}for(p in u)if(y=u[p],M=l[p],u.hasOwnProperty(p)&&(y!=null||M!=null))switch(p){case"value":W=y;break;case"defaultValue":S=y;break;case"multiple":w=y;default:y!==M&&it(s,a,p,y,u,M)}a=S,l=w,u=X,W!=null?Ss(s,!!l,W,!1):!!u!=!!l&&(a!=null?Ss(s,!!l,a,!0):Ss(s,!!l,l?[]:"",!1));return;case"textarea":X=W=null;for(S in l)if(p=l[S],l.hasOwnProperty(S)&&p!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:it(s,a,S,null,u,p)}for(w in u)if(p=u[w],y=l[w],u.hasOwnProperty(w)&&(p!=null||y!=null))switch(w){case"value":W=p;break;case"defaultValue":X=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&it(s,a,w,p,u,y)}tt(s,W,X);return;case"option":for(var we in l)if(W=l[we],l.hasOwnProperty(we)&&W!=null&&!u.hasOwnProperty(we))switch(we){case"selected":s.selected=!1;break;default:it(s,a,we,null,u,W)}for(M in u)if(W=u[M],X=l[M],u.hasOwnProperty(M)&&W!==X&&(W!=null||X!=null))switch(M){case"selected":s.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:it(s,a,M,W,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in l)W=l[_e],l.hasOwnProperty(_e)&&W!=null&&!u.hasOwnProperty(_e)&&it(s,a,_e,null,u,W);for(K in u)if(W=u[K],X=l[K],u.hasOwnProperty(K)&&W!==X&&(W!=null||X!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,a));break;default:it(s,a,K,W,u,X)}return;default:if(Nc(a)){for(var st in l)W=l[st],l.hasOwnProperty(st)&&W!==void 0&&!u.hasOwnProperty(st)&&ry(s,a,st,void 0,u,W);for(ee in u)W=u[ee],X=l[ee],!u.hasOwnProperty(ee)||W===X||W===void 0&&X===void 0||ry(s,a,ee,W,u,X);return}}for(var q in l)W=l[q],l.hasOwnProperty(q)&&W!=null&&!u.hasOwnProperty(q)&&it(s,a,q,null,u,W);for(ie in u)W=u[ie],X=l[ie],!u.hasOwnProperty(ie)||W===X||W==null&&X==null||it(s,a,ie,W,u,X)}var ay=null,oy=null;function ad(s){return s.nodeType===9?s:s.ownerDocument}function Sw(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Aw(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function ly(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var cy=null;function SP(){var s=window.event;return s&&s.type==="popstate"?s===cy?!1:(cy=s,!0):(cy=null,!1)}var Cw=typeof setTimeout=="function"?setTimeout:void 0,AP=typeof clearTimeout=="function"?clearTimeout:void 0,Rw=typeof Promise=="function"?Promise:void 0,CP=typeof queueMicrotask=="function"?queueMicrotask:typeof Rw<"u"?function(s){return Rw.resolve(null).then(s).catch(RP)}:Cw;function RP(s){setTimeout(function(){throw s})}function Mr(s){return s==="head"}function Iw(s,a){var l=a,u=0,p=0;do{var y=l.nextSibling;if(s.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<u&&8>u){l=u;var w=s.ownerDocument;if(l&1&&pu(w.documentElement),l&2&&pu(w.body),l&4)for(l=w.head,pu(l),w=l.firstChild;w;){var S=w.nextSibling,M=w.nodeName;w[va]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&w.rel.toLowerCase()==="stylesheet"||l.removeChild(w),w=S}}if(p===0){s.removeChild(y),wu(a);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:u=l.charCodeAt(0)-48;else u=0;l=y}while(l);wu(a)}function uy(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":uy(l),gr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function IP(s,a,l,u){for(;s.nodeType===1;){var p=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[va])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=Ci(s.nextSibling),s===null)break}return null}function NP(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Ci(s.nextSibling),s===null))return null;return s}function hy(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function DP(s,a){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function Ci(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var fy=null;function Nw(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function Dw(s,a,l){switch(a=ad(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function pu(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);gr(s)}var di=new Map,kw=new Set;function od(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var qs=ae.d;ae.d={f:kP,r:PP,D:OP,C:MP,L:VP,m:LP,X:UP,S:jP,M:BP};function kP(){var s=qs.f(),a=Zf();return s||a}function PP(s){var a=Bi(s);a!==null&&a.tag===5&&a.type==="form"?ZE(a):qs.r(s)}var pl=typeof document>"u"?null:document;function Pw(s,a,l){var u=pl;if(u&&typeof a=="string"&&a){var p=Mt(a);p='link[rel="'+s+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),kw.has(p)||(kw.add(p),s={rel:s,crossOrigin:l,href:a},u.querySelector(p)===null&&(a=u.createElement("link"),un(a,"link",s),It(a),u.head.appendChild(a)))}}function OP(s){qs.D(s),Pw("dns-prefetch",s,null)}function MP(s,a){qs.C(s,a),Pw("preconnect",s,a)}function VP(s,a,l){qs.L(s,a,l);var u=pl;if(u&&s&&a){var p='link[rel="preload"][as="'+Mt(a)+'"]';a==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Mt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Mt(l.imageSizes)+'"]')):p+='[href="'+Mt(s)+'"]';var y=p;switch(a){case"style":y=gl(s);break;case"script":y=yl(s)}di.has(y)||(s=g({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),di.set(y,s),u.querySelector(p)!==null||a==="style"&&u.querySelector(gu(y))||a==="script"&&u.querySelector(yu(y))||(a=u.createElement("link"),un(a,"link",s),It(a),u.head.appendChild(a)))}}function LP(s,a){qs.m(s,a);var l=pl;if(l&&s){var u=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+Mt(u)+'"][href="'+Mt(s)+'"]',y=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=yl(s)}if(!di.has(y)&&(s=g({rel:"modulepreload",href:s},a),di.set(y,s),l.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(yu(y)))return}u=l.createElement("link"),un(u,"link",s),It(u),l.head.appendChild(u)}}}function jP(s,a,l){qs.S(s,a,l);var u=pl;if(u&&s){var p=Rn(u).hoistableStyles,y=gl(s);a=a||"default";var w=p.get(y);if(!w){var S={loading:0,preload:null};if(w=u.querySelector(gu(y)))S.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":a},l),(l=di.get(y))&&dy(s,l);var M=w=u.createElement("link");It(M),un(M,"link",s),M._p=new Promise(function(K,ee){M.onload=K,M.onerror=ee}),M.addEventListener("load",function(){S.loading|=1}),M.addEventListener("error",function(){S.loading|=2}),S.loading|=4,ld(w,a,u)}w={type:"stylesheet",instance:w,count:1,state:S},p.set(y,w)}}}function UP(s,a){qs.X(s,a);var l=pl;if(l&&s){var u=Rn(l).hoistableScripts,p=yl(s),y=u.get(p);y||(y=l.querySelector(yu(p)),y||(s=g({src:s,async:!0},a),(a=di.get(p))&&my(s,a),y=l.createElement("script"),It(y),un(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function BP(s,a){qs.M(s,a);var l=pl;if(l&&s){var u=Rn(l).hoistableScripts,p=yl(s),y=u.get(p);y||(y=l.querySelector(yu(p)),y||(s=g({src:s,async:!0,type:"module"},a),(a=di.get(p))&&my(s,a),y=l.createElement("script"),It(y),un(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function Ow(s,a,l,u){var p=(p=Se.current)?od(p):null;if(!p)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=gl(l.href),l=Rn(p).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=gl(l.href);var y=Rn(p).hoistableStyles,w=y.get(s);if(w||(p=p.ownerDocument||p,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,w),(y=p.querySelector(gu(s)))&&!y._p&&(w.instance=y,w.state.loading=5),di.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},di.set(s,l),y||FP(p,s,l,w.state))),a&&u===null)throw Error(i(528,""));return w}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=yl(l),l=Rn(p).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function gl(s){return'href="'+Mt(s)+'"'}function gu(s){return'link[rel="stylesheet"]['+s+"]"}function Mw(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function FP(s,a,l,u){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=s.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),un(a,"link",l),It(a),s.head.appendChild(a))}function yl(s){return'[src="'+Mt(s)+'"]'}function yu(s){return"script[async]"+s}function Vw(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=s.querySelector('style[data-href~="'+Mt(l.href)+'"]');if(u)return a.instance=u,It(u),u;var p=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),It(u),un(u,"style",p),ld(u,l.precedence,s),a.instance=u;case"stylesheet":p=gl(l.href);var y=s.querySelector(gu(p));if(y)return a.state.loading|=4,a.instance=y,It(y),y;u=Mw(l),(p=di.get(p))&&dy(u,p),y=(s.ownerDocument||s).createElement("link"),It(y);var w=y;return w._p=new Promise(function(S,M){w.onload=S,w.onerror=M}),un(y,"link",u),a.state.loading|=4,ld(y,l.precedence,s),a.instance=y;case"script":return y=yl(l.src),(p=s.querySelector(yu(y)))?(a.instance=p,It(p),p):(u=l,(p=di.get(y))&&(u=g({},l),my(u,p)),s=s.ownerDocument||s,p=s.createElement("script"),It(p),un(p,"link",u),s.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,ld(u,l.precedence,s));return a.instance}function ld(s,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,y=p,w=0;w<u.length;w++){var S=u[w];if(S.dataset.precedence===a)y=S;else if(y!==p)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function dy(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function my(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var cd=null;function Lw(s,a,l){if(cd===null){var u=new Map,p=cd=new Map;p.set(l,u)}else p=cd,u=p.get(l),u||(u=new Map,p.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),p=0;p<l.length;p++){var y=l[p];if(!(y[va]||y[Bt]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(a)||"";w=s+w;var S=u.get(w);S?S.push(y):u.set(w,[y])}}return u}function jw(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function zP(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Uw(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var _u=null;function HP(){}function qP(s,a,l){if(_u===null)throw Error(i(475));var u=_u;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=gl(l.href),y=s.querySelector(gu(p));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(u.count++,u=ud.bind(u),s.then(u,u)),a.state.loading|=4,a.instance=y,It(y);return}y=s.ownerDocument||s,l=Mw(l),(p=di.get(p))&&dy(l,p),y=y.createElement("link"),It(y);var w=y;w._p=new Promise(function(S,M){w.onload=S,w.onerror=M}),un(y,"link",l),a.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=ud.bind(u),s.addEventListener("load",a),s.addEventListener("error",a))}}function GP(){if(_u===null)throw Error(i(475));var s=_u;return s.stylesheets&&s.count===0&&py(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&py(s,s.stylesheets),s.unsuspend){var u=s.unsuspend;s.unsuspend=null,u()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function ud(){if(this.count--,this.count===0){if(this.stylesheets)py(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var hd=null;function py(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,hd=new Map,a.forEach($P,s),hd=null,ud.call(s))}function $P(s,a){if(!(a.state.loading&4)){var l=hd.get(s);if(l)var u=l.get(null);else{l=new Map,hd.set(s,l);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var w=p[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(l.set(w.dataset.precedence,w),u=w)}u&&l.set(null,u)}p=a.instance,w=p.getAttribute("data-precedence"),y=l.get(w)||u,y===u&&l.set(null,p),l.set(w,p),this.count++,u=ud.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),y?y.parentNode.insertBefore(p,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),a.state.loading|=4}}var vu={$$typeof:L,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function KP(s,a,l,u,p,y,w,S){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ts(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ts(0),this.hiddenUpdates=Ts(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Bw(s,a,l,u,p,y,w,S,M,K,ee,ie){return s=new KP(s,a,l,w,S,M,K,ie),a=1,y===!0&&(a|=24),y=Gn(3,null,null,a),s.current=y,y.stateNode=s,a=Qp(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:u,isDehydrated:l,cache:a},eg(y),s}function Fw(s){return s?(s=Wo,s):Wo}function zw(s,a,l,u,p,y){p=Fw(p),u.context===null?u.context=p:u.pendingContext=p,u=br(a),u.payload={element:l},y=y===void 0?null:y,y!==null&&(u.callback=y),l=wr(s,u,a),l!==null&&(Qn(l,s,a),Yc(l,s,a))}function Hw(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function gy(s,a){Hw(s,a),(s=s.alternate)&&Hw(s,a)}function qw(s){if(s.tag===13){var a=Ko(s,67108864);a!==null&&Qn(a,s,67108864),gy(s,67108864)}}var fd=!0;function WP(s,a,l,u){var p=J.T;J.T=null;var y=ae.p;try{ae.p=2,yy(s,a,l,u)}finally{ae.p=y,J.T=p}}function YP(s,a,l,u){var p=J.T;J.T=null;var y=ae.p;try{ae.p=8,yy(s,a,l,u)}finally{ae.p=y,J.T=p}}function yy(s,a,l,u){if(fd){var p=_y(u);if(p===null)sy(s,a,u,dd,l),$w(s,u);else if(XP(p,s,a,l,u))u.stopPropagation();else if($w(s,u),a&4&&-1<QP.indexOf(s)){for(;p!==null;){var y=Bi(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=bi(y.pendingLanes);if(w!==0){var S=y;for(S.pendingLanes|=2,S.entangledLanes|=2;w;){var M=1<<31-pn(w);S.entanglements[1]|=M,w&=~M}es(y),(Je&6)===0&&(Qf=ti()+500,fu(0))}}break;case 13:S=Ko(y,2),S!==null&&Qn(S,y,2),Zf(),gy(y,2)}if(y=_y(u),y===null&&sy(s,a,u,dd,l),y===p)break;p=y}p!==null&&u.stopPropagation()}else sy(s,a,u,null,l)}}function _y(s){return s=si(s),vy(s)}var dd=null;function vy(s){if(dd=null,s=bs(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return dd=s,null}function Gw(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bp()){case yc:return 2;case Ao:return 8;case ma:case wp:return 32;case Co:return 268435456;default:return 32}default:return 32}}var Ty=!1,Vr=null,Lr=null,jr=null,Tu=new Map,Eu=new Map,Ur=[],QP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $w(s,a){switch(s){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":Tu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eu.delete(a.pointerId)}}function bu(s,a,l,u,p,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},a!==null&&(a=Bi(a),a!==null&&qw(a)),s):(s.eventSystemFlags|=u,a=s.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),s)}function XP(s,a,l,u,p){switch(a){case"focusin":return Vr=bu(Vr,s,a,l,u,p),!0;case"dragenter":return Lr=bu(Lr,s,a,l,u,p),!0;case"mouseover":return jr=bu(jr,s,a,l,u,p),!0;case"pointerover":var y=p.pointerId;return Tu.set(y,bu(Tu.get(y)||null,s,a,l,u,p)),!0;case"gotpointercapture":return y=p.pointerId,Eu.set(y,bu(Eu.get(y)||null,s,a,l,u,p)),!0}return!1}function Kw(s){var a=bs(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,Xh(s.priority,function(){if(l.tag===13){var u=Yn();u=dr(u);var p=Ko(l,u);p!==null&&Qn(p,l,u),gy(l,u)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function md(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=_y(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);As=u,l.target.dispatchEvent(u),As=null}else return a=Bi(l),a!==null&&qw(a),s.blockedOn=l,!1;a.shift()}return!0}function Ww(s,a,l){md(s)&&l.delete(a)}function ZP(){Ty=!1,Vr!==null&&md(Vr)&&(Vr=null),Lr!==null&&md(Lr)&&(Lr=null),jr!==null&&md(jr)&&(jr=null),Tu.forEach(Ww),Eu.forEach(Ww)}function pd(s,a){s.blockedOn===a&&(s.blockedOn=null,Ty||(Ty=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ZP)))}var gd=null;function Yw(s){gd!==s&&(gd=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){gd===s&&(gd=null);for(var a=0;a<s.length;a+=3){var l=s[a],u=s[a+1],p=s[a+2];if(typeof u!="function"){if(vy(u||l)===null)continue;break}var y=Bi(l);y!==null&&(s.splice(a,3),a-=3,vg(y,{pending:!0,data:p,method:l.method,action:u},u,p))}}))}function wu(s){function a(M){return pd(M,s)}Vr!==null&&pd(Vr,s),Lr!==null&&pd(Lr,s),jr!==null&&pd(jr,s),Tu.forEach(a),Eu.forEach(a);for(var l=0;l<Ur.length;l++){var u=Ur[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Ur.length&&(l=Ur[0],l.blockedOn===null);)Kw(l),l.blockedOn===null&&Ur.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var p=l[u],y=l[u+1],w=p[Ot]||null;if(typeof y=="function")w||Yw(l);else if(w){var S=null;if(y&&y.hasAttribute("formAction")){if(p=y,w=y[Ot]||null)S=w.formAction;else if(vy(p)!==null)continue}else S=w.action;typeof S=="function"?l[u+1]=S:(l.splice(u,3),u-=3),Yw(l)}}}function Ey(s){this._internalRoot=s}yd.prototype.render=Ey.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=Yn();zw(l,u,s,a,null,null)},yd.prototype.unmount=Ey.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;zw(s.current,2,null,s,null,null),Zf(),a[ni]=null}};function yd(s){this._internalRoot=s}yd.prototype.unstable_scheduleHydration=function(s){if(s){var a=mr();s={blockedOn:null,target:s,priority:a};for(var l=0;l<Ur.length&&a!==0&&a<Ur[l].priority;l++);Ur.splice(l,0,s),l===0&&Kw(s)}};var Qw=e.version;if(Qw!=="19.1.0")throw Error(i(527,Qw,"19.1.0"));ae.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(a),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var JP={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_d.isDisabled&&_d.supportsFiber)try{wt=_d.inject(JP),Ze=_d}catch{}}return Su.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,u="",p=fb,y=db,w=mb,S=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks)),a=Bw(s,1,!1,null,null,l,u,p,y,w,S,null),s[ni]=a.current,iy(s),new Ey(a)},Su.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var u=!1,p="",y=fb,w=db,S=mb,M=null,K=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(M=l.unstable_transitionCallbacks),l.formState!==void 0&&(K=l.formState)),a=Bw(s,1,!0,a,l??null,u,p,y,w,S,M,K),a.context=Fw(null),l=a.current,u=Yn(),u=dr(u),p=br(u),p.callback=null,wr(l,p,u),l=u,a.current.lanes=l,Es(a,l),es(a),s[ni]=a.current,iy(s),new yd(a)},Su.version="19.1.0",Su}var a1;function uO(){if(a1)return xy.exports;a1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),xy.exports=cO(),xy.exports}var hO=uO(),Au={},o1;function fO(){if(o1)return Au;o1=1,Object.defineProperty(Au,"__esModule",{value:!0}),Au.parse=c,Au.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,o=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function c(E,x){const A=new o,D=E.length;if(D<2)return A;const N=(x==null?void 0:x.decode)||g;let P=0;do{const U=E.indexOf("=",P);if(U===-1)break;const L=E.indexOf(";",P),Q=L===-1?D:L;if(U>Q){P=E.lastIndexOf(";",U-1)+1;continue}const Y=h(E,P,U),ne=f(E,U,Y),k=E.slice(Y,ne);if(A[k]===void 0){let C=h(E,U+1,Q),I=f(E,Q,C);const j=N(E.slice(C,I));A[k]=j}P=Q+1}while(P<D);return A}function h(E,x,A){do{const D=E.charCodeAt(x);if(D!==32&&D!==9)return x}while(++x<A);return A}function f(E,x,A){for(;x>A;){const D=E.charCodeAt(--x);if(D!==32&&D!==9)return x+1}return A}function m(E,x,A){const D=(A==null?void 0:A.encode)||encodeURIComponent;if(!t.test(E))throw new TypeError(`argument name is invalid: ${E}`);const N=D(x);if(!e.test(N))throw new TypeError(`argument val is invalid: ${x}`);let P=E+"="+N;if(!A)return P;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);P+="; Max-Age="+A.maxAge}if(A.domain){if(!n.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);P+="; Domain="+A.domain}if(A.path){if(!i.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);P+="; Path="+A.path}if(A.expires){if(!v(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);P+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(P+="; HttpOnly"),A.secure&&(P+="; Secure"),A.partitioned&&(P+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return P}function g(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function v(E){return r.call(E)==="[object Date]"}return Au}fO();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var l1="popstate";function dO(t={}){function e(i,r){let{pathname:o,search:c,hash:h}=i.location;return f_("",{pathname:o,search:c,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:nh(r)}return pO(e,n,null,t)}function _t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Vi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mO(){return Math.random().toString(36).substring(2,10)}function c1(t,e){return{usr:t.state,key:t.key,idx:e}}function f_(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Zl(e):e,state:n,key:e&&e.key||i||mO()}}function nh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Zl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function pO(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,c=r.history,h="POP",f=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function v(){h="POP";let N=g(),P=N==null?null:N-m;m=N,f&&f({action:h,location:D.location,delta:P})}function E(N,P){h="PUSH";let U=f_(D.location,N,P);m=g()+1;let L=c1(U,m),Q=D.createHref(U);try{c.pushState(L,"",Q)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;r.location.assign(Q)}o&&f&&f({action:h,location:D.location,delta:1})}function x(N,P){h="REPLACE";let U=f_(D.location,N,P);m=g();let L=c1(U,m),Q=D.createHref(U);c.replaceState(L,"",Q),o&&f&&f({action:h,location:D.location,delta:0})}function A(N){let P=r.location.origin!=="null"?r.location.origin:r.location.href,U=typeof N=="string"?N:nh(N);return U=U.replace(/ $/,"%20"),_t(P,`No window.location.(origin|href) available to create URL for href: ${U}`),new URL(U,P)}let D={get action(){return h},get location(){return t(r,c)},listen(N){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(l1,v),f=N,()=>{r.removeEventListener(l1,v),f=null}},createHref(N){return e(r,N)},createURL:A,encodeLocation(N){let P=A(N);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:E,replace:x,go(N){return c.go(N)}};return D}function sC(t,e,n="/"){return gO(t,e,n,!1)}function gO(t,e,n,i){let r=typeof e=="string"?Zl(e):e,o=Js(r.pathname||"/",n);if(o==null)return null;let c=rC(t);yO(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let m=RO(o);h=AO(c[f],m,i)}return h}function rC(t,e=[],n=[],i=""){let r=(o,c,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};f.relativePath.startsWith("/")&&(_t(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let m=Ys([i,f.relativePath]),g=n.concat(f);o.children&&o.children.length>0&&(_t(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),rC(o.children,e,g,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:xO(m,o.index),routesMeta:g})};return t.forEach((o,c)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))r(o,c);else for(let f of aC(o.path))r(o,c,f)}),e}function aC(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let c=aC(i.join("/")),h=[];return h.push(...c.map(f=>f===""?o:[o,f].join("/"))),r&&h.push(...c),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function yO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:SO(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var _O=/^:[\w-]+$/,vO=3,TO=2,EO=1,bO=10,wO=-2,u1=t=>t==="*";function xO(t,e){let n=t.split("/"),i=n.length;return n.some(u1)&&(i+=wO),e&&(i+=TO),n.filter(r=>!u1(r)).reduce((r,o)=>r+(_O.test(o)?vO:o===""?EO:bO),i)}function SO(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function AO(t,e,n=!1){let{routesMeta:i}=t,r={},o="/",c=[];for(let h=0;h<i.length;++h){let f=i[h],m=h===i.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=Yd({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},g),E=f.route;if(!v&&m&&n&&!i[i.length-1].route.index&&(v=Yd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(r,v.params),c.push({params:r,pathname:Ys([o,v.pathname]),pathnameBase:kO(Ys([o,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(o=Ys([o,v.pathnameBase]))}return c}function Yd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=CO(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let o=r[0],c=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((m,{paramName:g,isOptional:v},E)=>{if(g==="*"){let A=h[E]||"";c=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const x=h[E];return v&&!x?m[g]=void 0:m[g]=(x||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:t}}function CO(t,e=!1,n=!0){Vi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function RO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Js(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function IO(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Zl(t):t;return{pathname:n?n.startsWith("/")?n:NO(n,e):e,search:PO(i),hash:OO(r)}}function NO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Ry(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Av(t){let e=DO(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Cv(t,e,n,i=!1){let r;typeof t=="string"?r=Zl(t):(r={...t},_t(!r.pathname||!r.pathname.includes("?"),Ry("?","pathname","search",r)),_t(!r.pathname||!r.pathname.includes("#"),Ry("#","pathname","hash",r)),_t(!r.search||!r.search.includes("#"),Ry("#","search","hash",r)));let o=t===""||r.pathname==="",c=o?"/":r.pathname,h;if(c==null)h=n;else{let v=e.length-1;if(!i&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),v-=1;r.pathname=E.join("/")}h=v>=0?e[v]:"/"}let f=IO(r,h),m=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||g)&&(f.pathname+="/"),f}var Ys=t=>t.join("/").replace(/\/\/+/g,"/"),kO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),PO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,OO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function MO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var oC=["POST","PUT","PATCH","DELETE"];new Set(oC);var VO=["GET",...oC];new Set(VO);var Jl=O.createContext(null);Jl.displayName="DataRouter";var Fm=O.createContext(null);Fm.displayName="DataRouterState";var lC=O.createContext({isTransitioning:!1});lC.displayName="ViewTransition";var LO=O.createContext(new Map);LO.displayName="Fetchers";var jO=O.createContext(null);jO.displayName="Await";var Li=O.createContext(null);Li.displayName="Navigation";var Ch=O.createContext(null);Ch.displayName="Location";var ms=O.createContext({outlet:null,matches:[],isDataRoute:!1});ms.displayName="Route";var Rv=O.createContext(null);Rv.displayName="RouteError";function UO(t,{relative:e}={}){_t(ec(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=O.useContext(Li),{hash:r,pathname:o,search:c}=Rh(t,{relative:e}),h=o;return n!=="/"&&(h=o==="/"?n:Ys([n,o])),i.createHref({pathname:h,search:c,hash:r})}function ec(){return O.useContext(Ch)!=null}function la(){return _t(ec(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Ch).location}var cC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uC(t){O.useContext(Li).static||O.useLayoutEffect(t)}function cr(){let{isDataRoute:t}=O.useContext(ms);return t?ZO():BO()}function BO(){_t(ec(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(Jl),{basename:e,navigator:n}=O.useContext(Li),{matches:i}=O.useContext(ms),{pathname:r}=la(),o=JSON.stringify(Av(i)),c=O.useRef(!1);return uC(()=>{c.current=!0}),O.useCallback((f,m={})=>{if(Vi(c.current,cC),!c.current)return;if(typeof f=="number"){n.go(f);return}let g=Cv(f,JSON.parse(o),r,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Ys([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,o,r,t])}O.createContext(null);function Rh(t,{relative:e}={}){let{matches:n}=O.useContext(ms),{pathname:i}=la(),r=JSON.stringify(Av(n));return O.useMemo(()=>Cv(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function FO(t,e){return hC(t,e)}function hC(t,e,n,i){var U;_t(ec(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:o}=O.useContext(Li),{matches:c}=O.useContext(ms),h=c[c.length-1],f=h?h.params:{},m=h?h.pathname:"/",g=h?h.pathnameBase:"/",v=h&&h.route;{let L=v&&v.path||"";fC(m,!v||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let E=la(),x;if(e){let L=typeof e=="string"?Zl(e):e;_t(g==="/"||((U=L.pathname)==null?void 0:U.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${L.pathname}" was given in the \`location\` prop.`),x=L}else x=E;let A=x.pathname||"/",D=A;if(g!=="/"){let L=g.replace(/^\//,"").split("/");D="/"+A.replace(/^\//,"").split("/").slice(L.length).join("/")}let N=!o&&n&&n.matches&&n.matches.length>0?n.matches:sC(t,{pathname:D});Vi(v||N!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Vi(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=$O(N&&N.map(L=>Object.assign({},L,{params:Object.assign({},f,L.params),pathname:Ys([g,r.encodeLocation?r.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?g:Ys([g,r.encodeLocation?r.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),c,n,i);return e&&P?O.createElement(Ch.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},P):P}function zO(){let t=XO(),e=MO(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=O.createElement(O.Fragment,null,O.createElement("p",null,"💿 Hey developer 👋"),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:o},"ErrorBoundary")," or"," ",O.createElement("code",{style:o},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:r},n):null,c)}var HO=O.createElement(zO,null),qO=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?O.createElement(ms.Provider,{value:this.props.routeContext},O.createElement(Rv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function GO({routeContext:t,match:e,children:n}){let i=O.useContext(Jl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(ms.Provider,{value:t},n)}function $O(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let r=t,o=n==null?void 0:n.errors;if(o!=null){let f=r.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);_t(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let c=!1,h=-1;if(n)for(let f=0;f<r.length;f++){let m=r[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=f),m.route.id){let{loaderData:g,errors:v}=n,E=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||E){c=!0,h>=0?r=r.slice(0,h+1):r=[r[0]];break}}}return r.reduceRight((f,m,g)=>{let v,E=!1,x=null,A=null;n&&(v=o&&m.route.id?o[m.route.id]:void 0,x=m.route.errorElement||HO,c&&(h<0&&g===0?(fC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,A=null):h===g&&(E=!0,A=m.route.hydrateFallbackElement||null)));let D=e.concat(r.slice(0,g+1)),N=()=>{let P;return v?P=x:E?P=A:m.route.Component?P=O.createElement(m.route.Component,null):m.route.element?P=m.route.element:P=f,O.createElement(GO,{match:m,routeContext:{outlet:f,matches:D,isDataRoute:n!=null},children:P})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?O.createElement(qO,{location:n.location,revalidation:n.revalidation,component:x,error:v,children:N(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):N()},null)}function Iv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KO(t){let e=O.useContext(Jl);return _t(e,Iv(t)),e}function WO(t){let e=O.useContext(Fm);return _t(e,Iv(t)),e}function YO(t){let e=O.useContext(ms);return _t(e,Iv(t)),e}function Nv(t){let e=YO(t),n=e.matches[e.matches.length-1];return _t(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function QO(){return Nv("useRouteId")}function XO(){var i;let t=O.useContext(Rv),e=WO("useRouteError"),n=Nv("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function ZO(){let{router:t}=KO("useNavigate"),e=Nv("useNavigate"),n=O.useRef(!1);return uC(()=>{n.current=!0}),O.useCallback(async(r,o={})=>{Vi(n.current,cC),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...o}))},[t,e])}var h1={};function fC(t,e,n){!e&&!h1[t]&&(h1[t]=!0,Vi(!1,n))}O.memo(JO);function JO({routes:t,future:e,state:n}){return hC(t,void 0,n,e)}function Pd({to:t,replace:e,state:n,relative:i}){_t(ec(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=O.useContext(Li);Vi(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=O.useContext(ms),{pathname:c}=la(),h=cr(),f=Cv(t,Av(o),c,i==="path"),m=JSON.stringify(f);return O.useEffect(()=>{h(JSON.parse(m),{replace:e,state:n,relative:i})},[h,m,i,e,n]),null}function vl(t){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eM({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:o=!1}){_t(!ec(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),h=O.useMemo(()=>({basename:c,navigator:r,static:o,future:{}}),[c,r,o]);typeof n=="string"&&(n=Zl(n));let{pathname:f="/",search:m="",hash:g="",state:v=null,key:E="default"}=n,x=O.useMemo(()=>{let A=Js(f,c);return A==null?null:{location:{pathname:A,search:m,hash:g,state:v,key:E},navigationType:i}},[c,f,m,g,v,E,i]);return Vi(x!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:O.createElement(Li.Provider,{value:h},O.createElement(Ch.Provider,{children:e,value:x}))}function tM({children:t,location:e}){return FO(d_(t),e)}function d_(t,e=[]){let n=[];return O.Children.forEach(t,(i,r)=>{if(!O.isValidElement(i))return;let o=[...e,r];if(i.type===O.Fragment){n.push.apply(n,d_(i.props.children,o));return}_t(i.type===vl,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=d_(i.props.children,o)),n.push(c)}),n}var Od="get",Md="application/x-www-form-urlencoded";function zm(t){return t!=null&&typeof t.tagName=="string"}function nM(t){return zm(t)&&t.tagName.toLowerCase()==="button"}function iM(t){return zm(t)&&t.tagName.toLowerCase()==="form"}function sM(t){return zm(t)&&t.tagName.toLowerCase()==="input"}function rM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function aM(t,e){return t.button===0&&(!e||e==="_self")&&!rM(t)}var vd=null;function oM(){if(vd===null)try{new FormData(document.createElement("form"),0),vd=!1}catch{vd=!0}return vd}var lM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Iy(t){return t!=null&&!lM.has(t)?(Vi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Md}"`),null):t}function cM(t,e){let n,i,r,o,c;if(iM(t)){let h=t.getAttribute("action");i=h?Js(h,e):null,n=t.getAttribute("method")||Od,r=Iy(t.getAttribute("enctype"))||Md,o=new FormData(t)}else if(nM(t)||sM(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(i=f?Js(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Od,r=Iy(t.getAttribute("formenctype"))||Iy(h.getAttribute("enctype"))||Md,o=new FormData(h,t),!oM()){let{name:m,type:g,value:v}=t;if(g==="image"){let E=m?`${m}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else m&&o.append(m,v)}}else{if(zm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Od,i=null,r=Md,c=t}return o&&r==="text/plain"&&(c=o,o=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:o,body:c}}function Dv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function uM(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hM(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function fM(t,e,n){let i=await Promise.all(t.map(async r=>{let o=e.routes[r.route.id];if(o){let c=await uM(o,n);return c.links?c.links():[]}return[]}));return gM(i.flat(1).filter(hM).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function f1(t,e,n,i,r,o){let c=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,h=(f,m)=>{var g;return n[m].pathname!==f.pathname||((g=n[m].route.path)==null?void 0:g.endsWith("*"))&&n[m].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,m)=>c(f,m)||h(f,m)):o==="data"?e.filter((f,m)=>{var v;let g=i.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(c(f,m)||h(f,m))return!0;if(f.route.shouldRevalidate){let E=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function dM(t,e,{includeHydrateFallback:n}={}){return mM(t.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function mM(t){return[...new Set(t)]}function pM(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function gM(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let o=JSON.stringify(pM(r));return n.has(o)||(n.add(o),i.push({key:o,link:r})),i},[])}function yM(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Js(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function dC(){let t=O.useContext(Jl);return Dv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function _M(){let t=O.useContext(Fm);return Dv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var kv=O.createContext(void 0);kv.displayName="FrameworkContext";function mC(){let t=O.useContext(kv);return Dv(t,"You must render this element inside a <HydratedRouter> element"),t}function vM(t,e){let n=O.useContext(kv),[i,r]=O.useState(!1),[o,c]=O.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:m,onMouseLeave:g,onTouchStart:v}=e,E=O.useRef(null);O.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let D=P=>{P.forEach(U=>{c(U.isIntersecting)})},N=new IntersectionObserver(D,{threshold:.5});return E.current&&N.observe(E.current),()=>{N.disconnect()}}},[t]),O.useEffect(()=>{if(i){let D=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(D)}}},[i]);let x=()=>{r(!0)},A=()=>{r(!1),c(!1)};return n?t!=="intent"?[o,E,{}]:[o,E,{onFocus:Cu(h,x),onBlur:Cu(f,A),onMouseEnter:Cu(m,x),onMouseLeave:Cu(g,A),onTouchStart:Cu(v,x)}]:[!1,E,{}]}function Cu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function TM({page:t,...e}){let{router:n}=dC(),i=O.useMemo(()=>sC(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?O.createElement(bM,{page:t,matches:i,...e}):null}function EM(t){let{manifest:e,routeModules:n}=mC(),[i,r]=O.useState([]);return O.useEffect(()=>{let o=!1;return fM(t,e,n).then(c=>{o||r(c)}),()=>{o=!0}},[t,e,n]),i}function bM({page:t,matches:e,...n}){let i=la(),{manifest:r,routeModules:o}=mC(),{basename:c}=dC(),{loaderData:h,matches:f}=_M(),m=O.useMemo(()=>f1(t,e,f,r,i,"data"),[t,e,f,r,i]),g=O.useMemo(()=>f1(t,e,f,r,i,"assets"),[t,e,f,r,i]),v=O.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let A=new Set,D=!1;if(e.forEach(P=>{var L;let U=r.routes[P.route.id];!U||!U.hasLoader||(!m.some(Q=>Q.route.id===P.route.id)&&P.route.id in h&&((L=o[P.route.id])!=null&&L.shouldRevalidate)||U.hasClientLoader?D=!0:A.add(P.route.id))}),A.size===0)return[];let N=yM(t,c);return D&&A.size>0&&N.searchParams.set("_routes",e.filter(P=>A.has(P.route.id)).map(P=>P.route.id).join(",")),[N.pathname+N.search]},[c,h,i,r,m,e,t,o]),E=O.useMemo(()=>dM(g,r),[g,r]),x=EM(g);return O.createElement(O.Fragment,null,v.map(A=>O.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),E.map(A=>O.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),x.map(({key:A,link:D})=>O.createElement("link",{key:A,...D})))}function wM(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var pC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pC&&(window.__reactRouterVersion="7.5.0")}catch{}function xM({basename:t,children:e,window:n}){let i=O.useRef();i.current==null&&(i.current=dO({window:n,v5Compat:!0}));let r=i.current,[o,c]=O.useState({action:r.action,location:r.location}),h=O.useCallback(f=>{O.startTransition(()=>c(f))},[c]);return O.useLayoutEffect(()=>r.listen(h),[r,h]),O.createElement(eM,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:r})}var gC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yC=O.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:o,replace:c,state:h,target:f,to:m,preventScrollReset:g,viewTransition:v,...E},x){let{basename:A}=O.useContext(Li),D=typeof m=="string"&&gC.test(m),N,P=!1;if(typeof m=="string"&&D&&(N=m,pC))try{let I=new URL(window.location.href),j=m.startsWith("//")?new URL(I.protocol+m):new URL(m),F=Js(j.pathname,A);j.origin===I.origin&&F!=null?m=F+j.search+j.hash:P=!0}catch{Vi(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=UO(m,{relative:r}),[L,Q,Y]=vM(i,E),ne=RM(m,{replace:c,state:h,target:f,preventScrollReset:g,relative:r,viewTransition:v});function k(I){e&&e(I),I.defaultPrevented||ne(I)}let C=O.createElement("a",{...E,...Y,href:N||U,onClick:P||o?e:k,ref:wM(x,Q),target:f,"data-discover":!D&&n==="render"?"true":void 0});return L&&!D?O.createElement(O.Fragment,null,C,O.createElement(TM,{page:U})):C});yC.displayName="Link";var SM=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:o,to:c,viewTransition:h,children:f,...m},g){let v=Rh(c,{relative:m.relative}),E=la(),x=O.useContext(Fm),{navigator:A,basename:D}=O.useContext(Li),N=x!=null&&PM(v)&&h===!0,P=A.encodeLocation?A.encodeLocation(v).pathname:v.pathname,U=E.pathname,L=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(U=U.toLowerCase(),L=L?L.toLowerCase():null,P=P.toLowerCase()),L&&D&&(L=Js(L,D)||L);const Q=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let Y=U===P||!r&&U.startsWith(P)&&U.charAt(Q)==="/",ne=L!=null&&(L===P||!r&&L.startsWith(P)&&L.charAt(P.length)==="/"),k={isActive:Y,isPending:ne,isTransitioning:N},C=Y?e:void 0,I;typeof i=="function"?I=i(k):I=[i,Y?"active":null,ne?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let j=typeof o=="function"?o(k):o;return O.createElement(yC,{...m,"aria-current":C,className:I,ref:g,style:j,to:c,viewTransition:h},typeof f=="function"?f(k):f)});SM.displayName="NavLink";var AM=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:o,method:c=Od,action:h,onSubmit:f,relative:m,preventScrollReset:g,viewTransition:v,...E},x)=>{let A=DM(),D=kM(h,{relative:m}),N=c.toLowerCase()==="get"?"get":"post",P=typeof h=="string"&&gC.test(h),U=L=>{if(f&&f(L),L.defaultPrevented)return;L.preventDefault();let Q=L.nativeEvent.submitter,Y=(Q==null?void 0:Q.getAttribute("formmethod"))||c;A(Q||L.currentTarget,{fetcherKey:e,method:Y,navigate:n,replace:r,state:o,relative:m,preventScrollReset:g,viewTransition:v})};return O.createElement("form",{ref:x,method:N,action:D,onSubmit:i?f:U,...E,"data-discover":!P&&t==="render"?"true":void 0})});AM.displayName="Form";function CM(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _C(t){let e=O.useContext(Jl);return _t(e,CM(t)),e}function RM(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:o,viewTransition:c}={}){let h=cr(),f=la(),m=Rh(t,{relative:o});return O.useCallback(g=>{if(aM(g,e)){g.preventDefault();let v=n!==void 0?n:nh(f)===nh(m);h(t,{replace:v,state:i,preventScrollReset:r,relative:o,viewTransition:c})}},[f,h,m,n,i,e,t,r,o,c])}var IM=0,NM=()=>`__${String(++IM)}__`;function DM(){let{router:t}=_C("useSubmit"),{basename:e}=O.useContext(Li),n=QO();return O.useCallback(async(i,r={})=>{let{action:o,method:c,encType:h,formData:f,body:m}=cM(i,e);if(r.navigate===!1){let g=r.fetcherKey||NM();await t.fetch(g,n,r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:m,formMethod:r.method||c,formEncType:r.encType||h,flushSync:r.flushSync})}else await t.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:m,formMethod:r.method||c,formEncType:r.encType||h,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function kM(t,{relative:e}={}){let{basename:n}=O.useContext(Li),i=O.useContext(ms);_t(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...Rh(t||".",{relative:e})},c=la();if(t==null){o.search=c.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(g=>g==="")){h.delete("index"),f.filter(v=>v).forEach(v=>h.append("index",v));let g=h.toString();o.search=g?`?${g}`:""}}return(!t||t===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Ys([n,o.pathname])),nh(o)}function PM(t,e={}){let n=O.useContext(lC);_t(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=_C("useViewTransitionState"),r=Rh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Js(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Js(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Yd(r.pathname,c)!=null||Yd(r.pathname,o)!=null}new TextEncoder;const OM=()=>{};var d1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he=function(t,e){if(!t)throw tc(e)},tc=function(t){return new Error("Firebase Database ("+vC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},MM=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=t[n++],c=t[n++],h=t[n++],f=((r&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],c=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return e.join("")},Pv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const o=t[r],c=r+1<t.length,h=c?t[r+1]:0,f=r+2<t.length,m=f?t[r+2]:0,g=o>>2,v=(o&3)<<4|h>>4;let E=(h&15)<<2|m>>6,x=m&63;f||(x=64,c||(E=64)),i.push(n[g],n[v],n[E],n[x])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(TC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):MM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const o=n[t.charAt(r++)],h=r<t.length?n[t.charAt(r)]:0;++r;const m=r<t.length?n[t.charAt(r)]:64;++r;const v=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||h==null||m==null||v==null)throw new VM;const E=o<<2|h>>4;if(i.push(E),m!==64){const x=h<<4&240|m>>2;if(i.push(x),v!==64){const A=m<<6&192|v;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class VM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EC=function(t){const e=TC(t);return Pv.encodeByteArray(e,!0)},Qd=function(t){return EC(t).replace(/\./g,"")},Xd=function(t){try{return Pv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LM(t){return bC(void 0,t)}function bC(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!jM(n)||(t[n]=bC(t[n],e[n]));return t}function jM(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=()=>UM().__FIREBASE_DEFAULTS__,FM=()=>{if(typeof process>"u"||typeof d1>"u")return;const t=d1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Xd(t[1]);return e&&JSON.parse(e)},Hm=()=>{try{return OM()||BM()||FM()||zM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wC=t=>{var e,n;return(n=(e=Hm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},qm=t=>{const e=wC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},xC=()=>{var t;return(t=Hm())===null||t===void 0?void 0:t.config},SC=t=>{var e;return(e=Hm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Qd(JSON.stringify(n)),Qd(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function HM(){var t;const e=(t=Hm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function CC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GM(){const t=Cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function $M(){return vC.NODE_ADMIN===!0}function KM(){return!HM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RC(){try{return typeof indexedDB=="object"}catch{return!1}}function IC(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function WM(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM="FirebaseError";class ei extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=YM,Object.setPrototypeOf(this,ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yo.prototype.create)}}class yo{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],c=o?QM(o,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new ei(r,h,i)}}function QM(t,e){return t.replace(XM,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const XM=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(t){return JSON.parse(t)}function fn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=function(t){let e={},n={},i={},r="";try{const o=t.split(".");e=ih(Xd(o[0])||""),n=ih(Xd(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:r}},ZM=function(t){const e=NC(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},JM=function(t){const e=NC(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function jl(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function m_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zd(t,e,n){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function er(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const o=t[r],c=e[r];if(m1(o)&&m1(c)){if(!er(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function m1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ou(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function Mu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let v=0;v<16;v++)i[v]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let v=0;v<16;v++)i[v]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let v=16;v<80;v++){const E=i[v-3]^i[v-8]^i[v-14]^i[v-16];i[v]=(E<<1|E>>>31)&4294967295}let r=this.chain_[0],o=this.chain_[1],c=this.chain_[2],h=this.chain_[3],f=this.chain_[4],m,g;for(let v=0;v<80;v++){v<40?v<20?(m=h^o&(c^h),g=1518500249):(m=o^c^h,g=1859775393):v<60?(m=o&c|h&(o|c),g=2400959708):(m=o^c^h,g=3395469782);const E=(r<<5|r>>>27)+m+f+g+i[v]&4294967295;f=h,h=c,c=(o<<30|o>>>2)&4294967295,o=r,r=E}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let r=0;const o=this.buf_;let c=this.inbuf_;for(;r<n;){if(c===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(o[c]=e.charCodeAt(r),++c,++r,c===this.blockSize){this.compress_(o),c=0;break}}else for(;r<n;)if(o[c]=e[r],++c,++r,c===this.blockSize){this.compress_(o),c=0;break}}this.inbuf_=c,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e}}function t4(t,e){const n=new n4(t,e);return n.subscribe.bind(n)}class n4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");i4(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Ny),r.error===void 0&&(r.error=Ny),r.complete===void 0&&(r.complete=Ny);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function i4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ny(){}function s4(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){const o=r-55296;i++,he(i<t.length,"Surrogate pair missing trail surrogate.");const c=t.charCodeAt(i)-56320;r=65536+(o<<10)+c}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Gm=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=1e3,o4=2,l4=4*60*60*1e3,c4=.5;function p1(t,e=a4,n=o4){const i=e*Math.pow(n,t),r=Math.round(c4*i*(Math.random()-.5)*2);return Math.min(l4,i+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(t){return t&&t._delegate?t._delegate:t}class Fn{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Ov;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(f4(e))try{this.getOrInitializeService({instanceIdentifier:Ya})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ya){return this.instances.has(e)}getOptions(e=Ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:h4(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ya){return this.component?this.component.multipleInstances?e:Ya:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function h4(t){return t===Ya?void 0:t}function f4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new u4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ve||(Ve={}));const m4={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},p4=Ve.INFO,g4={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},y4=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=g4[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ih{constructor(e){this.name=e,this._logLevel=p4,this._logHandler=y4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?m4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const _4=(t,e)=>e.some(n=>t instanceof n);let g1,y1;function v4(){return g1||(g1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T4(){return y1||(y1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DC=new WeakMap,p_=new WeakMap,kC=new WeakMap,Dy=new WeakMap,Lv=new WeakMap;function E4(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(Kr(t.result)),r()},c=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&DC.set(n,t)}).catch(()=>{}),Lv.set(e,t),e}function b4(t){if(p_.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),r()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});p_.set(t,e)}let g_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return p_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Kr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function w4(t){g_=t(g_)}function x4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(ky(this),e,...n);return kC.set(i,e.sort?e.sort():[e]),Kr(i)}:T4().includes(t)?function(...e){return t.apply(ky(this),e),Kr(DC.get(this))}:function(...e){return Kr(t.apply(ky(this),e))}}function S4(t){return typeof t=="function"?x4(t):(t instanceof IDBTransaction&&b4(t),_4(t,v4())?new Proxy(t,g_):t)}function Kr(t){if(t instanceof IDBRequest)return E4(t);if(Dy.has(t))return Dy.get(t);const e=S4(t);return e!==t&&(Dy.set(t,e),Lv.set(e,t)),e}const ky=t=>Lv.get(t);function PC(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const c=indexedDB.open(t,e),h=Kr(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Kr(c.result),f.oldVersion,f.newVersion,Kr(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",m=>r(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const A4=["get","getKey","getAll","getAllKeys","count"],C4=["put","add","delete","clear"],Py=new Map;function _1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Py.get(e))return Py.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=C4.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||A4.includes(n)))return;const o=async function(c,...h){const f=this.transaction(c,r?"readwrite":"readonly");let m=f.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),r&&f.done]))[0]};return Py.set(e,o),o}w4(t=>({...t,get:(e,n,i)=>_1(e,n)||t.get(e,n,i),has:(e,n)=>!!_1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(I4(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function I4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const y_="@firebase/app",v1="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr=new Ih("@firebase/app"),N4="@firebase/app-compat",D4="@firebase/analytics-compat",k4="@firebase/analytics",P4="@firebase/app-check-compat",O4="@firebase/app-check",M4="@firebase/auth",V4="@firebase/auth-compat",L4="@firebase/database",j4="@firebase/data-connect",U4="@firebase/database-compat",B4="@firebase/functions",F4="@firebase/functions-compat",z4="@firebase/installations",H4="@firebase/installations-compat",q4="@firebase/messaging",G4="@firebase/messaging-compat",$4="@firebase/performance",K4="@firebase/performance-compat",W4="@firebase/remote-config",Y4="@firebase/remote-config-compat",Q4="@firebase/storage",X4="@firebase/storage-compat",Z4="@firebase/firestore",J4="@firebase/vertexai",eV="@firebase/firestore-compat",tV="firebase",nV="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="[DEFAULT]",iV={[y_]:"fire-core",[N4]:"fire-core-compat",[k4]:"fire-analytics",[D4]:"fire-analytics-compat",[O4]:"fire-app-check",[P4]:"fire-app-check-compat",[M4]:"fire-auth",[V4]:"fire-auth-compat",[L4]:"fire-rtdb",[j4]:"fire-data-connect",[U4]:"fire-rtdb-compat",[B4]:"fire-fn",[F4]:"fire-fn-compat",[z4]:"fire-iid",[H4]:"fire-iid-compat",[q4]:"fire-fcm",[G4]:"fire-fcm-compat",[$4]:"fire-perf",[K4]:"fire-perf-compat",[W4]:"fire-rc",[Y4]:"fire-rc-compat",[Q4]:"fire-gcs",[X4]:"fire-gcs-compat",[Z4]:"fire-fst",[eV]:"fire-fst-compat",[J4]:"fire-vertex","fire-js":"fire-js",[tV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd=new Map,sV=new Map,v_=new Map;function T1(t,e){try{t.container.addComponent(e)}catch(n){tr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Jn(t){const e=t.name;if(v_.has(e))return tr.debug(`There were multiple attempts to register component ${e}.`),!1;v_.set(e,t);for(const n of Jd.values())T1(n,t);for(const n of sV.values())T1(n,t);return!0}function ps(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wr=new yo("app","Firebase",rV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Fn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=nV;function OC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:__,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Wr.create("bad-app-name",{appName:String(r)});if(n||(n=xC()),!n)throw Wr.create("no-options");const o=Jd.get(r);if(o){if(er(n,o.options)&&er(i,o.config))return o;throw Wr.create("duplicate-app",{appName:r})}const c=new d4(r);for(const f of v_.values())c.addComponent(f);const h=new aV(n,i,c);return Jd.set(r,h),h}function ic(t=__){const e=Jd.get(t);if(!e&&t===__&&xC())return OC();if(!e)throw Wr.create("no-app",{appName:t});return e}function rn(t,e,n){var i;let r=(i=iV[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${r}" with version "${e}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),tr.warn(h.join(" "));return}Jn(new Fn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV="firebase-heartbeat-database",lV=1,sh="firebase-heartbeat-store";let Oy=null;function MC(){return Oy||(Oy=PC(oV,lV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(sh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Wr.create("idb-open",{originalErrorMessage:t.message})})),Oy}async function cV(t){try{const n=(await MC()).transaction(sh),i=await n.objectStore(sh).get(VC(t));return await n.done,i}catch(e){if(e instanceof ei)tr.warn(e.message);else{const n=Wr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});tr.warn(n.message)}}}async function E1(t,e){try{const i=(await MC()).transaction(sh,"readwrite");await i.objectStore(sh).put(e,VC(t)),await i.done}catch(n){if(n instanceof ei)tr.warn(n.message);else{const i=Wr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});tr.warn(i.message)}}}function VC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=1024,hV=30;class fV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mV(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=b1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>hV){const c=pV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){tr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=b1(),{heartbeatsToSend:i,unsentEntries:r}=dV(this._heartbeatsCache.heartbeats),o=Qd(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return tr.warn(n),""}}}function b1(){return new Date().toISOString().substring(0,10)}function dV(t,e=uV){const n=[];let i=t.slice();for(const r of t){const o=n.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),w1(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),w1(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class mV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RC()?IC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return E1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return E1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function w1(t){return Qd(JSON.stringify({version:2,heartbeats:t})).length}function pV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(t){Jn(new Fn("platform-logger",e=>new R4(e),"PRIVATE")),Jn(new Fn("heartbeat",e=>new fV(e),"PRIVATE")),rn(y_,v1,t),rn(y_,v1,"esm2017"),rn("fire-js","")}gV("");var yV="firebase",_V="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn(yV,_V,"app");const LC="@firebase/installations",jv="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=1e4,UC=`w:${jv}`,BC="FIS_v2",vV="https://firebaseinstallations.googleapis.com/v1",TV=60*60*1e3,EV="installations",bV="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ao=new yo(EV,bV,wV);function FC(t){return t instanceof ei&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC({projectId:t}){return`${vV}/projects/${t}/installations`}function HC(t){return{token:t.token,requestStatus:2,expiresIn:SV(t.expiresIn),creationTime:Date.now()}}async function qC(t,e){const i=(await e.json()).error;return ao.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function GC({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function xV(t,{refreshToken:e}){const n=GC(t);return n.append("Authorization",AV(e)),n}async function $C(t){const e=await t();return e.status>=500&&e.status<600?t():e}function SV(t){return Number(t.replace("s","000"))}function AV(t){return`${BC} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CV({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=zC(t),r=GC(t),o=e.getImmediate({optional:!0});if(o){const m=await o.getHeartbeatsHeader();m&&r.append("x-firebase-client",m)}const c={fid:n,authVersion:BC,appId:t.appId,sdkVersion:UC},h={method:"POST",headers:r,body:JSON.stringify(c)},f=await $C(()=>fetch(i,h));if(f.ok){const m=await f.json();return{fid:m.fid||n,registrationStatus:2,refreshToken:m.refreshToken,authToken:HC(m.authToken)}}else throw await qC("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=/^[cdef][\w-]{21}$/,T_="";function NV(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=DV(t);return IV.test(n)?n:T_}catch{return T_}}function DV(t){return RV(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=new Map;function YC(t,e){const n=$m(t);QC(n,e),kV(n,e)}function QC(t,e){const n=WC.get(t);if(n)for(const i of n)i(e)}function kV(t,e){const n=PV();n&&n.postMessage({key:t,fid:e}),OV()}let Za=null;function PV(){return!Za&&"BroadcastChannel"in self&&(Za=new BroadcastChannel("[Firebase] FID Change"),Za.onmessage=t=>{QC(t.data.key,t.data.fid)}),Za}function OV(){WC.size===0&&Za&&(Za.close(),Za=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV="firebase-installations-database",VV=1,oo="firebase-installations-store";let My=null;function Uv(){return My||(My=PC(MV,VV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(oo)}}})),My}async function em(t,e){const n=$m(t),r=(await Uv()).transaction(oo,"readwrite"),o=r.objectStore(oo),c=await o.get(n);return await o.put(e,n),await r.done,(!c||c.fid!==e.fid)&&YC(t,e.fid),e}async function XC(t){const e=$m(t),i=(await Uv()).transaction(oo,"readwrite");await i.objectStore(oo).delete(e),await i.done}async function Km(t,e){const n=$m(t),r=(await Uv()).transaction(oo,"readwrite"),o=r.objectStore(oo),c=await o.get(n),h=e(c);return h===void 0?await o.delete(n):await o.put(h,n),await r.done,h&&(!c||c.fid!==h.fid)&&YC(t,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bv(t){let e;const n=await Km(t.appConfig,i=>{const r=LV(i),o=jV(t,r);return e=o.registrationPromise,o.installationEntry});return n.fid===T_?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function LV(t){const e=t||{fid:NV(),registrationStatus:0};return ZC(e)}function jV(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(ao.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=UV(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:BV(t)}:{installationEntry:e}}async function UV(t,e){try{const n=await CV(t,e);return em(t.appConfig,n)}catch(n){throw FC(n)&&n.customData.serverCode===409?await XC(t.appConfig):await em(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function BV(t){let e=await x1(t.appConfig);for(;e.registrationStatus===1;)await KC(100),e=await x1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Bv(t);return i||n}return e}function x1(t){return Km(t,e=>{if(!e)throw ao.create("installation-not-found");return ZC(e)})}function ZC(t){return FV(t)?{fid:t.fid,registrationStatus:0}:t}function FV(t){return t.registrationStatus===1&&t.registrationTime+jC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zV({appConfig:t,heartbeatServiceProvider:e},n){const i=HV(t,n),r=xV(t,n),o=e.getImmediate({optional:!0});if(o){const m=await o.getHeartbeatsHeader();m&&r.append("x-firebase-client",m)}const c={installation:{sdkVersion:UC,appId:t.appId}},h={method:"POST",headers:r,body:JSON.stringify(c)},f=await $C(()=>fetch(i,h));if(f.ok){const m=await f.json();return HC(m)}else throw await qC("Generate Auth Token",f)}function HV(t,{fid:e}){return`${zC(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fv(t,e=!1){let n;const i=await Km(t.appConfig,o=>{if(!JC(o))throw ao.create("not-registered");const c=o.authToken;if(!e&&$V(c))return o;if(c.requestStatus===1)return n=qV(t,e),o;{if(!navigator.onLine)throw ao.create("app-offline");const h=WV(o);return n=GV(t,h),h}});return n?await n:i.authToken}async function qV(t,e){let n=await S1(t.appConfig);for(;n.authToken.requestStatus===1;)await KC(100),n=await S1(t.appConfig);const i=n.authToken;return i.requestStatus===0?Fv(t,e):i}function S1(t){return Km(t,e=>{if(!JC(e))throw ao.create("not-registered");const n=e.authToken;return YV(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function GV(t,e){try{const n=await zV(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await em(t.appConfig,i),n}catch(n){if(FC(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await XC(t.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await em(t.appConfig,i)}throw n}}function JC(t){return t!==void 0&&t.registrationStatus===2}function $V(t){return t.requestStatus===2&&!KV(t)}function KV(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+TV}function WV(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function YV(t){return t.requestStatus===1&&t.requestTime+jC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QV(t){const e=t,{installationEntry:n,registrationPromise:i}=await Bv(e);return i?i.catch(console.error):Fv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XV(t,e=!1){const n=t;return await ZV(n),(await Fv(n,e)).token}async function ZV(t){const{registrationPromise:e}=await Bv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(t){if(!t||!t.options)throw Vy("App Configuration");if(!t.name)throw Vy("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Vy(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Vy(t){return ao.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="installations",eL="installations-internal",tL=t=>{const e=t.getProvider("app").getImmediate(),n=JV(e),i=ps(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},nL=t=>{const e=t.getProvider("app").getImmediate(),n=ps(e,eR).getImmediate();return{getId:()=>QV(n),getToken:r=>XV(n,r)}};function iL(){Jn(new Fn(eR,tL,"PUBLIC")),Jn(new Fn(eL,nL,"PRIVATE"))}iL();rn(LC,jv);rn(LC,jv,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="analytics",sL="firebase_id",rL="origin",aL=60*1e3,oL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn=new Ih("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Xn=new yo("analytics","Analytics",lL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(t){if(!t.startsWith(zv)){const e=Xn.create("invalid-gtag-resource",{gtagURL:t});return Bn.warn(e.message),""}return t}function tR(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function uL(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function hL(t,e){const n=uL("firebase-js-sdk-policy",{createScriptURL:cL}),i=document.createElement("script"),r=`${zv}?l=${t}&id=${e}`;i.src=n?n==null?void 0:n.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function fL(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function dL(t,e,n,i,r,o){const c=i[r];try{if(c)await e[c];else{const f=(await tR(n)).find(m=>m.measurementId===r);f&&await e[f.appId]}}catch(h){Bn.error(h)}t("config",r,o)}async function mL(t,e,n,i,r){try{let o=[];if(r&&r.send_to){let c=r.send_to;Array.isArray(c)||(c=[c]);const h=await tR(n);for(const f of c){const m=h.find(v=>v.measurementId===f),g=m&&e[m.appId];if(g)o.push(g);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",i,r||{})}catch(o){Bn.error(o)}}function pL(t,e,n,i){async function r(o,...c){try{if(o==="event"){const[h,f]=c;await mL(t,e,n,h,f)}else if(o==="config"){const[h,f]=c;await dL(t,e,n,i,h,f)}else if(o==="consent"){const[h,f]=c;t("consent",h,f)}else if(o==="get"){const[h,f,m]=c;t("get",h,f,m)}else if(o==="set"){const[h]=c;t("set",h)}else t(o,...c)}catch(h){Bn.error(h)}}return r}function gL(t,e,n,i,r){let o=function(...c){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(o=window[r]),window[r]=pL(o,t,e,n),{gtagCore:o,wrappedGtag:window[r]}}function yL(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(zv)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L=30,vL=1e3;class TL{constructor(e={},n=vL){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const nR=new TL;function EL(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function bL(t){var e;const{appId:n,apiKey:i}=t,r={method:"GET",headers:EL(i)},o=oL.replace("{app-id}",n),c=await fetch(o,r);if(c.status!==200&&c.status!==304){let h="";try{const f=await c.json();!((e=f.error)===null||e===void 0)&&e.message&&(h=f.error.message)}catch{}throw Xn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:h})}return c.json()}async function wL(t,e=nR,n){const{appId:i,apiKey:r,measurementId:o}=t.options;if(!i)throw Xn.create("no-app-id");if(!r){if(o)return{measurementId:o,appId:i};throw Xn.create("no-api-key")}const c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new AL;return setTimeout(async()=>{h.abort()},aL),iR({appId:i,apiKey:r,measurementId:o},c,h,e)}async function iR(t,{throttleEndTimeMillis:e,backoffCount:n},i,r=nR){var o;const{appId:c,measurementId:h}=t;try{await xL(i,e)}catch(f){if(h)return Bn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:c,measurementId:h};throw f}try{const f=await bL(t);return r.deleteThrottleMetadata(c),f}catch(f){const m=f;if(!SL(m)){if(r.deleteThrottleMetadata(c),h)return Bn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:c,measurementId:h};throw f}const g=Number((o=m==null?void 0:m.customData)===null||o===void 0?void 0:o.httpStatus)===503?p1(n,r.intervalMillis,_L):p1(n,r.intervalMillis),v={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return r.setThrottleMetadata(c,v),Bn.debug(`Calling attemptFetch again in ${g} millis`),iR(t,v,i,r)}}function xL(t,e){return new Promise((n,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(o),i(Xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function SL(t){if(!(t instanceof ei)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class AL{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function CL(t,e,n,i,r){if(r&&r.global){t("event",n,i);return}else{const o=await e,c=Object.assign(Object.assign({},i),{send_to:o});t("event",n,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RL(){if(RC())try{await IC()}catch(t){return Bn.warn(Xn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Bn.warn(Xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function IL(t,e,n,i,r,o,c){var h;const f=wL(t);f.then(x=>{n[x.measurementId]=x.appId,t.options.measurementId&&x.measurementId!==t.options.measurementId&&Bn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>Bn.error(x)),e.push(f);const m=RL().then(x=>{if(x)return i.getId()}),[g,v]=await Promise.all([f,m]);yL(o)||hL(o,g.measurementId),r("js",new Date);const E=(h=c==null?void 0:c.config)!==null&&h!==void 0?h:{};return E[rL]="firebase",E.update=!0,v!=null&&(E[sL]=v),r("config",g.measurementId,E),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e){this.app=e}_delete(){return delete Fu[this.app.options.appId],Promise.resolve()}}let Fu={},A1=[];const C1={};let Ly="dataLayer",DL="gtag",R1,sR,I1=!1;function kL(){const t=[];if(AC()&&t.push("This is a browser extension environment."),WM()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,r)=>`(${r+1}) ${i}`).join(" "),n=Xn.create("invalid-analytics-context",{errorInfo:e});Bn.warn(n.message)}}function PL(t,e,n){kL();const i=t.options.appId;if(!i)throw Xn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Bn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Xn.create("no-api-key");if(Fu[i]!=null)throw Xn.create("already-exists",{id:i});if(!I1){fL(Ly);const{wrappedGtag:o,gtagCore:c}=gL(Fu,A1,C1,Ly,DL);sR=o,R1=c,I1=!0}return Fu[i]=IL(t,A1,C1,e,R1,Ly,n),new NL(t)}function OL(t=ic()){t=bt(t);const e=ps(t,tm);return e.isInitialized()?e.getImmediate():ML(t)}function ML(t,e={}){const n=ps(t,tm);if(n.isInitialized()){const r=n.getImmediate();if(er(e,n.getOptions()))return r;throw Xn.create("already-initialized")}return n.initialize({options:e})}function VL(t,e,n,i){t=bt(t),CL(sR,Fu[t.app.options.appId],e,n,i).catch(r=>Bn.error(r))}const N1="@firebase/analytics",D1="0.10.12";function LL(){Jn(new Fn(tm,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return PL(i,r,n)},"PUBLIC")),Jn(new Fn("analytics-internal",t,"PRIVATE")),rn(N1,D1),rn(N1,D1,"esm2017");function t(e){try{const n=e.getProvider(tm).getImmediate();return{logEvent:(i,r,o)=>VL(n,i,r,o)}}catch(n){throw Xn.create("interop-component-reg-failed",{reason:n})}}}LL();function Hv(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function rR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jL=rR,aR=new yo("auth","Firebase",rR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm=new Ih("@firebase/auth");function UL(t,...e){nm.logLevel<=Ve.WARN&&nm.warn(`Auth (${ca}): ${t}`,...e)}function Vd(t,...e){nm.logLevel<=Ve.ERROR&&nm.error(`Auth (${ca}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(t,...e){throw Gv(t,...e)}function Oi(t,...e){return Gv(t,...e)}function qv(t,e,n){const i=Object.assign(Object.assign({},jL()),{[e]:n});return new yo("auth","Firebase",i).create(e,{appName:t.name})}function Qs(t){return qv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function BL(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Ti(t,"argument-error"),qv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Gv(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return aR.create(t,...e)}function ge(t,e,...n){if(!t)throw Gv(e,...n)}function $s(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vd(e),new Error(e)}function nr(t,e){t||$s(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function FL(){return k1()==="http:"||k1()==="https:"}function k1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FL()||AC()||"connection"in navigator)?navigator.onLine:!0}function HL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n){this.shortDelay=e,this.longDelay=n,nr(n>e,"Short delay should be less than long delay!"),this.isMobile=Vv()||CC()}get(){return zL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(t,e){nr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$L=new Nh(3e4,6e4);function hr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function gs(t,e,n,i,r={}){return lR(t,r,async()=>{let o={},c={};i&&(e==="GET"?c=i:o={body:JSON.stringify(i)});const h=nc(Object.assign({key:t.config.apiKey},c)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:f},o);return qM()||(m.referrerPolicy="no-referrer"),oR.fetch()(await cR(t,t.config.apiHost,n,h),m)})}async function lR(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},qL),e);try{const r=new WL(t),o=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Td(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Td(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Td(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw Td(t,"user-disabled",c);const g=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw qv(t,g,m);Ti(t,g)}}catch(r){if(r instanceof ei)throw r;Ti(t,"network-request-failed",{message:String(r)})}}async function Dh(t,e,n,i,r={}){const o=await gs(t,e,n,i,r);return"mfaPendingCredential"in o&&Ti(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function cR(t,e,n,i){const r=`${e}${n}?${i}`,o=t,c=o.config.emulator?$v(t.config,r):`${t.config.apiScheme}://${r}`;return GL.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function KL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class WL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Oi(this.auth,"network-request-failed")),$L.get())})}}function Td(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Oi(t,e,i);return r.customData._tokenResponse=n,r}function P1(t){return t!==void 0&&t.enterprise!==void 0}class YL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return KL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function QL(t,e){return gs(t,"GET","/v2/recaptchaConfig",hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XL(t,e){return gs(t,"POST","/v1/accounts:delete",e)}async function im(t,e){return gs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZL(t,e=!1){const n=bt(t),i=await n.getIdToken(e),r=Kv(i);ge(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:zu(jy(r.auth_time)),issuedAtTime:zu(jy(r.iat)),expirationTime:zu(jy(r.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function jy(t){return Number(t)*1e3}function Kv(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Vd("JWT malformed, contained fewer than 3 sections"),null;try{const r=Xd(n);return r?JSON.parse(r):(Vd("Failed to decode base64 JWT payload"),null)}catch(r){return Vd("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function O1(t){const e=Kv(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof ei&&JL(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function JL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zu(this.lastLoginAt),this.creationTime=zu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sm(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Ul(t,im(n,{idToken:i}));ge(r==null?void 0:r.users.length,n,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const c=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?uR(o.providerUserInfo):[],h=n3(t.providerData,c),f=t.isAnonymous,m=!(t.email&&o.passwordHash)&&!(h!=null&&h.length),g=f?m:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new b_(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function t3(t){const e=bt(t);await sm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function n3(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function uR(t){return t.map(e=>{var{providerId:n}=e,i=Hv(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i3(t,e){const n=await lR(t,{},async()=>{const i=nc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,c=await cR(t,r,"/v1/token",`key=${o}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",oR.fetch()(c,{method:"POST",headers:h,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function s3(t,e){return gs(t,"POST","/v2/accounts:revokeToken",hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):O1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=O1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:o}=await i3(e,n);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:o}=n,c=new kl;return i&&(ge(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),r&&(ge(typeof r=="string","internal-error",{appName:e}),c.accessToken=r),o&&(ge(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kl,this.toJSON())}_performRefresh(){return $s("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(t,e){ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ni{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=Hv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new e3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new b_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ul(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZL(this,e)}reload(){return t3(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ni(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await sm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(Qs(this.auth));const e=await this.getIdToken();return await Ul(this,XL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,c,h,f,m,g;const v=(i=n.displayName)!==null&&i!==void 0?i:void 0,E=(r=n.email)!==null&&r!==void 0?r:void 0,x=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,A=(c=n.photoURL)!==null&&c!==void 0?c:void 0,D=(h=n.tenantId)!==null&&h!==void 0?h:void 0,N=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,P=(m=n.createdAt)!==null&&m!==void 0?m:void 0,U=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:L,emailVerified:Q,isAnonymous:Y,providerData:ne,stsTokenManager:k}=n;ge(L&&k,e,"internal-error");const C=kl.fromJSON(this.name,k);ge(typeof L=="string",e,"internal-error"),Fr(v,e.name),Fr(E,e.name),ge(typeof Q=="boolean",e,"internal-error"),ge(typeof Y=="boolean",e,"internal-error"),Fr(x,e.name),Fr(A,e.name),Fr(D,e.name),Fr(N,e.name),Fr(P,e.name),Fr(U,e.name);const I=new Ni({uid:L,auth:e,email:E,emailVerified:Q,displayName:v,isAnonymous:Y,photoURL:A,phoneNumber:x,tenantId:D,stsTokenManager:C,createdAt:P,lastLoginAt:U});return ne&&Array.isArray(ne)&&(I.providerData=ne.map(j=>Object.assign({},j))),N&&(I._redirectEventId=N),I}static async _fromIdTokenResponse(e,n,i=!1){const r=new kl;r.updateFromServerResponse(n);const o=new Ni({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await sm(o),o}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];ge(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?uR(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!(o!=null&&o.length),h=new kl;h.updateFromIdToken(i);const f=new Ni({uid:r.localId,auth:e,stsTokenManager:h,isAnonymous:c}),m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new b_(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=new Map;function Ks(t){nr(t instanceof Function,"Expected a class definition");let e=M1.get(t);return e?(nr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,M1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hR.type="NONE";const V1=hR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(t,e,n){return`firebase:${t}:${e}:${n}`}class Pl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Ld(this.userKey,r.apiKey,o),this.fullPersistenceKey=Ld("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await im(this.auth,{idToken:e}).catch(()=>{});return n?Ni._fromGetAccountInfoResponse(this.auth,n,e):null}return Ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Pl(Ks(V1),e,i);const r=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=r[0]||Ks(V1);const c=Ld(i,e.config.apiKey,e.name);let h=null;for(const m of n)try{const g=await m._get(c);if(g){let v;if(typeof g=="string"){const E=await im(e,{idToken:g}).catch(()=>{});if(!E)break;v=await Ni._fromGetAccountInfoResponse(e,E,g)}else v=Ni._fromJSON(e,g);m!==o&&(h=v),o=m;break}}catch{}const f=r.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Pl(o,e,i):(o=f[0],h&&await o._set(c,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new Pl(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yR(e))return"Blackberry";if(_R(e))return"Webos";if(dR(e))return"Safari";if((e.includes("chrome/")||mR(e))&&!e.includes("edge/"))return"Chrome";if(gR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function fR(t=Cn()){return/firefox\//i.test(t)}function dR(t=Cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mR(t=Cn()){return/crios\//i.test(t)}function pR(t=Cn()){return/iemobile/i.test(t)}function gR(t=Cn()){return/android/i.test(t)}function yR(t=Cn()){return/blackberry/i.test(t)}function _R(t=Cn()){return/webos/i.test(t)}function Wv(t=Cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function r3(t=Cn()){var e;return Wv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function a3(){return GM()&&document.documentMode===10}function vR(t=Cn()){return Wv(t)||gR(t)||_R(t)||yR(t)||/windows phone/i.test(t)||pR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(t,e=[]){let n;switch(t){case"Browser":n=L1(Cn());break;case"Worker":n=`${L1(Cn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ca}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((c,h)=>{try{const f=e(o);c(f)}catch(f){h(f)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l3(t,e={}){return gs(t,"GET","/v2/passwordPolicy",hr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3=6;class u3{constructor(e){var n,i,r,o;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:c3,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,o,c,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(r=f.containsLowercaseLetter)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new j1(this),this.idTokenSubscription=new j1(this),this.beforeStateQueue=new o3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ks(n)),this._initializationPromise=this.queue(async()=>{var i,r,o;if(!this._deleted&&(this.persistenceManager=await Pl.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await im(this,{idToken:e}),i=await Ni._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(xn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===h)&&(f!=null&&f.user)&&(r=f.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xn(this.app))return Promise.reject(Qs(this));const n=e?bt(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(Qs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xn(this.app)?Promise.reject(Qs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ks(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await l3(this),n=new u3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yo("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await s3(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ks(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await Pl.create(this,[Ks(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,i,r);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&UL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ys(t){return bt(t)}class j1{constructor(e){this.auth=e,this.observer=null,this.addObserver=t4(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function f3(t){Wm=t}function ER(t){return Wm.loadJS(t)}function d3(){return Wm.recaptchaEnterpriseScript}function m3(){return Wm.gapiScript}function p3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class g3{constructor(){this.enterprise=new y3}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class y3{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const _3="recaptcha-enterprise",bR="NO_RECAPTCHA";class v3{constructor(e){this.type=_3,this.auth=ys(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{QL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new YL(f);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,c(m.siteKey)}}).catch(f=>{h(f)})})}function r(o,c,h){const f=window.grecaptcha;P1(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(m=>{c(m)}).catch(()=>{c(bR)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new g3().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{i(this.auth).then(h=>{if(!n&&P1(window.grecaptcha))r(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=d3();f.length!==0&&(f+=h),ER(f).then(()=>{r(h,o,c)}).catch(m=>{c(m)})}}).catch(h=>{c(h)})})}}async function U1(t,e,n,i=!1,r=!1){const o=new v3(t);let c;if(r)c=bR;else try{c=await o.verify(n)}catch{c=await o.verify(n,!0)}const h=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function rm(t,e,n,i,r){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await U1(t,e,n,n==="getOobCode");return i(t,c)}else return i(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await U1(t,e,n,n==="getOobCode");return i(t,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(t,e){const n=ps(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),o=n.getOptions();if(er(o,e??{}))return r;Ti(r,"already-initialized")}return n.initialize({options:e})}function E3(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Ks);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function b3(t,e,n){const i=ys(t);ge(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,o=wR(e),{host:c,port:h}=w3(e),f=h===null?"":`:${h}`,m={url:`${o}//${c}${f}/`},g=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){ge(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ge(er(m,i.config.emulator)&&er(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,x3()}function wR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function w3(t){const e=wR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:B1(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:B1(c)}}}function B1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function x3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $s("not implemented")}_getIdTokenResponse(e){return $s("not implemented")}_linkToIdToken(e,n){return $s("not implemented")}_getReauthenticationResolver(e){return $s("not implemented")}}async function S3(t,e){return gs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A3(t,e){return Dh(t,"POST","/v1/accounts:signInWithPassword",hr(t,e))}async function xR(t,e){return gs(t,"POST","/v1/accounts:sendOobCode",hr(t,e))}async function C3(t,e){return xR(t,e)}async function R3(t,e){return xR(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I3(t,e){return Dh(t,"POST","/v1/accounts:signInWithEmailLink",hr(t,e))}async function N3(t,e){return Dh(t,"POST","/v1/accounts:signInWithEmailLink",hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh extends Yv{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new rh(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new rh(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rm(e,n,"signInWithPassword",A3);case"emailLink":return I3(e,{email:this._email,oobCode:this._password});default:Ti(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rm(e,i,"signUpPassword",S3);case"emailLink":return N3(e,{idToken:n,email:this._email,oobCode:this._password});default:Ti(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(t,e){return Dh(t,"POST","/v1/accounts:signInWithIdp",hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3="http://localhost";class ir extends Yv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ir(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ti("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,o=Hv(n,["providerId","signInMethod"]);if(!i||!r)return null;const c=new ir(i,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Ol(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Ol(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ol(e,n)}buildRequest(){const e={requestUri:D3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function P3(t){const e=Ou(Mu(t)).link,n=e?Ou(Mu(e)).deep_link_id:null,i=Ou(Mu(t)).deep_link_id;return(i?Ou(Mu(i)).link:null)||i||n||e||t}class Qv{constructor(e){var n,i,r,o,c,h;const f=Ou(Mu(e)),m=(n=f.apiKey)!==null&&n!==void 0?n:null,g=(i=f.oobCode)!==null&&i!==void 0?i:null,v=k3((r=f.mode)!==null&&r!==void 0?r:null);ge(m&&g&&v,"argument-error"),this.apiKey=m,this.operation=v,this.code=g,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(c=f.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=P3(e);try{return new Qv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(){this.providerId=sc.PROVIDER_ID}static credential(e,n){return rh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Qv.parseLink(n);return ge(i,"argument-error"),rh._fromEmailAndCode(e,i.code,i.tenantId)}}sc.PROVIDER_ID="password";sc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";sc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends Xv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Hu extends rc{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return ge("providerId"in n&&"signInMethod"in n,"argument-error"),ir._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return ge(e.idToken||e.accessToken,"argument-error"),ir._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Hu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Hu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i,oauthTokenSecret:r,pendingToken:o,nonce:c,providerId:h}=e;if(!i&&!r&&!n&&!o||!h)return null;try{return new Hu(h)._credential({idToken:n,accessToken:i,nonce:c,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends rc{constructor(){super("facebook.com")}static credential(e){return ir._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hr.credential(e.oauthAccessToken)}catch{return null}}}Hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends rc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ir._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return ns.credential(n,i)}catch{return null}}}ns.GOOGLE_SIGN_IN_METHOD="google.com";ns.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends rc{constructor(){super("github.com")}static credential(e){return ir._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qr.credential(e.oauthAccessToken)}catch{return null}}}qr.GITHUB_SIGN_IN_METHOD="github.com";qr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends rc{constructor(){super("twitter.com")}static credential(e,n){return ir._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Gr.credential(n,i)}catch{return null}}}Gr.TWITTER_SIGN_IN_METHOD="twitter.com";Gr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O3(t,e){return Dh(t,"POST","/v1/accounts:signUp",hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const o=await Ni._fromIdTokenResponse(e,i,r),c=F1(i);return new lo({user:o,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=F1(i);return new lo({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function F1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am extends ei{constructor(e,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,am.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new am(e,n,i,r)}}function SR(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?am._fromErrorAndOperation(t,o,e,i):o})}async function M3(t,e,n=!1){const i=await Ul(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return lo._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V3(t,e,n=!1){const{auth:i}=t;if(xn(i.app))return Promise.reject(Qs(i));const r="reauthenticate";try{const o=await Ul(t,SR(i,r,e,t),n);ge(o.idToken,i,"internal-error");const c=Kv(o.idToken);ge(c,i,"internal-error");const{sub:h}=c;return ge(t.uid===h,i,"user-mismatch"),lo._forOperation(t,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ti(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AR(t,e,n=!1){if(xn(t.app))return Promise.reject(Qs(t));const i="signIn",r=await SR(t,i,e),o=await lo._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(o.user),o}async function L3(t,e){return AR(ys(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(t,e,n){var i;ge(((i=n.url)===null||i===void 0?void 0:i.length)>0,t,"invalid-continue-uri"),ge(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),ge(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ge(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ge(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CR(t){const e=ys(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function U3(t,e,n){const i=ys(t);await rm(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",R3)}async function B3(t,e,n){if(xn(t.app))return Promise.reject(Qs(t));const i=ys(t),c=await rm(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",O3).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&CR(t),f}),h=await lo._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function F3(t,e,n){return xn(t.app)?Promise.reject(Qs(t)):L3(bt(t),sc.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&CR(t),i})}async function z3(t,e){const n=bt(t),r={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&j3(n.auth,r,e);const{email:o}=await C3(n.auth,r);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H3(t,e){return gs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q3(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=bt(t),o={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await Ul(i,H3(i.auth,o));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const h=i.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=i.displayName,h.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(t,e){return bt(t).setPersistence(e)}function $3(t,e,n,i){return bt(t).onIdTokenChanged(e,n,i)}function K3(t,e,n){return bt(t).beforeAuthStateChanged(e,n)}function W3(t,e,n,i){return bt(t).onAuthStateChanged(e,n,i)}const om="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(om,"1"),this.storage.removeItem(om),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3=1e3,Q3=10;class IR extends RR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);a3()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,Q3):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},Y3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}IR.type="LOCAL";const NR=IR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR extends RR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}DR.type="SESSION";const Zv=DR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new Ym(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:o}=n.data,c=this.handlersMap[r];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(c).map(async m=>m(n.origin,o)),f=await X3(h);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ym.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((h,f)=>{const m=Jv("",20);r.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:r,onMessage(v){const E=v;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(E.data.response);break;default:clearTimeout(g),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(){return window}function J3(t){ss().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(){return typeof ss().WorkerGlobalScope<"u"&&typeof ss().importScripts=="function"}async function e5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function t5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function n5(){return kR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR="firebaseLocalStorageDb",i5=1,lm="firebaseLocalStorage",OR="fbase_key";class kh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qm(t,e){return t.transaction([lm],e?"readwrite":"readonly").objectStore(lm)}function s5(){const t=indexedDB.deleteDatabase(PR);return new kh(t).toPromise()}function w_(){const t=indexedDB.open(PR,i5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(lm,{keyPath:OR})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(lm)?e(i):(i.close(),await s5(),e(await w_()))})})}async function z1(t,e,n){const i=Qm(t,!0).put({[OR]:e,value:n});return new kh(i).toPromise()}async function r5(t,e){const n=Qm(t,!1).get(e),i=await new kh(n).toPromise();return i===void 0?null:i.value}function H1(t,e){const n=Qm(t,!0).delete(e);return new kh(n).toPromise()}const a5=800,o5=3;class MR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await w_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>o5)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ym._getInstance(n5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await e5(),!this.activeServiceWorker)return;this.sender=new Z3(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||t5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await w_();return await z1(e,om,"1"),await H1(e,om),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>z1(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>r5(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>H1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=Qm(r,!1).getAll();return new kh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:o}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),a5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}MR.type="LOCAL";const l5=MR;new Nh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(t,e){return e?Ks(e):(ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0 extends Yv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ol(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ol(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ol(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function c5(t){return AR(t.auth,new e0(t),t.bypassAuthState)}function u5(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),V3(n,new e0(t),t.bypassAuthState)}async function h5(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),M3(n,new e0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:c,type:h}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return c5;case"linkViaPopup":case"linkViaRedirect":return h5;case"reauthViaPopup":case"reauthViaRedirect":return u5;default:Ti(this.auth,"internal-error")}}resolve(e){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5=new Nh(2e3,1e4);async function d5(t,e,n){if(xn(t.app))return Promise.reject(Oi(t,"operation-not-supported-in-this-environment"));const i=ys(t);BL(t,e,Xv);const r=VR(i,n);return new Ja(i,"signInViaPopup",e,r).executeNotNull()}class Ja extends LR{constructor(e,n,i,r,o){super(e,n,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Ja.currentPopupAction&&Ja.currentPopupAction.cancel(),Ja.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){nr(this.filter.length===1,"Popup operations only handle one event");const e=Jv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ja.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,f5.get())};e()}}Ja.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5="pendingRedirect",jd=new Map;class p5 extends LR{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=jd.get(this.auth._key());if(!e){try{const i=await g5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}jd.set(this.auth._key(),e)}return this.bypassAuthState||jd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function g5(t,e){const n=v5(e),i=_5(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function y5(t,e){jd.set(t._key(),e)}function _5(t){return Ks(t._redirectPersistence)}function v5(t){return Ld(m5,t.config.apiKey,t.name)}async function jR(t,e){return await ys(t)._initializationPromise,UR(t,e,!1)}async function UR(t,e,n=!1){if(xn(t.app))return Promise.reject(Qs(t));const i=ys(t),r=VR(i,e),c=await new p5(i,r,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5=10*60*1e3;class E5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!b5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!BR(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Oi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=T5&&this.cachedEventUids.clear(),this.cachedEventUids.has(q1(e))}saveEventToCache(e){this.cachedEventUids.add(q1(e)),this.lastProcessedEventTime=Date.now()}}function q1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function BR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function b5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w5(t,e={}){return gs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,S5=/^https?/;async function A5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await w5(t);for(const n of e)try{if(C5(n))return}catch{}Ti(t,"unauthorized-domain")}function C5(t){const e=E_(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!S5.test(n))return!1;if(x5.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5=new Nh(3e4,6e4);function G1(){const t=ss().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function I5(t){return new Promise((e,n)=>{var i,r,o;function c(){G1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{G1(),n(Oi(t,"network-request-failed"))},timeout:R5.get()})}if(!((r=(i=ss().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=ss().gapi)===null||o===void 0)&&o.load)c();else{const h=p3("iframefcb");return ss()[h]=()=>{gapi.load?c():n(Oi(t,"network-request-failed"))},ER(`${m3()}?onload=${h}`).catch(f=>n(f))}}).catch(e=>{throw Ud=null,e})}let Ud=null;function N5(t){return Ud=Ud||I5(t),Ud}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5=new Nh(5e3,15e3),k5="__/auth/iframe",P5="emulator/auth/iframe",O5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},M5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function V5(t){const e=t.config;ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?$v(e,P5):`https://${t.config.authDomain}/${k5}`,i={apiKey:e.apiKey,appName:t.name,v:ca},r=M5.get(t.config.apiHost);r&&(i.eid=r);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${nc(i).slice(1)}`}async function L5(t){const e=await N5(t),n=ss().gapi;return ge(n,t,"internal-error"),e.open({where:document.body,url:V5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:O5,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const c=Oi(t,"network-request-failed"),h=ss().setTimeout(()=>{o(c)},D5.get());function f(){ss().clearTimeout(h),r(i)}i.ping(f).then(f,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},U5=500,B5=600,F5="_blank",z5="http://localhost";class $1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function H5(t,e,n,i=U5,r=B5){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f=Object.assign(Object.assign({},j5),{width:i.toString(),height:r.toString(),top:o,left:c}),m=Cn().toLowerCase();n&&(h=mR(m)?F5:n),fR(m)&&(e=e||z5,f.scrollbars="yes");const g=Object.entries(f).reduce((E,[x,A])=>`${E}${x}=${A},`,"");if(r3(m)&&h!=="_self")return q5(e||"",h),new $1(null);const v=window.open(e||"",h,g);ge(v,t,"popup-blocked");try{v.focus()}catch{}return new $1(v)}function q5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5="__/auth/handler",$5="emulator/auth/handler",K5=encodeURIComponent("fac");async function K1(t,e,n,i,r,o){ge(t.config.authDomain,t,"auth-domain-config-required"),ge(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ca,eventId:r};if(e instanceof Xv){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",m_(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))c[g]=v}if(e instanceof rc){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const f=await t._getAppCheckToken(),m=f?`#${K5}=${encodeURIComponent(f)}`:"";return`${W5(t)}?${nc(h).slice(1)}${m}`}function W5({config:t}){return t.emulator?$v(t,$5):`https://${t.authDomain}/${G5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="webStorageSupport";class Y5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zv,this._completeRedirectFn=UR,this._overrideRedirectResult=y5}async _openPopup(e,n,i,r){var o;nr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await K1(e,n,i,E_(),r);return H5(e,c,Jv())}async _openRedirect(e,n,i,r){await this._originValidation(e);const o=await K1(e,n,i,E_(),r);return J3(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(nr(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await L5(e),i=new E5(e);return n.register("authEvent",r=>(ge(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Uy,{type:Uy},r=>{var o;const c=(o=r==null?void 0:r[0])===null||o===void 0?void 0:o[Uy];c!==void 0&&n(!!c),Ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=A5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vR()||dR()||Wv()}}const Q5=Y5;var W1="@firebase/auth",Y1="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function J5(t){Jn(new Fn("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;ge(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TR(t)},m=new h3(i,r,o,f);return E3(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Jn(new Fn("auth-internal",e=>{const n=ys(e.getProvider("auth").getImmediate());return(i=>new X5(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rn(W1,Y1,Z5(t)),rn(W1,Y1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej=5*60,tj=SC("authIdTokenMaxAge")||ej;let Q1=null;const nj=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>tj)return;const r=n==null?void 0:n.token;Q1!==r&&(Q1=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function ij(t=ic()){const e=ps(t,"auth");if(e.isInitialized())return e.getImmediate();const n=T3(t,{popupRedirectResolver:Q5,persistence:[l5,NR,Zv]}),i=SC("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=nj(o.toString());K3(n,c,()=>c(n.currentUser)),$3(n,h=>c(h))}}const r=wC("auth");return r&&b3(n,`http://${r}`),n}function sj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}f3({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const o=Oi("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",sj().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});J5("Browser");var X1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yr,FR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,C){function I(){}I.prototype=C.prototype,k.D=C.prototype,k.prototype=new I,k.prototype.constructor=k,k.C=function(j,F,z){for(var V=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)V[pt-2]=arguments[pt];return C.prototype[F].apply(j,V)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(k,C,I){I||(I=0);var j=Array(16);if(typeof C=="string")for(var F=0;16>F;++F)j[F]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(F=0;16>F;++F)j[F]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=k.g[0],I=k.g[1],F=k.g[2];var z=k.g[3],V=C+(z^I&(F^z))+j[0]+3614090360&4294967295;C=I+(V<<7&4294967295|V>>>25),V=z+(F^C&(I^F))+j[1]+3905402710&4294967295,z=C+(V<<12&4294967295|V>>>20),V=F+(I^z&(C^I))+j[2]+606105819&4294967295,F=z+(V<<17&4294967295|V>>>15),V=I+(C^F&(z^C))+j[3]+3250441966&4294967295,I=F+(V<<22&4294967295|V>>>10),V=C+(z^I&(F^z))+j[4]+4118548399&4294967295,C=I+(V<<7&4294967295|V>>>25),V=z+(F^C&(I^F))+j[5]+1200080426&4294967295,z=C+(V<<12&4294967295|V>>>20),V=F+(I^z&(C^I))+j[6]+2821735955&4294967295,F=z+(V<<17&4294967295|V>>>15),V=I+(C^F&(z^C))+j[7]+4249261313&4294967295,I=F+(V<<22&4294967295|V>>>10),V=C+(z^I&(F^z))+j[8]+1770035416&4294967295,C=I+(V<<7&4294967295|V>>>25),V=z+(F^C&(I^F))+j[9]+2336552879&4294967295,z=C+(V<<12&4294967295|V>>>20),V=F+(I^z&(C^I))+j[10]+4294925233&4294967295,F=z+(V<<17&4294967295|V>>>15),V=I+(C^F&(z^C))+j[11]+2304563134&4294967295,I=F+(V<<22&4294967295|V>>>10),V=C+(z^I&(F^z))+j[12]+1804603682&4294967295,C=I+(V<<7&4294967295|V>>>25),V=z+(F^C&(I^F))+j[13]+4254626195&4294967295,z=C+(V<<12&4294967295|V>>>20),V=F+(I^z&(C^I))+j[14]+2792965006&4294967295,F=z+(V<<17&4294967295|V>>>15),V=I+(C^F&(z^C))+j[15]+1236535329&4294967295,I=F+(V<<22&4294967295|V>>>10),V=C+(F^z&(I^F))+j[1]+4129170786&4294967295,C=I+(V<<5&4294967295|V>>>27),V=z+(I^F&(C^I))+j[6]+3225465664&4294967295,z=C+(V<<9&4294967295|V>>>23),V=F+(C^I&(z^C))+j[11]+643717713&4294967295,F=z+(V<<14&4294967295|V>>>18),V=I+(z^C&(F^z))+j[0]+3921069994&4294967295,I=F+(V<<20&4294967295|V>>>12),V=C+(F^z&(I^F))+j[5]+3593408605&4294967295,C=I+(V<<5&4294967295|V>>>27),V=z+(I^F&(C^I))+j[10]+38016083&4294967295,z=C+(V<<9&4294967295|V>>>23),V=F+(C^I&(z^C))+j[15]+3634488961&4294967295,F=z+(V<<14&4294967295|V>>>18),V=I+(z^C&(F^z))+j[4]+3889429448&4294967295,I=F+(V<<20&4294967295|V>>>12),V=C+(F^z&(I^F))+j[9]+568446438&4294967295,C=I+(V<<5&4294967295|V>>>27),V=z+(I^F&(C^I))+j[14]+3275163606&4294967295,z=C+(V<<9&4294967295|V>>>23),V=F+(C^I&(z^C))+j[3]+4107603335&4294967295,F=z+(V<<14&4294967295|V>>>18),V=I+(z^C&(F^z))+j[8]+1163531501&4294967295,I=F+(V<<20&4294967295|V>>>12),V=C+(F^z&(I^F))+j[13]+2850285829&4294967295,C=I+(V<<5&4294967295|V>>>27),V=z+(I^F&(C^I))+j[2]+4243563512&4294967295,z=C+(V<<9&4294967295|V>>>23),V=F+(C^I&(z^C))+j[7]+1735328473&4294967295,F=z+(V<<14&4294967295|V>>>18),V=I+(z^C&(F^z))+j[12]+2368359562&4294967295,I=F+(V<<20&4294967295|V>>>12),V=C+(I^F^z)+j[5]+4294588738&4294967295,C=I+(V<<4&4294967295|V>>>28),V=z+(C^I^F)+j[8]+2272392833&4294967295,z=C+(V<<11&4294967295|V>>>21),V=F+(z^C^I)+j[11]+1839030562&4294967295,F=z+(V<<16&4294967295|V>>>16),V=I+(F^z^C)+j[14]+4259657740&4294967295,I=F+(V<<23&4294967295|V>>>9),V=C+(I^F^z)+j[1]+2763975236&4294967295,C=I+(V<<4&4294967295|V>>>28),V=z+(C^I^F)+j[4]+1272893353&4294967295,z=C+(V<<11&4294967295|V>>>21),V=F+(z^C^I)+j[7]+4139469664&4294967295,F=z+(V<<16&4294967295|V>>>16),V=I+(F^z^C)+j[10]+3200236656&4294967295,I=F+(V<<23&4294967295|V>>>9),V=C+(I^F^z)+j[13]+681279174&4294967295,C=I+(V<<4&4294967295|V>>>28),V=z+(C^I^F)+j[0]+3936430074&4294967295,z=C+(V<<11&4294967295|V>>>21),V=F+(z^C^I)+j[3]+3572445317&4294967295,F=z+(V<<16&4294967295|V>>>16),V=I+(F^z^C)+j[6]+76029189&4294967295,I=F+(V<<23&4294967295|V>>>9),V=C+(I^F^z)+j[9]+3654602809&4294967295,C=I+(V<<4&4294967295|V>>>28),V=z+(C^I^F)+j[12]+3873151461&4294967295,z=C+(V<<11&4294967295|V>>>21),V=F+(z^C^I)+j[15]+530742520&4294967295,F=z+(V<<16&4294967295|V>>>16),V=I+(F^z^C)+j[2]+3299628645&4294967295,I=F+(V<<23&4294967295|V>>>9),V=C+(F^(I|~z))+j[0]+4096336452&4294967295,C=I+(V<<6&4294967295|V>>>26),V=z+(I^(C|~F))+j[7]+1126891415&4294967295,z=C+(V<<10&4294967295|V>>>22),V=F+(C^(z|~I))+j[14]+2878612391&4294967295,F=z+(V<<15&4294967295|V>>>17),V=I+(z^(F|~C))+j[5]+4237533241&4294967295,I=F+(V<<21&4294967295|V>>>11),V=C+(F^(I|~z))+j[12]+1700485571&4294967295,C=I+(V<<6&4294967295|V>>>26),V=z+(I^(C|~F))+j[3]+2399980690&4294967295,z=C+(V<<10&4294967295|V>>>22),V=F+(C^(z|~I))+j[10]+4293915773&4294967295,F=z+(V<<15&4294967295|V>>>17),V=I+(z^(F|~C))+j[1]+2240044497&4294967295,I=F+(V<<21&4294967295|V>>>11),V=C+(F^(I|~z))+j[8]+1873313359&4294967295,C=I+(V<<6&4294967295|V>>>26),V=z+(I^(C|~F))+j[15]+4264355552&4294967295,z=C+(V<<10&4294967295|V>>>22),V=F+(C^(z|~I))+j[6]+2734768916&4294967295,F=z+(V<<15&4294967295|V>>>17),V=I+(z^(F|~C))+j[13]+1309151649&4294967295,I=F+(V<<21&4294967295|V>>>11),V=C+(F^(I|~z))+j[4]+4149444226&4294967295,C=I+(V<<6&4294967295|V>>>26),V=z+(I^(C|~F))+j[11]+3174756917&4294967295,z=C+(V<<10&4294967295|V>>>22),V=F+(C^(z|~I))+j[2]+718787259&4294967295,F=z+(V<<15&4294967295|V>>>17),V=I+(z^(F|~C))+j[9]+3951481745&4294967295,k.g[0]=k.g[0]+C&4294967295,k.g[1]=k.g[1]+(F+(V<<21&4294967295|V>>>11))&4294967295,k.g[2]=k.g[2]+F&4294967295,k.g[3]=k.g[3]+z&4294967295}i.prototype.u=function(k,C){C===void 0&&(C=k.length);for(var I=C-this.blockSize,j=this.B,F=this.h,z=0;z<C;){if(F==0)for(;z<=I;)r(this,k,z),z+=this.blockSize;if(typeof k=="string"){for(;z<C;)if(j[F++]=k.charCodeAt(z++),F==this.blockSize){r(this,j),F=0;break}}else for(;z<C;)if(j[F++]=k[z++],F==this.blockSize){r(this,j),F=0;break}}this.h=F,this.o+=C},i.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var C=1;C<k.length-8;++C)k[C]=0;var I=8*this.o;for(C=k.length-8;C<k.length;++C)k[C]=I&255,I/=256;for(this.u(k),k=Array(16),C=I=0;4>C;++C)for(var j=0;32>j;j+=8)k[I++]=this.g[C]>>>j&255;return k};function o(k,C){var I=h;return Object.prototype.hasOwnProperty.call(I,k)?I[k]:I[k]=C(k)}function c(k,C){this.h=C;for(var I=[],j=!0,F=k.length-1;0<=F;F--){var z=k[F]|0;j&&z==C||(I[F]=z,j=!1)}this.g=I}var h={};function f(k){return-128<=k&&128>k?o(k,function(C){return new c([C|0],0>C?-1:0)}):new c([k|0],0>k?-1:0)}function m(k){if(isNaN(k)||!isFinite(k))return v;if(0>k)return N(m(-k));for(var C=[],I=1,j=0;k>=I;j++)C[j]=k/I|0,I*=4294967296;return new c(C,0)}function g(k,C){if(k.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(k.charAt(0)=="-")return N(g(k.substring(1),C));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=m(Math.pow(C,8)),j=v,F=0;F<k.length;F+=8){var z=Math.min(8,k.length-F),V=parseInt(k.substring(F,F+z),C);8>z?(z=m(Math.pow(C,z)),j=j.j(z).add(m(V))):(j=j.j(I),j=j.add(m(V)))}return j}var v=f(0),E=f(1),x=f(16777216);t=c.prototype,t.m=function(){if(D(this))return-N(this).m();for(var k=0,C=1,I=0;I<this.g.length;I++){var j=this.i(I);k+=(0<=j?j:4294967296+j)*C,C*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(A(this))return"0";if(D(this))return"-"+N(this).toString(k);for(var C=m(Math.pow(k,6)),I=this,j="";;){var F=Q(I,C).g;I=P(I,F.j(C));var z=((0<I.g.length?I.g[0]:I.h)>>>0).toString(k);if(I=F,A(I))return z+j;for(;6>z.length;)z="0"+z;j=z+j}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function A(k){if(k.h!=0)return!1;for(var C=0;C<k.g.length;C++)if(k.g[C]!=0)return!1;return!0}function D(k){return k.h==-1}t.l=function(k){return k=P(this,k),D(k)?-1:A(k)?0:1};function N(k){for(var C=k.g.length,I=[],j=0;j<C;j++)I[j]=~k.g[j];return new c(I,~k.h).add(E)}t.abs=function(){return D(this)?N(this):this},t.add=function(k){for(var C=Math.max(this.g.length,k.g.length),I=[],j=0,F=0;F<=C;F++){var z=j+(this.i(F)&65535)+(k.i(F)&65535),V=(z>>>16)+(this.i(F)>>>16)+(k.i(F)>>>16);j=V>>>16,z&=65535,V&=65535,I[F]=V<<16|z}return new c(I,I[I.length-1]&-2147483648?-1:0)};function P(k,C){return k.add(N(C))}t.j=function(k){if(A(this)||A(k))return v;if(D(this))return D(k)?N(this).j(N(k)):N(N(this).j(k));if(D(k))return N(this.j(N(k)));if(0>this.l(x)&&0>k.l(x))return m(this.m()*k.m());for(var C=this.g.length+k.g.length,I=[],j=0;j<2*C;j++)I[j]=0;for(j=0;j<this.g.length;j++)for(var F=0;F<k.g.length;F++){var z=this.i(j)>>>16,V=this.i(j)&65535,pt=k.i(F)>>>16,Ie=k.i(F)&65535;I[2*j+2*F]+=V*Ie,U(I,2*j+2*F),I[2*j+2*F+1]+=z*Ie,U(I,2*j+2*F+1),I[2*j+2*F+1]+=V*pt,U(I,2*j+2*F+1),I[2*j+2*F+2]+=z*pt,U(I,2*j+2*F+2)}for(j=0;j<C;j++)I[j]=I[2*j+1]<<16|I[2*j];for(j=C;j<2*C;j++)I[j]=0;return new c(I,0)};function U(k,C){for(;(k[C]&65535)!=k[C];)k[C+1]+=k[C]>>>16,k[C]&=65535,C++}function L(k,C){this.g=k,this.h=C}function Q(k,C){if(A(C))throw Error("division by zero");if(A(k))return new L(v,v);if(D(k))return C=Q(N(k),C),new L(N(C.g),N(C.h));if(D(C))return C=Q(k,N(C)),new L(N(C.g),C.h);if(30<k.g.length){if(D(k)||D(C))throw Error("slowDivide_ only works with positive integers.");for(var I=E,j=C;0>=j.l(k);)I=Y(I),j=Y(j);var F=ne(I,1),z=ne(j,1);for(j=ne(j,2),I=ne(I,2);!A(j);){var V=z.add(j);0>=V.l(k)&&(F=F.add(I),z=V),j=ne(j,1),I=ne(I,1)}return C=P(k,F.j(C)),new L(F,C)}for(F=v;0<=k.l(C);){for(I=Math.max(1,Math.floor(k.m()/C.m())),j=Math.ceil(Math.log(I)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),z=m(I),V=z.j(C);D(V)||0<V.l(k);)I-=j,z=m(I),V=z.j(C);A(z)&&(z=E),F=F.add(z),k=P(k,V)}return new L(F,k)}t.A=function(k){return Q(this,k).h},t.and=function(k){for(var C=Math.max(this.g.length,k.g.length),I=[],j=0;j<C;j++)I[j]=this.i(j)&k.i(j);return new c(I,this.h&k.h)},t.or=function(k){for(var C=Math.max(this.g.length,k.g.length),I=[],j=0;j<C;j++)I[j]=this.i(j)|k.i(j);return new c(I,this.h|k.h)},t.xor=function(k){for(var C=Math.max(this.g.length,k.g.length),I=[],j=0;j<C;j++)I[j]=this.i(j)^k.i(j);return new c(I,this.h^k.h)};function Y(k){for(var C=k.g.length+1,I=[],j=0;j<C;j++)I[j]=k.i(j)<<1|k.i(j-1)>>>31;return new c(I,k.h)}function ne(k,C){var I=C>>5;C%=32;for(var j=k.g.length-I,F=[],z=0;z<j;z++)F[z]=0<C?k.i(z+I)>>>C|k.i(z+I+1)<<32-C:k.i(z+I);return new c(F,k.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,FR=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=g,Yr=c}).apply(typeof X1<"u"?X1:typeof self<"u"?self:typeof window<"u"?window:{});var Ed=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zR,Vu,HR,Bd,x_,qR,GR,$R;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,T,b){return d==Array.prototype||d==Object.prototype||(d[T]=b.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ed=="object"&&Ed];for(var T=0;T<d.length;++T){var b=d[T];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=n(this);function r(d,T){if(T)e:{var b=i;d=d.split(".");for(var R=0;R<d.length-1;R++){var G=d[R];if(!(G in b))break e;b=b[G]}d=d[d.length-1],R=b[d],T=T(R),T!=R&&T!=null&&e(b,d,{configurable:!0,writable:!0,value:T})}}function o(d,T){d instanceof String&&(d+="");var b=0,R=!1,G={next:function(){if(!R&&b<d.length){var Z=b++;return{value:T(Z,d[Z]),done:!1}}return R=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}r("Array.prototype.values",function(d){return d||function(){return o(this,function(T,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function f(d){var T=typeof d;return T=T!="object"?T:d?Array.isArray(d)?"array":T:"null",T=="array"||T=="object"&&typeof d.length=="number"}function m(d){var T=typeof d;return T=="object"&&d!=null||T=="function"}function g(d,T,b){return d.call.apply(d.bind,arguments)}function v(d,T,b){if(!d)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,R),d.apply(T,G)}}return function(){return d.apply(T,arguments)}}function E(d,T,b){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,E.apply(null,arguments)}function x(d,T){var b=Array.prototype.slice.call(arguments,1);return function(){var R=b.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function A(d,T){function b(){}b.prototype=T.prototype,d.aa=T.prototype,d.prototype=new b,d.prototype.constructor=d,d.Qb=function(R,G,Z){for(var ce=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)ce[Be-2]=arguments[Be];return T.prototype[G].apply(R,ce)}}function D(d){const T=d.length;if(0<T){const b=Array(T);for(let R=0;R<T;R++)b[R]=d[R];return b}return[]}function N(d,T){for(let b=1;b<arguments.length;b++){const R=arguments[b];if(f(R)){const G=d.length||0,Z=R.length||0;d.length=G+Z;for(let ce=0;ce<Z;ce++)d[G+ce]=R[ce]}else d.push(R)}}class P{constructor(T,b){this.i=T,this.j=b,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function U(d){return/^[\s\xa0]*$/.test(d)}function L(){var d=h.navigator;return d&&(d=d.userAgent)?d:""}function Q(d){return Q[" "](d),d}Q[" "]=function(){};var Y=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function ne(d,T,b){for(const R in d)T.call(b,d[R],R,d)}function k(d,T){for(const b in d)T.call(void 0,d[b],b,d)}function C(d){const T={};for(const b in d)T[b]=d[b];return T}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(d,T){let b,R;for(let G=1;G<arguments.length;G++){R=arguments[G];for(b in R)d[b]=R[b];for(let Z=0;Z<I.length;Z++)b=I[Z],Object.prototype.hasOwnProperty.call(R,b)&&(d[b]=R[b])}}function F(d){var T=1;d=d.split(":");const b=[];for(;0<T&&d.length;)b.push(d.shift()),T--;return d.length&&b.push(d.join(":")),b}function z(d){h.setTimeout(()=>{throw d},0)}function V(){var d=je;let T=null;return d.g&&(T=d.g,d.g=d.g.next,d.g||(d.h=null),T.next=null),T}class pt{constructor(){this.h=this.g=null}add(T,b){const R=Ie.get();R.set(T,b),this.h?this.h.next=R:this.g=R,this.h=R}}var Ie=new P(()=>new J,d=>d.reset());class J{constructor(){this.next=this.g=this.h=null}set(T,b){this.h=T,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,fe=!1,je=new pt,B=()=>{const d=h.Promise.resolve(void 0);ae=()=>{d.then(re)}};var re=()=>{for(var d;d=V();){try{d.h.call(d.g)}catch(b){z(b)}var T=Ie;T.j(d),100>T.h&&(T.h++,d.next=T.g,T.g=d)}fe=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(d,T){this.type=d,this.g=this.target=T,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,T=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const b=()=>{};h.addEventListener("test",b,T),h.removeEventListener("test",b,T)}catch{}return d}();function ke(d,T){if(le.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var b=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=T,T=d.relatedTarget){if(Y){e:{try{Q(T.nodeName);var G=!0;break e}catch{}G=!1}G||(T=null)}}else b=="mouseover"?T=d.fromElement:b=="mouseout"&&(T=d.toElement);this.relatedTarget=T,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Se[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&ke.aa.h.call(this)}}A(ke,le);var Se={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Wt="closure_listenable_"+(1e6*Math.random()|0),lt=0;function ji(d,T,b,R,G){this.listener=d,this.proxy=null,this.src=T,this.type=b,this.capture=!!R,this.ha=G,this.key=++lt,this.da=this.fa=!1}function fr(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function vs(d){this.src=d,this.g={},this.h=0}vs.prototype.add=function(d,T,b,R,G){var Z=d.toString();d=this.g[Z],d||(d=this.g[Z]=[],this.h++);var ce=fa(d,T,R,G);return-1<ce?(T=d[ce],b||(T.fa=!1)):(T=new ji(T,this.src,Z,!!R,G),T.fa=b,d.push(T)),T};function ha(d,T){var b=T.type;if(b in d.g){var R=d.g[b],G=Array.prototype.indexOf.call(R,T,void 0),Z;(Z=0<=G)&&Array.prototype.splice.call(R,G,1),Z&&(fr(T),d.g[b].length==0&&(delete d.g[b],d.h--))}}function fa(d,T,b,R){for(var G=0;G<d.length;++G){var Z=d[G];if(!Z.da&&Z.listener==T&&Z.capture==!!b&&Z.ha==R)return G}return-1}var da="closure_lm_"+(1e6*Math.random()|0),gc={};function Wh(d,T,b,R,G){if(Array.isArray(T)){for(var Z=0;Z<T.length;Z++)Wh(d,T[Z],b,R,G);return null}return b=Yh(b),d&&d[Wt]?d.K(T,b,m(R)?!!R.capture:!1,G):ti(d,T,b,!1,R,G)}function ti(d,T,b,R,G,Z){if(!T)throw Error("Invalid event type");var ce=m(G)?!!G.capture:!!G,Be=Co(d);if(Be||(d[da]=Be=new vs(d)),b=Be.add(T,b,R,ce,Z),b.proxy)return b;if(R=bp(),b.proxy=R,R.src=d,R.listener=b,d.addEventListener)ye||(G=ce),G===void 0&&(G=!1),d.addEventListener(T.toString(),R,G);else if(d.attachEvent)d.attachEvent(ma(T.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return b}function bp(){function d(b){return T.call(d.src,d.listener,b)}const T=wp;return d}function yc(d,T,b,R,G){if(Array.isArray(T))for(var Z=0;Z<T.length;Z++)yc(d,T[Z],b,R,G);else R=m(R)?!!R.capture:!!R,b=Yh(b),d&&d[Wt]?(d=d.i,T=String(T).toString(),T in d.g&&(Z=d.g[T],b=fa(Z,b,R,G),-1<b&&(fr(Z[b]),Array.prototype.splice.call(Z,b,1),Z.length==0&&(delete d.g[T],d.h--)))):d&&(d=Co(d))&&(T=d.g[T.toString()],d=-1,T&&(d=fa(T,b,R,G)),(b=-1<d?T[d]:null)&&Ao(b))}function Ao(d){if(typeof d!="number"&&d&&!d.da){var T=d.src;if(T&&T[Wt])ha(T.i,d);else{var b=d.type,R=d.proxy;T.removeEventListener?T.removeEventListener(b,R,d.capture):T.detachEvent?T.detachEvent(ma(b),R):T.addListener&&T.removeListener&&T.removeListener(R),(b=Co(T))?(ha(b,d),b.h==0&&(b.src=null,T[da]=null)):fr(d)}}}function ma(d){return d in gc?gc[d]:gc[d]="on"+d}function wp(d,T){if(d.da)d=!0;else{T=new ke(T,this);var b=d.listener,R=d.ha||d.src;d.fa&&Ao(d),d=b.call(R,T)}return d}function Co(d){return d=d[da],d instanceof vs?d:null}var _c="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yh(d){return typeof d=="function"?d:(d[_c]||(d[_c]=function(T){return d.handleEvent(T)}),d[_c])}function wt(){ue.call(this),this.i=new vs(this),this.M=this,this.F=null}A(wt,ue),wt.prototype[Wt]=!0,wt.prototype.removeEventListener=function(d,T,b,R){yc(this,d,T,b,R)};function Ze(d,T){var b,R=d.F;if(R)for(b=[];R;R=R.F)b.push(R);if(d=d.M,R=T.type||T,typeof T=="string")T=new le(T,d);else if(T instanceof le)T.target=T.target||d;else{var G=T;T=new le(R,d),j(T,G)}if(G=!0,b)for(var Z=b.length-1;0<=Z;Z--){var ce=T.g=b[Z];G=zn(ce,R,!0,T)&&G}if(ce=T.g=d,G=zn(ce,R,!0,T)&&G,G=zn(ce,R,!1,T)&&G,b)for(Z=0;Z<b.length;Z++)ce=T.g=b[Z],G=zn(ce,R,!1,T)&&G}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var d=this.i,T;for(T in d.g){for(var b=d.g[T],R=0;R<b.length;R++)fr(b[R]);delete d.g[T],d.h--}}this.F=null},wt.prototype.K=function(d,T,b,R){return this.i.add(String(d),T,!1,b,R)},wt.prototype.L=function(d,T,b,R){return this.i.add(String(d),T,!0,b,R)};function zn(d,T,b,R){if(T=d.i.g[String(T)],!T)return!0;T=T.concat();for(var G=!0,Z=0;Z<T.length;++Z){var ce=T[Z];if(ce&&!ce.da&&ce.capture==b){var Be=ce.listener,Ft=ce.ha||ce.src;ce.fa&&ha(d.i,ce),G=Be.call(Ft,R)!==!1&&G}}return G&&!R.defaultPrevented}function pn(d,T,b){if(typeof d=="function")b&&(d=E(d,b));else if(d&&typeof d.handleEvent=="function")d=E(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:h.setTimeout(d,T||0)}function Qh(d){d.g=pn(()=>{d.g=null,d.i&&(d.i=!1,Qh(d))},d.l);const T=d.h;d.h=null,d.m.apply(null,T)}class xp extends ue{constructor(T,b){super(),this.m=T,this.l=b,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Qh(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pa(d){ue.call(this),this.h=d,this.g={}}A(pa,ue);var ga=[];function ya(d){ne(d.g,function(T,b){this.g.hasOwnProperty(b)&&Ao(T)},d),d.g={}}pa.prototype.N=function(){pa.aa.N.call(this),ya(this)},pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bi=h.JSON.stringify,Ro=h.JSON.parse,_a=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function vc(){}vc.prototype.h=null;function Tc(d){return d.h||(d.h=d.i())}function Ec(){}var Ts={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Es(){le.call(this,"d")}A(Es,le);function bc(){le.call(this,"c")}A(bc,le);var Ui={},wc=null;function dr(){return wc=wc||new wt}Ui.La="serverreachability";function Io(d){le.call(this,Ui.La,d)}A(Io,le);function mr(d){const T=dr();Ze(T,new Io(T))}Ui.STAT_EVENT="statevent";function Xh(d,T){le.call(this,Ui.STAT_EVENT,d),this.stat=T}A(Xh,le);function gt(d){const T=dr();Ze(T,new Xh(T,d))}Ui.Ma="timingevent";function Bt(d,T){le.call(this,Ui.Ma,d),this.size=T}A(Bt,le);function Ot(d,T){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},T)}function ni(){this.g=!0}ni.prototype.xa=function(){this.g=!1};function xc(d,T,b,R,G,Z){d.info(function(){if(d.g)if(Z)for(var ce="",Be=Z.split("&"),Ft=0;Ft<Be.length;Ft++){var Fe=Be[Ft].split("=");if(1<Fe.length){var Qt=Fe[0];Fe=Fe[1];var zt=Qt.split("_");ce=2<=zt.length&&zt[1]=="type"?ce+(Qt+"="+Fe+"&"):ce+(Qt+"=redacted&")}}else ce=null;else ce=Z;return"XMLHTTP REQ ("+R+") [attempt "+G+"]: "+T+`
`+b+`
`+ce})}function Sp(d,T,b,R,G,Z,ce){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+G+"]: "+T+`
`+b+`
`+Z+" "+ce})}function pr(d,T,b,R){d.info(function(){return"XMLHTTP TEXT ("+T+"): "+va(d,b)+(R?" "+R:"")})}function Zh(d,T){d.info(function(){return"TIMEOUT: "+T})}ni.prototype.info=function(){};function va(d,T){if(!d.g)return T;if(!T)return null;try{var b=JSON.parse(T);if(b){for(d=0;d<b.length;d++)if(Array.isArray(b[d])){var R=b[d];if(!(2>R.length)){var G=R[1];if(Array.isArray(G)&&!(1>G.length)){var Z=G[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ce=1;ce<G.length;ce++)G[ce]=""}}}}return bi(b)}catch{return T}}var gr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bi;function Fi(){}A(Fi,vc),Fi.prototype.g=function(){return new XMLHttpRequest},Fi.prototype.i=function(){return{}},Bi=new Fi;function Rn(d,T,b,R){this.j=d,this.i=T,this.l=b,this.R=R||1,this.U=new pa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new It}function It(){this.i=null,this.g="",this.h=!1}var Sc={},No={};function wi(d,T,b){d.L=1,d.v=xa(Hn(T)),d.m=b,d.P=!0,ws(d,null)}function ws(d,T){d.F=Date.now(),Ta(d),d.A=Hn(d.v);var b=d.A,R=d.R;Array.isArray(R)||(R=[String(R)]),Dc(b.i,"t",R),d.C=0,b=d.j.J,d.h=new It,d.g=pf(d.j,b?T:null,!d.m),0<d.O&&(d.M=new xp(E(d.Y,d,d.g),d.O)),T=d.U,b=d.g,R=d.ca;var G="readystatechange";Array.isArray(G)||(G&&(ga[0]=G.toString()),G=ga);for(var Z=0;Z<G.length;Z++){var ce=Wh(b,G[Z],R||T.handleEvent,!1,T.h||T);if(!ce)break;T.g[ce.key]=ce}T=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,T)):(d.u="GET",d.g.ea(d.A,d.u,null,T)),mr(),xc(d.i,d.u,d.A,d.l,d.R,d.m)}Rn.prototype.ca=function(d){d=d.target;const T=this.M;T&&ai(d)==3?T.j():this.Y(d)},Rn.prototype.Y=function(d){try{if(d==this.g)e:{const zt=ai(this.g);var T=this.g.Ba();const Ds=this.g.Z();if(!(3>zt)&&(zt!=3||this.g&&(this.h.h||this.g.oa()||of(this.g)))){this.J||zt!=4||T==7||(T==8||0>=Ds?mr(3):mr(2)),yr(this);var b=this.g.Z();this.X=b;t:if(Jh(this)){var R=of(this.g);d="";var G=R.length,Z=ai(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){an(this),zi(this);var ce="";break t}this.h.i=new h.TextDecoder}for(T=0;T<G;T++)this.h.h=!0,d+=this.h.i.decode(R[T],{stream:!(Z&&T==G-1)});R.length=0,this.h.g+=d,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=b==200,Sp(this.i,this.u,this.A,this.l,this.R,zt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Ft=this.g;if((Be=Ft.g?Ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Be)){var Fe=Be;break t}}Fe=null}if(b=Fe)pr(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ea(this,b);else{this.o=!1,this.s=3,gt(12),an(this),zi(this);break e}}if(this.P){b=!0;let on;for(;!this.J&&this.C<ce.length;)if(on=ef(this,ce),on==No){zt==4&&(this.s=4,gt(14),b=!1),pr(this.i,this.l,null,"[Incomplete Response]");break}else if(on==Sc){this.s=4,gt(15),pr(this.i,this.l,ce,"[Invalid Chunk]"),b=!1;break}else pr(this.i,this.l,on,null),Ea(this,on);if(Jh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||ce.length!=0||this.h.h||(this.s=1,gt(16),b=!1),this.o=this.o&&b,!b)pr(this.i,this.l,ce,"[Invalid Chunked Response]"),an(this),zi(this);else if(0<ce.length&&!this.W){this.W=!0;var Qt=this.j;Qt.g==this&&Qt.ba&&!Qt.M&&(Qt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),ka(Qt),Qt.M=!0,gt(11))}}else pr(this.i,this.l,ce,null),Ea(this,ce);zt==4&&an(this),this.o&&!this.J&&(zt==4?ff(this.j,this):(this.o=!1,Ta(this)))}else Np(this.g),b==400&&0<ce.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),an(this),zi(this)}}}catch{}finally{}};function Jh(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function ef(d,T){var b=d.C,R=T.indexOf(`
`,b);return R==-1?No:(b=Number(T.substring(b,R)),isNaN(b)?Sc:(R+=1,R+b>T.length?No:(T=T.slice(R,R+b),d.C=R+b,T)))}Rn.prototype.cancel=function(){this.J=!0,an(this)};function Ta(d){d.S=Date.now()+d.I,tf(d,d.I)}function tf(d,T){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Ot(E(d.ba,d),T)}function yr(d){d.B&&(h.clearTimeout(d.B),d.B=null)}Rn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Zh(this.i,this.A),this.L!=2&&(mr(),gt(17)),an(this),this.s=2,zi(this)):tf(this,this.S-d)};function zi(d){d.j.G==0||d.J||ff(d.j,d)}function an(d){yr(d);var T=d.M;T&&typeof T.ma=="function"&&T.ma(),d.M=null,ya(d.U),d.g&&(T=d.g,d.g=null,T.abort(),T.ma())}function Ea(d,T){try{var b=d.j;if(b.G!=0&&(b.g==d||Ac(b.h,d))){if(!d.K&&Ac(b.h,d)&&b.G==3){try{var R=b.Da.g.parse(T)}catch{R=null}if(Array.isArray(R)&&R.length==3){var G=R;if(G[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<d.F)zo(b),Bo(b);else break e;Vc(b),gt(18)}}else b.za=G[1],0<b.za-b.T&&37500>G[2]&&b.F&&b.v==0&&!b.C&&(b.C=Ot(E(b.Za,b),6e3));if(1>=ko(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Ns(b,11)}else if((d.K||b.g==d)&&zo(b),!U(T))for(G=b.Da.g.parse(T),T=0;T<G.length;T++){let Fe=G[T];if(b.T=Fe[0],Fe=Fe[1],b.G==2)if(Fe[0]=="c"){b.K=Fe[1],b.ia=Fe[2];const Qt=Fe[3];Qt!=null&&(b.la=Qt,b.j.info("VER="+b.la));const zt=Fe[4];zt!=null&&(b.Aa=zt,b.j.info("SVER="+b.Aa));const Ds=Fe[5];Ds!=null&&typeof Ds=="number"&&0<Ds&&(R=1.5*Ds,b.L=R,b.j.info("backChannelRequestTimeoutMs_="+R)),R=b;const on=d.g;if(on){const Yi=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yi){var Z=R.h;Z.g||Yi.indexOf("spdy")==-1&&Yi.indexOf("quic")==-1&&Yi.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Po(Z,Z.h),Z.h=null))}if(R.D){const jc=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;jc&&(R.ya=jc,tt(R.I,R.D,jc))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-d.F,b.j.info("Handshake RTT: "+b.R+"ms")),R=b;var ce=d;if(R.qa=mf(R,R.J?R.ia:null,R.W),ce.K){In(R.h,ce);var Be=ce,Ft=R.L;Ft&&(Be.I=Ft),Be.B&&(yr(Be),Ta(Be)),R.g=ce}else uf(R);0<b.i.length&&Fo(b)}else Fe[0]!="stop"&&Fe[0]!="close"||Ns(b,7);else b.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Ns(b,7):Oc(b):Fe[0]!="noop"&&b.l&&b.l.ta(Fe),b.v=0)}}mr(4)}catch{}}var nf=class{constructor(d,T){this.g=d,this.map=T}};function xs(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Do(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ko(d){return d.h?1:d.g?d.g.size:0}function Ac(d,T){return d.h?d.h==T:d.g?d.g.has(T):!1}function Po(d,T){d.g?d.g.add(T):d.h=T}function In(d,T){d.h&&d.h==T?d.h=null:d.g&&d.g.has(T)&&d.g.delete(T)}xs.prototype.cancel=function(){if(this.i=Cc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Cc(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let T=d.i;for(const b of d.g.values())T=T.concat(b.D);return T}return D(d.i)}function Ap(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var T=[],b=d.length,R=0;R<b;R++)T.push(d[R]);return T}T=[],b=0;for(R in d)T[b++]=d[R];return T}function Oo(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var T=[];d=d.length;for(var b=0;b<d;b++)T.push(b);return T}T=[],b=0;for(const R in d)T[b++]=R;return T}}}function Rc(d,T){if(d.forEach&&typeof d.forEach=="function")d.forEach(T,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,T,void 0);else for(var b=Oo(d),R=Ap(d),G=R.length,Z=0;Z<G;Z++)T.call(void 0,R[Z],b&&b[Z],d)}var ba=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cp(d,T){if(d){d=d.split("&");for(var b=0;b<d.length;b++){var R=d[b].indexOf("="),G=null;if(0<=R){var Z=d[b].substring(0,R);G=d[b].substring(R+1)}else Z=d[b];T(Z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Mt(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Mt){this.h=d.h,wa(this,d.j),this.o=d.o,this.g=d.g,_r(this,d.s),this.l=d.l;var T=d.i,b=new As;b.i=T.i,T.g&&(b.g=new Map(T.g),b.h=T.h),Ss(this,b),this.m=d.m}else d&&(T=String(d).match(ba))?(this.h=!1,wa(this,T[1]||"",!0),this.o=ii(T[2]||""),this.g=ii(T[3]||"",!0),_r(this,T[4]),this.l=ii(T[5]||"",!0),Ss(this,T[6]||"",!0),this.m=ii(T[7]||"")):(this.h=!1,this.i=new As(null,this.h))}Mt.prototype.toString=function(){var d=[],T=this.j;T&&d.push(Sa(T,Ic,!0),":");var b=this.g;return(b||T=="file")&&(d.push("//"),(T=this.o)&&d.push(Sa(T,Ic,!0),"@"),d.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&d.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&d.push("/"),d.push(Sa(b,b.charAt(0)=="/"?Rp:Nc,!0))),(b=this.i.toString())&&d.push("?",b),(b=this.m)&&d.push("#",Sa(b,Mo)),d.join("")};function Hn(d){return new Mt(d)}function wa(d,T,b){d.j=b?ii(T,!0):T,d.j&&(d.j=d.j.replace(/:$/,""))}function _r(d,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);d.s=T}else d.s=null}function Ss(d,T,b){T instanceof As?(d.i=T,rf(d.i,d.h)):(b||(T=Sa(T,Ip)),d.i=new As(T,d.h))}function tt(d,T,b){d.i.set(T,b)}function xa(d){return tt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function ii(d,T){return d?T?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Sa(d,T,b){return typeof d=="string"?(d=encodeURI(d).replace(T,sf),b&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function sf(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ic=/[#\/\?@]/g,Nc=/[#\?:]/g,Rp=/[#\?]/g,Ip=/[#\?@]/g,Mo=/#/g;function As(d,T){this.h=this.g=null,this.i=d||null,this.j=!!T}function si(d){d.g||(d.g=new Map,d.h=0,d.i&&Cp(d.i,function(T,b){d.add(decodeURIComponent(T.replace(/\+/g," ")),b)}))}t=As.prototype,t.add=function(d,T){si(this),this.i=null,d=Hi(this,d);var b=this.g.get(d);return b||this.g.set(d,b=[]),b.push(T),this.h+=1,this};function Cs(d,T){si(d),T=Hi(d,T),d.g.has(T)&&(d.i=null,d.h-=d.g.get(T).length,d.g.delete(T))}function Rs(d,T){return si(d),T=Hi(d,T),d.g.has(T)}t.forEach=function(d,T){si(this),this.g.forEach(function(b,R){b.forEach(function(G){d.call(T,G,R,this)},this)},this)},t.na=function(){si(this);const d=Array.from(this.g.values()),T=Array.from(this.g.keys()),b=[];for(let R=0;R<T.length;R++){const G=d[R];for(let Z=0;Z<G.length;Z++)b.push(T[R])}return b},t.V=function(d){si(this);let T=[];if(typeof d=="string")Rs(this,d)&&(T=T.concat(this.g.get(Hi(this,d))));else{d=Array.from(this.g.values());for(let b=0;b<d.length;b++)T=T.concat(d[b])}return T},t.set=function(d,T){return si(this),this.i=null,d=Hi(this,d),Rs(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[T]),this.h+=1,this},t.get=function(d,T){return d?(d=this.V(d),0<d.length?String(d[0]):T):T};function Dc(d,T,b){Cs(d,T),0<b.length&&(d.i=null,d.g.set(Hi(d,T),D(b)),d.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],T=Array.from(this.g.keys());for(var b=0;b<T.length;b++){var R=T[b];const Z=encodeURIComponent(String(R)),ce=this.V(R);for(R=0;R<ce.length;R++){var G=Z;ce[R]!==""&&(G+="="+encodeURIComponent(String(ce[R]))),d.push(G)}}return this.i=d.join("&")};function Hi(d,T){return T=String(T),d.j&&(T=T.toLowerCase()),T}function rf(d,T){T&&!d.j&&(si(d),d.i=null,d.g.forEach(function(b,R){var G=R.toLowerCase();R!=G&&(Cs(this,R),Dc(this,G,b))},d)),d.j=T}function Aa(d,T){const b=new ni;if(h.Image){const R=new Image;R.onload=x(ri,b,"TestLoadImage: loaded",!0,T,R),R.onerror=x(ri,b,"TestLoadImage: error",!1,T,R),R.onabort=x(ri,b,"TestLoadImage: abort",!1,T,R),R.ontimeout=x(ri,b,"TestLoadImage: timeout",!1,T,R),h.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else T(!1)}function xi(d,T){const b=new ni,R=new AbortController,G=setTimeout(()=>{R.abort(),ri(b,"TestPingServer: timeout",!1,T)},1e4);fetch(d,{signal:R.signal}).then(Z=>{clearTimeout(G),Z.ok?ri(b,"TestPingServer: ok",!0,T):ri(b,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(G),ri(b,"TestPingServer: error",!1,T)})}function ri(d,T,b,R,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),R(b)}catch{}}function Ca(){this.g=new _a}function qi(d,T,b){const R=b||"";try{Rc(d,function(G,Z){let ce=G;m(G)&&(ce=bi(G)),T.push(R+Z+"="+encodeURIComponent(ce))})}catch(G){throw T.push(R+"type="+encodeURIComponent("_badmap")),G}}function vr(d){this.l=d.Ub||null,this.j=d.eb||!1}A(vr,vc),vr.prototype.g=function(){return new Is(this.l,this.j)},vr.prototype.i=function(d){return function(){return d}}({});function Is(d,T){wt.call(this),this.D=d,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Is,wt),t=Is.prototype,t.open=function(d,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=T,this.readyState=1,$i(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(T.body=d),(this.D||h).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gi(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,$i(this)),this.g&&(this.readyState=3,$i(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kc(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function kc(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var T=d.value?d.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!d.done}))&&(this.response=this.responseText+=T)}d.done?Gi(this):$i(this),this.readyState==3&&kc(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Gi(this))},t.Qa=function(d){this.g&&(this.response=d,Gi(this))},t.ga=function(){this.g&&Gi(this)};function Gi(d){d.readyState=4,d.l=null,d.j=null,d.v=null,$i(d)}t.setRequestHeader=function(d,T){this.u.append(d,T)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],T=this.h.entries();for(var b=T.next();!b.done;)b=b.value,d.push(b[0]+": "+b[1]),b=T.next();return d.join(`\r
`)};function $i(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Is.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Pc(d){let T="";return ne(d,function(b,R){T+=R,T+=":",T+=b,T+=`\r
`}),T}function Yt(d,T,b){e:{for(R in b){var R=!1;break e}R=!0}R||(b=Pc(b),typeof d=="string"?b!=null&&encodeURIComponent(String(b)):tt(d,T,b))}function Ye(d){wt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Ye,wt);var Vo=/^https?$/i,Ra=["POST","PUT"];t=Ye.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,T,b,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);T=T?T.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bi.g(),this.v=this.o?Tc(this.o):Tc(Bi),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(T,String(d),!0),this.B=!1}catch(Z){af(this,Z);return}if(d=b||"",b=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var G in R)b.set(G,R[G]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Z of R.keys())b.set(Z,R.get(Z));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(b.keys()).find(Z=>Z.toLowerCase()=="content-type"),G=h.FormData&&d instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Ra,T,void 0))||R||G||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ce]of b)this.g.setRequestHeader(Z,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ia(this),this.u=!0,this.g.send(d),this.u=!1}catch(Z){af(this,Z)}};function af(d,T){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=T,d.m=5,Lo(d),Ki(d)}function Lo(d){d.A||(d.A=!0,Ze(d,"complete"),Ze(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Ze(this,"complete"),Ze(this,"abort"),Ki(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ki(this,!0)),Ye.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?jo(this):this.bb())},t.bb=function(){jo(this)};function jo(d){if(d.h&&typeof c<"u"&&(!d.v[1]||ai(d)!=4||d.Z()!=2)){if(d.u&&ai(d)==4)pn(d.Ea,0,d);else if(Ze(d,"readystatechange"),ai(d)==4){d.h=!1;try{const ce=d.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var b;if(!(b=T)){var R;if(R=ce===0){var G=String(d.D).match(ba)[1]||null;!G&&h.self&&h.self.location&&(G=h.self.location.protocol.slice(0,-1)),R=!Vo.test(G?G.toLowerCase():"")}b=R}if(b)Ze(d,"complete"),Ze(d,"success");else{d.m=6;try{var Z=2<ai(d)?d.g.statusText:""}catch{Z=""}d.l=Z+" ["+d.Z()+"]",Lo(d)}}finally{Ki(d)}}}}function Ki(d,T){if(d.g){Ia(d);const b=d.g,R=d.v[0]?()=>{}:null;d.g=null,d.v=null,T||Ze(d,"ready");try{b.onreadystatechange=R}catch{}}}function Ia(d){d.I&&(h.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function ai(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<ai(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var T=this.g.responseText;return d&&T.indexOf(d)==0&&(T=T.substring(d.length)),Ro(T)}};function of(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Np(d){const T={};d=(d.g&&2<=ai(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(U(d[R]))continue;var b=F(d[R]);const G=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Z=T[G]||[];T[G]=Z,Z.push(b)}k(T,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Na(d,T,b){return b&&b.internalChannelParams&&b.internalChannelParams[d]||T}function Uo(d){this.Aa=0,this.i=[],this.j=new ni,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Na("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Na("baseRetryDelayMs",5e3,d),this.cb=Na("retryDelaySeedMs",1e4,d),this.Wa=Na("forwardChannelMaxRetries",2,d),this.wa=Na("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new xs(d&&d.concurrentRequestLimit),this.Da=new Ca,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Uo.prototype,t.la=8,t.G=1,t.connect=function(d,T,b,R){gt(0),this.W=d,this.H=T||{},b&&R!==void 0&&(this.H.OSID=b,this.H.OAID=R),this.F=this.X,this.I=mf(this,null,this.W),Fo(this)};function Oc(d){if(lf(d),d.G==3){var T=d.U++,b=Hn(d.I);if(tt(b,"SID",d.K),tt(b,"RID",T),tt(b,"TYPE","terminate"),Da(d,b),T=new Rn(d,d.j,T),T.L=2,T.v=xa(Hn(b)),b=!1,h.navigator&&h.navigator.sendBeacon)try{b=h.navigator.sendBeacon(T.v.toString(),"")}catch{}!b&&h.Image&&(new Image().src=T.v,b=!0),b||(T.g=pf(T.j,null),T.g.ea(T.v)),T.F=Date.now(),Ta(T)}df(d)}function Bo(d){d.g&&(ka(d),d.g.cancel(),d.g=null)}function lf(d){Bo(d),d.u&&(h.clearTimeout(d.u),d.u=null),zo(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&h.clearTimeout(d.s),d.s=null)}function Fo(d){if(!Do(d.h)&&!d.s){d.s=!0;var T=d.Ga;ae||B(),fe||(ae(),fe=!0),je.add(T,d),d.B=0}}function Dp(d,T){return ko(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=T.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Ot(E(d.Ga,d,T),Lc(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const G=new Rn(this,this.j,d);let Z=this.o;if(this.S&&(Z?(Z=C(Z),j(Z,this.S)):Z=this.S),this.m!==null||this.O||(G.H=Z,Z=null),this.P)e:{for(var T=0,b=0;b<this.i.length;b++){t:{var R=this.i[b];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(T+=R,4096<T){T=b;break e}if(T===4096||b===this.i.length-1){T=b+1;break e}}T=1e3}else T=1e3;T=cf(this,G,T),b=Hn(this.I),tt(b,"RID",d),tt(b,"CVER",22),this.D&&tt(b,"X-HTTP-Session-Id",this.D),Da(this,b),Z&&(this.O?T="headers="+encodeURIComponent(String(Pc(Z)))+"&"+T:this.m&&Yt(b,this.m,Z)),Po(this.h,G),this.Ua&&tt(b,"TYPE","init"),this.P?(tt(b,"$req",T),tt(b,"SID","null"),G.T=!0,wi(G,b,null)):wi(G,b,T),this.G=2}}else this.G==3&&(d?Mc(this,d):this.i.length==0||Do(this.h)||Mc(this))};function Mc(d,T){var b;T?b=T.l:b=d.U++;const R=Hn(d.I);tt(R,"SID",d.K),tt(R,"RID",b),tt(R,"AID",d.T),Da(d,R),d.m&&d.o&&Yt(R,d.m,d.o),b=new Rn(d,d.j,b,d.B+1),d.m===null&&(b.H=d.o),T&&(d.i=T.D.concat(d.i)),T=cf(d,b,1e3),b.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Po(d.h,b),wi(b,R,T)}function Da(d,T){d.H&&ne(d.H,function(b,R){tt(T,R,b)}),d.l&&Rc({},function(b,R){tt(T,R,b)})}function cf(d,T,b){b=Math.min(d.i.length,b);var R=d.l?E(d.l.Na,d.l,d):null;e:{var G=d.i;let Z=-1;for(;;){const ce=["count="+b];Z==-1?0<b?(Z=G[0].g,ce.push("ofs="+Z)):Z=0:ce.push("ofs="+Z);let Be=!0;for(let Ft=0;Ft<b;Ft++){let Fe=G[Ft].g;const Qt=G[Ft].map;if(Fe-=Z,0>Fe)Z=Math.max(0,G[Ft].g-100),Be=!1;else try{qi(Qt,ce,"req"+Fe+"_")}catch{R&&R(Qt)}}if(Be){R=ce.join("&");break e}}}return d=d.i.splice(0,b),T.D=d,R}function uf(d){if(!d.g&&!d.u){d.Y=1;var T=d.Fa;ae||B(),fe||(ae(),fe=!0),je.add(T,d),d.v=0}}function Vc(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Ot(E(d.Fa,d),Lc(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,hf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Ot(E(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),Bo(this),hf(this))};function ka(d){d.A!=null&&(h.clearTimeout(d.A),d.A=null)}function hf(d){d.g=new Rn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var T=Hn(d.qa);tt(T,"RID","rpc"),tt(T,"SID",d.K),tt(T,"AID",d.T),tt(T,"CI",d.F?"0":"1"),!d.F&&d.ja&&tt(T,"TO",d.ja),tt(T,"TYPE","xmlhttp"),Da(d,T),d.m&&d.o&&Yt(T,d.m,d.o),d.L&&(d.g.I=d.L);var b=d.g;d=d.ia,b.L=1,b.v=xa(Hn(T)),b.m=null,b.P=!0,ws(b,d)}t.Za=function(){this.C!=null&&(this.C=null,Bo(this),Vc(this),gt(19))};function zo(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function ff(d,T){var b=null;if(d.g==T){zo(d),ka(d),d.g=null;var R=2}else if(Ac(d.h,T))b=T.D,In(d.h,T),R=1;else return;if(d.G!=0){if(T.o)if(R==1){b=T.m?T.m.length:0,T=Date.now()-T.F;var G=d.B;R=dr(),Ze(R,new Bt(R,b)),Fo(d)}else uf(d);else if(G=T.s,G==3||G==0&&0<T.X||!(R==1&&Dp(d,T)||R==2&&Vc(d)))switch(b&&0<b.length&&(T=d.h,T.i=T.i.concat(b)),G){case 1:Ns(d,5);break;case 4:Ns(d,10);break;case 3:Ns(d,6);break;default:Ns(d,2)}}}function Lc(d,T){let b=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(b*=2),b*T}function Ns(d,T){if(d.j.info("Error code "+T),T==2){var b=E(d.fb,d),R=d.Xa;const G=!R;R=new Mt(R||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||wa(R,"https"),xa(R),G?Aa(R.toString(),b):xi(R.toString(),b)}else gt(2);d.G=0,d.l&&d.l.sa(T),df(d),lf(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function df(d){if(d.G=0,d.ka=[],d.l){const T=Cc(d.h);(T.length!=0||d.i.length!=0)&&(N(d.ka,T),N(d.ka,d.i),d.h.i.length=0,D(d.i),d.i.length=0),d.l.ra()}}function mf(d,T,b){var R=b instanceof Mt?Hn(b):new Mt(b);if(R.g!="")T&&(R.g=T+"."+R.g),_r(R,R.s);else{var G=h.location;R=G.protocol,T=T?T+"."+G.hostname:G.hostname,G=+G.port;var Z=new Mt(null);R&&wa(Z,R),T&&(Z.g=T),G&&_r(Z,G),b&&(Z.l=b),R=Z}return b=d.D,T=d.ya,b&&T&&tt(R,b,T),tt(R,"VER",d.la),Da(d,R),R}function pf(d,T,b){if(T&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=d.Ca&&!d.pa?new Ye(new vr({eb:b})):new Ye(d.pa),T.Ha(d.J),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gf(){}t=gf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ho(){}Ho.prototype.g=function(d,T){return new Nn(d,T)};function Nn(d,T){wt.call(this),this.g=new Uo(T),this.l=d,this.h=T&&T.messageUrlParams||null,d=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(d?d["X-WebChannel-Content-Type"]=T.messageContentType:d={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(d?d["X-WebChannel-Client-Profile"]=T.va:d={"X-WebChannel-Client-Profile":T.va}),this.g.S=d,(d=T&&T.Sb)&&!U(d)&&(this.g.m=d),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!U(T)&&(this.g.D=T,d=this.h,d!==null&&T in d&&(d=this.h,T in d&&delete d[T])),this.j=new Wi(this)}A(Nn,wt),Nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nn.prototype.close=function(){Oc(this.g)},Nn.prototype.o=function(d){var T=this.g;if(typeof d=="string"){var b={};b.__data__=d,d=b}else this.u&&(b={},b.__data__=bi(d),d=b);T.i.push(new nf(T.Ya++,d)),T.G==3&&Fo(T)},Nn.prototype.N=function(){this.g.l=null,delete this.j,Oc(this.g),delete this.g,Nn.aa.N.call(this)};function yf(d){Es.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var T=d.__sm__;if(T){e:{for(const b in T){d=b;break e}d=void 0}(this.i=d)&&(d=this.i,T=T!==null&&d in T?T[d]:void 0),this.data=T}else this.data=d}A(yf,Es);function _f(){bc.call(this),this.status=1}A(_f,bc);function Wi(d){this.g=d}A(Wi,gf),Wi.prototype.ua=function(){Ze(this.g,"a")},Wi.prototype.ta=function(d){Ze(this.g,new yf(d))},Wi.prototype.sa=function(d){Ze(this.g,new _f)},Wi.prototype.ra=function(){Ze(this.g,"b")},Ho.prototype.createWebChannel=Ho.prototype.g,Nn.prototype.send=Nn.prototype.o,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,$R=function(){return new Ho},GR=function(){return dr()},qR=Ui,x_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gr.NO_ERROR=0,gr.TIMEOUT=8,gr.HTTP_ERROR=6,Bd=gr,bs.COMPLETE="complete",HR=bs,Ec.EventType=Ts,Ts.OPEN="a",Ts.CLOSE="b",Ts.ERROR="c",Ts.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Vu=Ec,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,zR=Ye}).apply(typeof Ed<"u"?Ed:typeof self<"u"?self:typeof window<"u"?window:{});const Z1="@firebase/firestore",J1="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=new Ih("@firebase/firestore");function Tl(){return co.logLevel}function de(t,...e){if(co.logLevel<=Ve.DEBUG){const n=e.map(t0);co.debug(`Firestore (${ac}): ${t}`,...n)}}function sr(t,...e){if(co.logLevel<=Ve.ERROR){const n=e.map(t0);co.error(`Firestore (${ac}): ${t}`,...n)}}function Bl(t,...e){if(co.logLevel<=Ve.WARN){const n=e.map(t0);co.warn(`Firestore (${ac}): ${t}`,...n)}}function t0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t="Unexpected state"){const e=`FIRESTORE (${ac}) INTERNAL ASSERTION FAILED: `+t;throw sr(e),new Error(e)}function Xe(t,e){t||xe()}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends ei{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tn.UNAUTHENTICATED))}shutdown(){}}class aj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class oj{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0);let i=this.i;const r=f=>this.i!==i?(i=this.i,n(f)):Promise.resolve();let o=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Qr,e.enqueueRetryable(()=>r(this.currentUser))};const c=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await r(this.currentUser)})},h=f=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Qr)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Xe(typeof i.accessToken=="string"),new KR(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string"),new Tn(e)}}class lj{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class cj{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new lj(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ex{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uj{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,xn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0);const i=o=>{o.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.R;return this.R=o.token,de("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new ex(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xe(typeof n.token=="string"),this.R=n.token,new ex(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=hj(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%62))}return i}}function De(t,e){return t<e?-1:t>e?1:0}function S_(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),r=e.codePointAt(n);if(i!==r){if(i<128&&r<128)return De(i,r);{const o=WR(),c=fj(o.encode(tx(t,n)),o.encode(tx(e,n)));return c!==0?c:De(i,r)}}n+=i>65535?2:1}return De(t.length,e.length)}function tx(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function fj(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return De(t[n],e[n]);return De(t.length,e.length)}function Fl(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=-62135596800,ix=1e6;class $t{static now(){return $t.fromMillis(Date.now())}static fromDate(e){return $t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*ix);return new $t(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<nx)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ix}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-nx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new $t(0,0))}static max(){return new Ae(new $t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="__name__";class ts{constructor(e,n,i){n===void 0?n=0:n>e.length&&xe(),i===void 0?i=e.length-n:i>e.length-n&&xe(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return ts.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ts?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const o=ts.compareSegments(e.get(r),n.get(r));if(o!==0)return o}return De(e.length,n.length)}static compareSegments(e,n){const i=ts.isNumericId(e),r=ts.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?ts.extractNumericId(e).compare(ts.extractNumericId(n)):S_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yr.fromString(e.substring(4,e.length-2))}}class Rt extends ts{construct(e,n,i){return new Rt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ve(oe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Rt(n)}static emptyPath(){return new Rt([])}}const dj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends ts{construct(e,n,i){return new dn(e,n,i)}static isValidIdentifier(e){return dj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sx}static keyField(){return new dn([sx])}static fromServerFormat(e){const n=[];let i="",r=0;const o=()=>{if(i.length===0)throw new ve(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;r<e.length;){const h=e[r];if(h==="\\"){if(r+1===e.length)throw new ve(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ve(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,r+=2}else h==="`"?(c=!c,r++):h!=="."||c?(i+=h,r++):(o(),r++)}if(o(),c)throw new ve(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(n)}static emptyPath(){return new dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(Rt.fromString(e))}static fromName(e){return new Te(Rt.fromString(e).popFirst(5))}static empty(){return new Te(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new Rt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=-1;function mj(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=Ae.fromTimestamp(i===1e9?new $t(n+1,0):new $t(n,i));return new Jr(r,Te.empty(),e)}function pj(t){return new Jr(t.readTime,t.key,ah)}class Jr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Jr(Ae.min(),Te.empty(),ah)}static max(){return new Jr(Ae.max(),Te.empty(),ah)}}function gj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:De(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _j{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oc(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==yj)throw t;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):se.reject(n)}static resolve(e){return new se((n,i)=>{n(e)})}static reject(e){return new se((n,i)=>{i(e)})}static waitFor(e){return new se((n,i)=>{let r=0,o=0,c=!1;e.forEach(h=>{++r,h.next(()=>{++o,c&&o===r&&n()},f=>i(f))}),c=!0,o===r&&n()})}static or(e){let n=se.resolve(!1);for(const i of e)n=n.next(r=>r?se.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(e,n){return new se((i,r)=>{const o=e.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const m=f;n(e[m]).next(g=>{c[m]=g,++h,h===o&&i(c)},g=>r(g))}})}static doWhile(e,n){return new se((i,r)=>{const o=()=>{e()===!0?n().next(()=>{o()},r):i()};o()})}}function vj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function lc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Xm.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=-1;function Zm(t){return t==null}function cm(t){return t===0&&1/t==-1/0}function Tj(t){return typeof t=="number"&&Number.isInteger(t)&&!cm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="";function Ej(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=rx(e)),e=bj(t.get(n),e);return rx(e)}function bj(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const o=t.charAt(r);switch(o){case"\0":n+="";break;case QR:n+="";break;default:n+=o}}return n}function rx(t){return t+QR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _o(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function XR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ut=class A_{constructor(e,n){this.comparator=e,this.root=n||Xr.EMPTY}insert(e,n){return new A_(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xr.BLACK,null,null))}remove(e){return new A_(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bd(this.root,e,this.comparator,!1)}getReverseIterator(){return new bd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bd(this.root,e,this.comparator,!0)}},bd=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Xr=class Gs{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??Gs.RED,this.left=r??Gs.EMPTY,this.right=o??Gs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new Gs(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Gs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Gs.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();const e=this.left.check();if(e!==this.right.check())throw xe();return e+(this.isRed()?0:1)}};Xr.EMPTY=null,Xr.RED=!0,Xr.BLACK=!1;Xr.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(e,n,i,r,o){return this}insert(e,n,i){return new Xr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.comparator=e,this.data=new Ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ox(this.data.getIterator())}getIteratorFrom(e){return new ox(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Kt(this.comparator);return n.data=e,n}}class ox{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new Di([])}unionWith(e){let n=new Kt(dn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Di(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fl(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ZR("Invalid base64 string: "+o):o}}(e);return new mn(n)}static fromUint8Array(e){const n=function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o}(e);return new mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const wj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ea(t){if(Xe(!!t),typeof t=="string"){let e=0;const n=wj.exec(t);if(Xe(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Pt(t.seconds),nanos:Pt(t.nanos)}}function Pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ta(t){return typeof t=="string"?mn.fromBase64String(t):mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="server_timestamp",eI="__type__",tI="__previous_value__",nI="__local_write_time__";function i0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[eI])===null||n===void 0?void 0:n.stringValue)===JR}function Jm(t){const e=t.mapValue.fields[tI];return i0(e)?Jm(e):e}function oh(t){const e=ea(t.mapValue.fields[nI].timestampValue);return new $t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e,n,i,r,o,c,h,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m}}const um="(default)";class lh{constructor(e,n){this.projectId=e,this.database=n||um}static empty(){return new lh("","")}get isDefaultDatabase(){return this.database===um}isEqual(e){return e instanceof lh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="__type__",Sj="__max__",wd={mapValue:{}},sI="__vector__",hm="value";function na(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?i0(t)?4:Cj(t)?9007199254740991:Aj(t)?10:11:xe()}function hs(t,e){if(t===e)return!0;const n=na(t);if(n!==na(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return oh(t).isEqual(oh(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=ea(r.timestampValue),h=ea(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return ta(r.bytesValue).isEqual(ta(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return Pt(r.geoPointValue.latitude)===Pt(o.geoPointValue.latitude)&&Pt(r.geoPointValue.longitude)===Pt(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Pt(r.integerValue)===Pt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=Pt(r.doubleValue),h=Pt(o.doubleValue);return c===h?cm(c)===cm(h):isNaN(c)&&isNaN(h)}return!1}(t,e);case 9:return Fl(t.arrayValue.values||[],e.arrayValue.values||[],hs);case 10:case 11:return function(r,o){const c=r.mapValue.fields||{},h=o.mapValue.fields||{};if(ax(c)!==ax(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!hs(c[f],h[f])))return!1;return!0}(t,e);default:return xe()}}function ch(t,e){return(t.values||[]).find(n=>hs(n,e))!==void 0}function zl(t,e){if(t===e)return 0;const n=na(t),i=na(e);if(n!==i)return De(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(t.booleanValue,e.booleanValue);case 2:return function(o,c){const h=Pt(o.integerValue||o.doubleValue),f=Pt(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(t,e);case 3:return lx(t.timestampValue,e.timestampValue);case 4:return lx(oh(t),oh(e));case 5:return S_(t.stringValue,e.stringValue);case 6:return function(o,c){const h=ta(o),f=ta(c);return h.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(o,c){const h=o.split("/"),f=c.split("/");for(let m=0;m<h.length&&m<f.length;m++){const g=De(h[m],f[m]);if(g!==0)return g}return De(h.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,c){const h=De(Pt(o.latitude),Pt(c.latitude));return h!==0?h:De(Pt(o.longitude),Pt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return cx(t.arrayValue,e.arrayValue);case 10:return function(o,c){var h,f,m,g;const v=o.fields||{},E=c.fields||{},x=(h=v[hm])===null||h===void 0?void 0:h.arrayValue,A=(f=E[hm])===null||f===void 0?void 0:f.arrayValue,D=De(((m=x==null?void 0:x.values)===null||m===void 0?void 0:m.length)||0,((g=A==null?void 0:A.values)===null||g===void 0?void 0:g.length)||0);return D!==0?D:cx(x,A)}(t.mapValue,e.mapValue);case 11:return function(o,c){if(o===wd.mapValue&&c===wd.mapValue)return 0;if(o===wd.mapValue)return 1;if(c===wd.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),m=c.fields||{},g=Object.keys(m);f.sort(),g.sort();for(let v=0;v<f.length&&v<g.length;++v){const E=S_(f[v],g[v]);if(E!==0)return E;const x=zl(h[f[v]],m[g[v]]);if(x!==0)return x}return De(f.length,g.length)}(t.mapValue,e.mapValue);default:throw xe()}}function lx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return De(t,e);const n=ea(t),i=ea(e),r=De(n.seconds,i.seconds);return r!==0?r:De(n.nanos,i.nanos)}function cx(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const o=zl(n[r],i[r]);if(o)return o}return De(n.length,i.length)}function Hl(t){return C_(t)}function C_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=ea(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ta(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const o of n.values||[])r?r=!1:i+=",",i+=C_(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",o=!0;for(const c of i)o?o=!1:r+=",",r+=`${c}:${C_(n.fields[c])}`;return r+"}"}(t.mapValue):xe()}function Fd(t){switch(na(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jm(t);return e?16+Fd(e):16;case 5:return 2*t.stringValue.length;case 6:return ta(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,o)=>r+Fd(o),0)}(t.arrayValue);case 10:case 11:return function(i){let r=0;return _o(i.fields,(o,c)=>{r+=o.length+Fd(c)}),r}(t.mapValue);default:throw xe()}}function R_(t){return!!t&&"integerValue"in t}function s0(t){return!!t&&"arrayValue"in t}function ux(t){return!!t&&"nullValue"in t}function hx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zd(t){return!!t&&"mapValue"in t}function Aj(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[iI])===null||n===void 0?void 0:n.stringValue)===sI}function qu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return _o(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=qu(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Cj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Sj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this.value=e}static empty(){return new gi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!zd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qu(n)}setAll(e){let n=dn.emptyPath(),i={},r=[];e.forEach((c,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,i,r),i={},r=[],n=h.popLast()}c?i[h.lastSegment()]=qu(c):r.push(h.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(e){const n=this.field(e.popLast());zd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];zd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){_o(n,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new gi(qu(this.value))}}function rI(t){const e=[];return _o(t.fields,(n,i)=>{const r=new dn([n]);if(zd(i)){const o=rI(i.mapValue).fields;if(o.length===0)e.push(r);else for(const c of o)e.push(r.child(c))}else e.push(r)}),new Di(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n,i,r,o,c,h){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(e){return new En(e,0,Ae.min(),Ae.min(),Ae.min(),gi.empty(),0)}static newFoundDocument(e,n,i,r){return new En(e,1,n,Ae.min(),i,r,0)}static newNoDocument(e,n){return new En(e,2,n,Ae.min(),Ae.min(),gi.empty(),0)}static newUnknownDocument(e,n){return new En(e,3,n,Ae.min(),Ae.min(),gi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n){this.position=e,this.inclusive=n}}function fx(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const o=e[r],c=t.position[r];if(o.field.isKeyField()?i=Te.comparator(Te.fromName(c.referenceValue),n.key):i=zl(c,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function dx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n="asc"){this.field=e,this.dir=n}}function Rj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{}class Gt extends aI{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new Nj(e,n,i):n==="array-contains"?new Pj(e,i):n==="in"?new Oj(e,i):n==="not-in"?new Mj(e,i):n==="array-contains-any"?new Vj(e,i):new Gt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new Dj(e,i):new kj(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(zl(n,this.value)):n!==null&&na(this.value)===na(n)&&this.matchesComparison(zl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fs extends aI{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new fs(e,n)}matches(e){return oI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function oI(t){return t.op==="and"}function lI(t){return Ij(t)&&oI(t)}function Ij(t){for(const e of t.filters)if(e instanceof fs)return!1;return!0}function I_(t){if(t instanceof Gt)return t.field.canonicalString()+t.op.toString()+Hl(t.value);if(lI(t))return t.filters.map(e=>I_(e)).join(",");{const e=t.filters.map(n=>I_(n)).join(",");return`${t.op}(${e})`}}function cI(t,e){return t instanceof Gt?function(i,r){return r instanceof Gt&&i.op===r.op&&i.field.isEqual(r.field)&&hs(i.value,r.value)}(t,e):t instanceof fs?function(i,r){return r instanceof fs&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,c,h)=>o&&cI(c,r.filters[h]),!0):!1}(t,e):void xe()}function uI(t){return t instanceof Gt?function(n){return`${n.field.canonicalString()} ${n.op} ${Hl(n.value)}`}(t):t instanceof fs?function(n){return n.op.toString()+" {"+n.getFilters().map(uI).join(" ,")+"}"}(t):"Filter"}class Nj extends Gt{constructor(e,n,i){super(e,n,i),this.key=Te.fromName(i.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class Dj extends Gt{constructor(e,n){super(e,"in",n),this.keys=hI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class kj extends Gt{constructor(e,n){super(e,"not-in",n),this.keys=hI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function hI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Te.fromName(i.referenceValue))}class Pj extends Gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return s0(n)&&ch(n.arrayValue,this.value)}}class Oj extends Gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ch(this.value.arrayValue,n)}}class Mj extends Gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ch(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ch(this.value.arrayValue,n)}}class Vj extends Gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!s0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>ch(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e,n=null,i=[],r=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=h,this.le=null}}function mx(t,e=null,n=[],i=[],r=null,o=null,c=null){return new Lj(t,e,n,i,r,o,c)}function r0(t){const e=Ce(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>I_(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Zm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Hl(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Hl(i)).join(",")),e.le=n}return e.le}function a0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Rj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!cI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!dx(t.startAt,e.startAt)&&dx(t.endAt,e.endAt)}function N_(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n=null,i=[],r=[],o=null,c="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function jj(t,e,n,i,r,o,c,h){return new ep(t,e,n,i,r,o,c,h)}function o0(t){return new ep(t)}function px(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Uj(t){return t.collectionGroup!==null}function Gu(t){const e=Ce(t);if(e.he===null){e.he=[];const n=new Set;for(const o of e.explicitOrderBy)e.he.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Kt(dn.comparator);return c.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.he.push(new dm(o,i))}),n.has(dn.keyField().canonicalString())||e.he.push(new dm(dn.keyField(),i))}return e.he}function rs(t){const e=Ce(t);return e.Pe||(e.Pe=Bj(e,Gu(t))),e.Pe}function Bj(t,e){if(t.limitType==="F")return mx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const o=r.dir==="desc"?"asc":"desc";return new dm(r.field,o)});const n=t.endAt?new fm(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new fm(t.startAt.position,t.startAt.inclusive):null;return mx(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function D_(t,e,n){return new ep(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function tp(t,e){return a0(rs(t),rs(e))&&t.limitType===e.limitType}function fI(t){return`${r0(rs(t))}|lt:${t.limitType}`}function El(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>uI(r)).join(", ")}]`),Zm(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Hl(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Hl(r)).join(",")),`Target(${i})`}(rs(t))}; limitType=${t.limitType})`}function np(t,e){return e.isFoundDocument()&&function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Te.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,r){for(const o of Gu(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(c,h,f){const m=fx(c,h,f);return c.inclusive?m<=0:m<0}(i.startAt,Gu(i),r)||i.endAt&&!function(c,h,f){const m=fx(c,h,f);return c.inclusive?m>=0:m>0}(i.endAt,Gu(i),r))}(t,e)}function Fj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dI(t){return(e,n)=>{let i=!1;for(const r of Gu(t)){const o=zj(r,e,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function zj(t,e,n){const i=t.field.isKeyField()?Te.comparator(e.key,n.key):function(o,c,h){const f=c.data.field(o),m=h.data.field(o);return f!==null&&m!==null?zl(f,m):xe()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){_o(this.inner,(n,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return XR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj=new Ut(Te.comparator);function rr(){return Hj}const mI=new Ut(Te.comparator);function Lu(...t){let e=mI;for(const n of t)e=e.insert(n.key,n);return e}function pI(t){let e=mI;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function eo(){return $u()}function gI(){return $u()}function $u(){return new vo(t=>t.toString(),(t,e)=>t.isEqual(e))}const qj=new Ut(Te.comparator),Gj=new Kt(Te.comparator);function Le(...t){let e=Gj;for(const n of t)e=e.add(n);return e}const $j=new Kt(De);function Kj(){return $j}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cm(e)?"-0":e}}function yI(t){return{integerValue:""+t}}function Wj(t,e){return Tj(e)?yI(e):l0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(){this._=void 0}}function Yj(t,e,n){return t instanceof uh?function(r,o){const c={fields:{[eI]:{stringValue:JR},[nI]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&i0(o)&&(o=Jm(o)),o&&(c.fields[tI]=o),{mapValue:c}}(n,e):t instanceof hh?vI(t,e):t instanceof fh?TI(t,e):function(r,o){const c=_I(r,o),h=gx(c)+gx(r.Ie);return R_(c)&&R_(r.Ie)?yI(h):l0(r.serializer,h)}(t,e)}function Qj(t,e,n){return t instanceof hh?vI(t,e):t instanceof fh?TI(t,e):n}function _I(t,e){return t instanceof mm?function(i){return R_(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class uh extends ip{}class hh extends ip{constructor(e){super(),this.elements=e}}function vI(t,e){const n=EI(e);for(const i of t.elements)n.some(r=>hs(r,i))||n.push(i);return{arrayValue:{values:n}}}class fh extends ip{constructor(e){super(),this.elements=e}}function TI(t,e){let n=EI(e);for(const i of t.elements)n=n.filter(r=>!hs(r,i));return{arrayValue:{values:n}}}class mm extends ip{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function gx(t){return Pt(t.integerValue||t.doubleValue)}function EI(t){return s0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e,n){this.field=e,this.transform=n}}function Zj(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof hh&&r instanceof hh||i instanceof fh&&r instanceof fh?Fl(i.elements,r.elements,hs):i instanceof mm&&r instanceof mm?hs(i.Ie,r.Ie):i instanceof uh&&r instanceof uh}(t.transform,e.transform)}class Jj{constructor(e,n){this.version=e,this.transformResults=n}}class Xs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xs}static exists(e){return new Xs(void 0,e)}static updateTime(e){return new Xs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class sp{}function bI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new xI(t.key,Xs.none()):new Ph(t.key,t.data,Xs.none());{const n=t.data,i=gi.empty();let r=new Kt(dn.comparator);for(let o of e.fields)if(!r.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?i.delete(o):i.set(o,c),r=r.add(o)}return new To(t.key,i,new Di(r.toArray()),Xs.none())}}function eU(t,e,n){t instanceof Ph?function(r,o,c){const h=r.value.clone(),f=_x(r.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(t,e,n):t instanceof To?function(r,o,c){if(!Hd(r.precondition,o))return void o.convertToUnknownDocument(c.version);const h=_x(r.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(wI(r)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(t,e,n):function(r,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function Ku(t,e,n,i){return t instanceof Ph?function(o,c,h,f){if(!Hd(o.precondition,c))return h;const m=o.value.clone(),g=vx(o.fieldTransforms,f,c);return m.setAll(g),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(t,e,n,i):t instanceof To?function(o,c,h,f){if(!Hd(o.precondition,c))return h;const m=vx(o.fieldTransforms,f,c),g=c.data;return g.setAll(wI(o)),g.setAll(m),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(t,e,n,i):function(o,c,h){return Hd(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(t,e,n)}function tU(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),o=_I(i.transform,r||null);o!=null&&(n===null&&(n=gi.empty()),n.set(i.field,o))}return n||null}function yx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Fl(i,r,(o,c)=>Zj(o,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ph extends sp{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class To extends sp{constructor(e,n,i,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function wI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function _x(t,e,n){const i=new Map;Xe(t.length===n.length);for(let r=0;r<n.length;r++){const o=t[r],c=o.transform,h=e.data.field(o.field);i.set(o.field,Qj(c,h,n[r]))}return i}function vx(t,e,n){const i=new Map;for(const r of t){const o=r.transform,c=n.data.field(r.field);i.set(r.field,Yj(o,c,e))}return i}class xI extends sp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nU extends sp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&eU(o,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Ku(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Ku(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=gI();return this.mutations.forEach(r=>{const o=e.get(r.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=n.has(r.key)?null:h;const f=bI(c,h);f!==null&&i.set(r.key,f),c.isValidDocument()||c.convertToNoDocument(Ae.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&Fl(this.mutations,e.mutations,(n,i)=>yx(n,i))&&Fl(this.baseMutations,e.baseMutations,(n,i)=>yx(n,i))}}class c0{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Xe(e.mutations.length===i.length);let r=function(){return qj}();const o=e.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new c0(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,He;function aU(t){switch(t){case oe.OK:return xe();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return xe()}}function SI(t){if(t===void 0)return sr("GRPC error has no .code"),oe.UNKNOWN;switch(t){case jt.OK:return oe.OK;case jt.CANCELLED:return oe.CANCELLED;case jt.UNKNOWN:return oe.UNKNOWN;case jt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case jt.INTERNAL:return oe.INTERNAL;case jt.UNAVAILABLE:return oe.UNAVAILABLE;case jt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case jt.NOT_FOUND:return oe.NOT_FOUND;case jt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case jt.ABORTED:return oe.ABORTED;case jt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case jt.DATA_LOSS:return oe.DATA_LOSS;default:return xe()}}(He=jt||(jt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU=new Yr([4294967295,4294967295],0);function Tx(t){const e=WR().encode(t),n=new FR;return n.update(e),new Uint8Array(n.digest())}function Ex(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Yr([n,i],0),new Yr([r,o],0)]}class u0{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ju(`Invalid padding: ${n}`);if(i<0)throw new ju(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ju(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new ju(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Yr.fromNumber(this.Ee)}Ae(e,n,i){let r=e.add(n.multiply(Yr.fromNumber(i)));return r.compare(oU)===1&&(r=new Yr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=Tx(e),[i,r]=Ex(n);for(let o=0;o<this.hashCount;o++){const c=this.Ae(i,r,o);if(!this.Re(c))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new u0(o,r,n);return i.forEach(h=>c.insert(h)),c}insert(e){if(this.Ee===0)return;const n=Tx(e),[i,r]=Ex(n);for(let o=0;o<this.hashCount;o++){const c=this.Ae(i,r,o);this.Ve(c)}}Ve(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class ju extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,n,i,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,Oh.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new rp(Ae.min(),r,new Ut(De),rr(),Le())}}class Oh{constructor(e,n,i,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Oh(i,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n,i,r){this.me=e,this.removedTargetIds=n,this.key=i,this.fe=r}}class AI{constructor(e,n){this.targetId=e,this.ge=n}}class CI{constructor(e,n,i=mn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class bx{constructor(){this.pe=0,this.ye=wx(),this.we=mn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Le(),n=Le(),i=Le();return this.ye.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:xe()}}),new Oh(this.we,this.Se,e,n,i)}Me(){this.be=!1,this.ye=wx()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Xe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class lU{constructor(e){this.ke=e,this.qe=new Map,this.Qe=rr(),this.$e=xd(),this.Ue=xd(),this.Ke=new Ut(De)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const i=this.He(n);switch(e.state){case 0:this.Je(n)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(e.resumeToken));break;default:xe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((i,r)=>{this.Je(r)&&n(r)})}Ze(e){const n=e.targetId,i=e.ge.count,r=this.Xe(n);if(r){const o=r.target;if(N_(o))if(i===0){const c=new Te(o.path);this.ze(n,c,En.newNoDocument(c,Ae.min()))}else Xe(i===1);else{const c=this.et(n);if(c!==i){const h=this.tt(e),f=h?this.nt(h,e,c):1;if(f!==0){this.Ye(n);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,m)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=n;let c,h;try{c=ta(i).toUint8Array()}catch(f){if(f instanceof ZR)return Bl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new u0(c,r,o)}catch(f){return Bl(f instanceof ju?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Ee===0?null:h}nt(e,n,i){return n.ge.count===i-this.st(e,n.targetId)?0:2}st(e,n){const i=this.ke.getRemoteKeysForTarget(n);let r=0;return i.forEach(o=>{const c=this.ke.it(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.ze(n,o,null),r++)}),r}ot(e){const n=new Map;this.qe.forEach((o,c)=>{const h=this.Xe(c);if(h){if(o.current&&N_(h.target)){const f=new Te(h.target.path);this._t(f).has(c)||this.ut(c,f)||this.ze(c,f,En.newNoDocument(f,e))}o.ve&&(n.set(c,o.Fe()),o.Me())}});let i=Le();this.Ue.forEach((o,c)=>{let h=!0;c.forEachWhile(f=>{const m=this.Xe(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(o))}),this.Qe.forEach((o,c)=>c.setReadTime(e));const r=new rp(e,n,this.Ke,this.Qe,i);return this.Qe=rr(),this.$e=xd(),this.Ue=xd(),this.Ke=new Ut(De),r}Ge(e,n){if(!this.Je(e))return;const i=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,i){if(!this.Je(e))return;const r=this.He(e);this.ut(e,n)?r.xe(n,1):r.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new bx,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Kt(De),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Kt(De),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new bx),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function xd(){return new Ut(Te.comparator)}function wx(){return new Ut(Te.comparator)}const cU={asc:"ASCENDING",desc:"DESCENDING"},uU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hU={and:"AND",or:"OR"};class fU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function k_(t,e){return t.useProto3Json||Zm(e)?e:{value:e}}function pm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function dU(t,e){return pm(t,e.toTimestamp())}function as(t){return Xe(!!t),Ae.fromTimestamp(function(n){const i=ea(n);return new $t(i.seconds,i.nanos)}(t))}function h0(t,e){return P_(t,e).canonicalString()}function P_(t,e){const n=function(r){return new Rt(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function II(t){const e=Rt.fromString(t);return Xe(OI(e)),e}function O_(t,e){return h0(t.databaseId,e.path)}function By(t,e){const n=II(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(DI(n))}function NI(t,e){return h0(t.databaseId,e)}function mU(t){const e=II(t);return e.length===4?Rt.emptyPath():DI(e)}function M_(t){return new Rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function DI(t){return Xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function xx(t,e,n){return{name:O_(t,e),fields:n.value.mapValue.fields}}function pU(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(m,g){return m.useProto3Json?(Xe(g===void 0||typeof g=="string"),mn.fromBase64String(g||"")):(Xe(g===void 0||g instanceof Buffer||g instanceof Uint8Array),mn.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(m){const g=m.code===void 0?oe.UNKNOWN:SI(m.code);return new ve(g,m.message||"")}(c);n=new CI(i,r,o,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=By(t,i.document.name),o=as(i.document.updateTime),c=i.document.createTime?as(i.document.createTime):Ae.min(),h=new gi({mapValue:{fields:i.document.fields}}),f=En.newFoundDocument(r,o,c,h),m=i.targetIds||[],g=i.removedTargetIds||[];n=new qd(m,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=By(t,i.document),o=i.readTime?as(i.readTime):Ae.min(),c=En.newNoDocument(r,o),h=i.removedTargetIds||[];n=new qd([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=By(t,i.document),o=i.removedTargetIds||[];n=new qd([],o,r,null)}else{if(!("filter"in e))return xe();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,c=new rU(r,o),h=i.targetId;n=new AI(h,c)}}return n}function gU(t,e){let n;if(e instanceof Ph)n={update:xx(t,e.key,e.value)};else if(e instanceof xI)n={delete:O_(t,e.key)};else if(e instanceof To)n={update:xx(t,e.key,e.data),updateMask:SU(e.fieldMask)};else{if(!(e instanceof nU))return xe();n={verify:O_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,c){const h=c.transform;if(h instanceof uh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof hh)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof fh)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof mm)return{fieldPath:c.field.canonicalString(),increment:h.Ie};throw xe()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:dU(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:xe()}(t,e.precondition)),n}function yU(t,e){return t&&t.length>0?(Xe(e!==void 0),t.map(n=>function(r,o){let c=r.updateTime?as(r.updateTime):as(o);return c.isEqual(Ae.min())&&(c=as(o)),new Jj(c,r.transformResults||[])}(n,e))):[]}function _U(t,e){return{documents:[NI(t,e.path)]}}function vU(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=NI(t,r);const o=function(m){if(m.length!==0)return PI(fs.create(m,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const c=function(m){if(m.length!==0)return m.map(g=>function(E){return{field:bl(E.field),direction:bU(E.dir)}}(g))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=k_(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:n,parent:r}}function TU(t){let e=mU(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Xe(i===1);const g=n.from[0];g.allDescendants?r=g.collectionId:e=e.child(g.collectionId)}let o=[];n.where&&(o=function(v){const E=kI(v);return E instanceof fs&&lI(E)?E.getFilters():[E]}(n.where));let c=[];n.orderBy&&(c=function(v){return v.map(E=>function(A){return new dm(wl(A.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(E))}(n.orderBy));let h=null;n.limit&&(h=function(v){let E;return E=typeof v=="object"?v.value:v,Zm(E)?null:E}(n.limit));let f=null;n.startAt&&(f=function(v){const E=!!v.before,x=v.values||[];return new fm(x,E)}(n.startAt));let m=null;return n.endAt&&(m=function(v){const E=!v.before,x=v.values||[];return new fm(x,E)}(n.endAt)),jj(e,r,c,o,h,"F",f,m)}function EU(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=wl(n.unaryFilter.field);return Gt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=wl(n.unaryFilter.field);return Gt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=wl(n.unaryFilter.field);return Gt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=wl(n.unaryFilter.field);return Gt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return xe()}}(t):t.fieldFilter!==void 0?function(n){return Gt.create(wl(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fs.create(n.compositeFilter.filters.map(i=>kI(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return xe()}}(n.compositeFilter.op))}(t):xe()}function bU(t){return cU[t]}function wU(t){return uU[t]}function xU(t){return hU[t]}function bl(t){return{fieldPath:t.canonicalString()}}function wl(t){return dn.fromServerFormat(t.fieldPath)}function PI(t){return t instanceof Gt?function(n){if(n.op==="=="){if(hx(n.value))return{unaryFilter:{field:bl(n.field),op:"IS_NAN"}};if(ux(n.value))return{unaryFilter:{field:bl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hx(n.value))return{unaryFilter:{field:bl(n.field),op:"IS_NOT_NAN"}};if(ux(n.value))return{unaryFilter:{field:bl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bl(n.field),op:wU(n.op),value:n.value}}}(t):t instanceof fs?function(n){const i=n.getFilters().map(r=>PI(r));return i.length===1?i[0]:{compositeFilter:{op:xU(n.op),filters:i}}}(t):xe()}function SU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function OI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,n,i,r,o=Ae.min(),c=Ae.min(),h=mn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new $r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e){this.Tt=e}}function CU(t){const e=TU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?D_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(){this.Tn=new IU}addToCollectionParentIndex(e,n){return this.Tn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(Jr.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(Jr.min())}updateCollectionGroup(e,n,i){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class IU{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Kt(Rt.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Kt(Rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},MI=41943040;class Ln{static withCacheSize(e){return new Ln(e,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(MI,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new ql(0)}static Kn(){return new ql(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax="LruGarbageCollector",NU=1048576;function Cx([t,e],[n,i]){const r=De(t,n);return r===0?De(e,i):r}class DU{constructor(e){this.Hn=e,this.buffer=new Kt(Cx),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Cx(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class kU{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){de(Ax,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){lc(n)?de(Ax,"Ignoring IndexedDB error during garbage collection: ",n):await oc(n)}await this.er(3e5)})}}class PU{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return se.resolve(Xm.ae);const i=new DU(n);return this.tr.forEachTarget(e,r=>i.Zn(r.sequenceNumber)).next(()=>this.tr.rr(e,r=>i.Zn(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.tr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(Sx)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sx):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let i,r,o,c,h,f,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),r=this.params.maximumSequenceNumbersToCollect):r=v,c=Date.now(),this.nthSequenceNumber(e,r))).next(v=>(i=v,h=Date.now(),this.removeTargets(e,i,n))).next(v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(v=>(m=Date.now(),Tl()<=Ve.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${r} in `+(h-c)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${v} documents in `+(m-f)+`ms
Total Duration: ${m-g}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:v})))}}function OU(t,e){return new PU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(){this.changes=new vo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?se.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Ku(i.mutation,r,Di.empty(),$t.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Le()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Le()){const r=eo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(o=>{let c=Lu();return o.forEach((h,f)=>{c=c.insert(h,f.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const i=eo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Le()))}populateOverlays(e,n,i){const r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((c,h)=>{n.set(c,h)})})}computeViews(e,n,i,r){let o=rr();const c=$u(),h=function(){return $u()}();return n.forEach((f,m)=>{const g=i.get(m.key);r.has(m.key)&&(g===void 0||g.mutation instanceof To)?o=o.insert(m.key,m):g!==void 0?(c.set(m.key,g.mutation.getFieldMask()),Ku(g.mutation,m,g.mutation.getFieldMask(),$t.now())):c.set(m.key,Di.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((m,g)=>c.set(m,g)),n.forEach((m,g)=>{var v;return h.set(m,new VU(g,(v=c.get(m))!==null&&v!==void 0?v:null))}),h))}recalculateAndSaveOverlays(e,n){const i=$u();let r=new Ut((c,h)=>c-h),o=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const h of c)h.keys().forEach(f=>{const m=n.get(f);if(m===null)return;let g=i.get(f)||Di.empty();g=h.applyToLocalView(m,g),i.set(f,g);const v=(r.get(h.batchId)||Le()).add(f);r=r.insert(h.batchId,v)})}).next(()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,g=f.value,v=gI();g.forEach(E=>{if(!o.has(E)){const x=bI(n.get(E),i.get(E));x!==null&&v.set(E,x),o=o.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,v))}return se.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(c){return Te.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Uj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-o.size):se.resolve(eo());let h=ah,f=o;return c.next(m=>se.forEach(m,(g,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(g)?se.resolve():this.remoteDocumentCache.getEntry(e,g).next(E=>{f=f.insert(g,E)}))).next(()=>this.populateOverlays(e,m,o)).next(()=>this.computeViews(e,f,m,Le())).next(g=>({batchId:h,changes:pI(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next(i=>{let r=Lu();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const o=n.collectionGroup;let c=Lu();return this.indexManager.getCollectionParents(e,o).next(h=>se.forEach(h,f=>{const m=function(v,E){return new ep(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,i,r).next(g=>{g.forEach((v,E)=>{c=c.insert(v,E)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,r))).next(c=>{o.forEach((f,m)=>{const g=m.getKey();c.get(g)===null&&(c=c.insert(g,En.newInvalidDocument(g)))});let h=Lu();return c.forEach((f,m)=>{const g=o.get(f);g!==void 0&&Ku(g.mutation,m,Di.empty(),$t.now()),np(n,m)&&(h=h.insert(f,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return se.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:as(r.createTime)}}(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(r){return{name:r.name,query:CU(r.bundledQuery),readTime:as(r.readTime)}}(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(){this.overlays=new Ut(Te.comparator),this.Rr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const i=eo();return se.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,o)=>{this.Et(e,n,o)}),se.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.Rr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(i)),se.resolve()}getOverlaysForCollection(e,n,i){const r=eo(),o=n.length+1,c=new Te(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return se.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let o=new Ut((m,g)=>m-g);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let g=o.get(m.largestBatchId);g===null&&(g=eo(),o=o.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const h=eo(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,g)=>h.set(m,g)),!(h.size()>=r)););return se.resolve(h)}Et(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const c=this.Rr.get(r.largestBatchId).delete(i.key);this.Rr.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new sU(n,i));let o=this.Rr.get(n);o===void 0&&(o=Le(),this.Rr.set(n,o)),this.Rr.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(){this.Vr=new Kt(tn.mr),this.gr=new Kt(tn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const i=new tn(e,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.wr(new tn(e,n))}Sr(e,n){e.forEach(i=>this.removeReference(i,n))}br(e){const n=new Te(new Rt([])),i=new tn(n,e),r=new tn(n,e+1),o=[];return this.gr.forEachInRange([i,r],c=>{this.wr(c),o.push(c.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Te(new Rt([])),i=new tn(n,e),r=new tn(n,e+1);let o=Le();return this.gr.forEachInRange([i,r],c=>{o=o.add(c.key)}),o}containsKey(e){const n=new tn(e,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class tn{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Te.comparator(e.key,n.key)||De(e.Cr,n.Cr)}static pr(e,n){return De(e.Cr,n.Cr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Kt(tn.mr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new iU(o,n,i,r);this.mutationQueue.push(c);for(const h of r)this.Mr=this.Mr.add(new tn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return se.resolve(c)}lookupMutationBatch(e,n){return se.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.Nr(i),o=r<0?0:r;return se.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?n0:this.Fr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new tn(n,0),r=new tn(n,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([i,r],c=>{const h=this.Or(c.Cr);o.push(h)}),se.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Kt(De);return n.forEach(r=>{const o=new tn(r,0),c=new tn(r,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,c],h=>{i=i.add(h.Cr)})}),se.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let o=i;Te.isDocumentKey(o)||(o=o.child(""));const c=new tn(new Te(o),0);let h=new Kt(De);return this.Mr.forEachWhile(f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===r&&(h=h.add(f.Cr)),!0)},c),se.resolve(this.Br(h))}Br(e){const n=[];return e.forEach(i=>{const r=this.Or(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Xe(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return se.forEach(n.mutations,r=>{const o=new tn(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,n){const i=new tn(n,0),r=this.Mr.firstAfterOrEqual(i);return se.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e){this.kr=e,this.docs=function(){return new Ut(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),o=r?r.size:0,c=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return se.resolve(i?i.document.mutableCopy():En.newInvalidDocument(n))}getEntries(e,n){let i=rr();return n.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():En.newInvalidDocument(r))}),se.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let o=rr();const c=n.path,h=new Te(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:g}}=f.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||gj(pj(g),i)<=0||(r.has(g.key)||np(n,g))&&(o=o.insert(g.key,g.mutableCopy()))}return se.resolve(o)}getAllFromCollectionGroup(e,n,i,r){xe()}qr(e,n){return se.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new HU(this)}getSize(e){return se.resolve(this.size)}}class HU extends MU{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(i)}),se.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e){this.persistence=e,this.Qr=new vo(n=>r0(n),a0),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.$r=0,this.Ur=new f0,this.targetCount=0,this.Kr=ql.Un()}forEachTarget(e,n){return this.Qr.forEach((i,r)=>n(r)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),se.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new ql(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.zn(n),se.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,i){let r=0;const o=[];return this.Qr.forEach((c,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.Qr.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)}),se.waitFor(o).next(()=>r)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const i=this.Qr.get(n)||null;return se.resolve(i)}addMatchingKeys(e,n,i){return this.Ur.yr(n,i),se.resolve()}removeMatchingKeys(e,n,i){this.Ur.Sr(n,i);const r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(c=>{o.push(r.markPotentiallyOrphaned(e,c))}),se.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),se.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Ur.vr(n);return se.resolve(i)}containsKey(e,n){return se.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Xm(0),this.zr=!1,this.zr=!0,this.jr=new BU,this.referenceDelegate=e(this),this.Hr=new qU(this),this.indexManager=new RU,this.remoteDocumentCache=function(r){return new zU(r)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new AU(n),this.Yr=new jU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Wr[e.toKey()];return i||(i=new FU(n,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,i){de("MemoryPersistence","Starting transaction:",e);const r=new GU(this.Gr.next());return this.referenceDelegate.Zr(),i(r).next(o=>this.referenceDelegate.Xr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}ei(e,n){return se.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,n)))}}class GU extends _j{constructor(e){super(),this.currentSequenceNumber=e}}class d0{constructor(e){this.persistence=e,this.ti=new f0,this.ni=null}static ri(e){return new d0(e)}get ii(){if(this.ni)return this.ni;throw xe()}addReference(e,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),se.resolve()}removeReference(e,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),se.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(r=>this.ii.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.ii.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.ii,i=>{const r=Te.fromPath(i);return this.si(e,r).next(o=>{o||n.removeEntry(r,Ae.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return se.or([()=>se.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class gm{constructor(e,n){this.persistence=e,this.oi=new vo(i=>Ej(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=OU(this,n)}static ri(e,n){return new gm(e,n)}Zr(){}Xr(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}sr(e){let n=0;return this.rr(e,i=>{n++}).next(()=>n)}rr(e,n){return se.forEach(this.oi,(i,r)=>this.ar(e,i,r).next(o=>o?se.resolve():n(r)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.qr(e,c=>this.ar(e,c,n).next(h=>{h||(i++,o.removeEntry(c,Ae.min()))})).next(()=>o.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),se.resolve()}removeReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),se.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Fd(e.data.value)),n}ar(e,n,i){return se.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.oi.get(n);return se.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Hi=i,this.Ji=r}static Yi(e,n){let i=Le(),r=Le();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new m0(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return KM()?8:vj(Cn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,i,r){const o={result:null};return this.rs(e,n).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.ss(e,n,r,i).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new $U;return this._s(e,n,c).next(h=>{if(o.result=h,this.Xi)return this.us(e,n,c,h.size)})}).next(()=>o.result)}us(e,n,i,r){return i.documentReadCount<this.es?(Tl()<=Ve.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",El(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),se.resolve()):(Tl()<=Ve.DEBUG&&de("QueryEngine","Query:",El(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ts*r?(Tl()<=Ve.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",El(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rs(n))):se.resolve())}rs(e,n){if(px(n))return se.resolve(null);let i=rs(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=D_(n,null,"F"),i=rs(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const c=Le(...o);return this.ns.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,i).next(f=>{const m=this.cs(n,h);return this.ls(n,m,c,f.readTime)?this.rs(e,D_(n,null,"F")):this.hs(e,m,n,f)}))})))}ss(e,n,i,r){return px(n)||r.isEqual(Ae.min())?se.resolve(null):this.ns.getDocuments(e,i).next(o=>{const c=this.cs(n,o);return this.ls(n,c,i,r)?se.resolve(null):(Tl()<=Ve.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),El(n)),this.hs(e,c,n,mj(r,ah)).next(h=>h))})}cs(e,n){let i=new Kt(dI(e));return n.forEach((r,o)=>{np(e,o)&&(i=i.add(o))}),i}ls(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}_s(e,n,i){return Tl()<=Ve.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",El(n)),this.ns.getDocumentsMatchingQuery(e,n,Jr.min(),i)}hs(e,n,i,r){return this.ns.getDocumentsMatchingQuery(e,i,r).next(o=>(n.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="LocalStore",WU=3e8;class YU{constructor(e,n,i,r){this.persistence=e,this.Ps=n,this.serializer=r,this.Ts=new Ut(De),this.Is=new vo(o=>r0(o),a0),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LU(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function QU(t,e,n,i){return new YU(t,e,n,i)}async function LI(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n.As(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const c=[],h=[];let f=Le();for(const m of r){c.push(m.batchId);for(const g of m.mutations)f=f.add(g.key)}for(const m of o){h.push(m.batchId);for(const g of m.mutations)f=f.add(g.key)}return n.localDocuments.getDocuments(i,f).next(m=>({Rs:m,removedBatchIds:c,addedBatchIds:h}))})})}function XU(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=n.ds.newChangeBuffer({trackRemovals:!0});return function(h,f,m,g){const v=m.batch,E=v.keys();let x=se.resolve();return E.forEach(A=>{x=x.next(()=>g.getEntry(f,A)).next(D=>{const N=m.docVersions.get(A);Xe(N!==null),D.version.compareTo(N)<0&&(v.applyToRemoteDocument(D,m),D.isValidDocument()&&(D.setReadTime(m.commitVersion),g.addEntry(D)))})}),x.next(()=>h.mutationQueue.removeMutationBatch(f,v))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let f=Le();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function jI(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function ZU(t,e){const n=Ce(t),i=e.snapshotVersion;let r=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=n.ds.newChangeBuffer({trackRemovals:!0});r=n.Ts;const h=[];e.targetChanges.forEach((g,v)=>{const E=r.get(v);if(!E)return;h.push(n.Hr.removeMatchingKeys(o,g.removedDocuments,v).next(()=>n.Hr.addMatchingKeys(o,g.addedDocuments,v)));let x=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?x=x.withResumeToken(mn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):g.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(g.resumeToken,i)),r=r.insert(v,x),function(D,N,P){return D.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=WU?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(E,x,g)&&h.push(n.Hr.updateTargetData(o,x))});let f=rr(),m=Le();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,g))}),h.push(JU(o,c,e.documentUpdates).next(g=>{f=g.Vs,m=g.fs})),!i.isEqual(Ae.min())){const g=n.Hr.getLastRemoteSnapshotVersion(o).next(v=>n.Hr.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(g)}return se.waitFor(h).next(()=>c.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,f,m)).next(()=>f)}).then(o=>(n.Ts=r,o))}function JU(t,e,n){let i=Le(),r=Le();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let c=rr();return n.forEach((h,f)=>{const m=o.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(r=r.add(h)),f.isNoDocument()&&f.version.isEqual(Ae.min())?(e.removeEntry(h,f.readTime),c=c.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),c=c.insert(h,f)):de(p0,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)}),{Vs:c,fs:r}})}function e6(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=n0),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function t6(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Hr.getTargetData(i,e).next(o=>o?(r=o,se.resolve(r)):n.Hr.allocateTargetId(i).next(c=>(r=new $r(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Ts.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(e,i.targetId)),i})}async function V_(t,e,n){const i=Ce(t),r=i.Ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,c=>i.persistence.referenceDelegate.removeTarget(c,r))}catch(c){if(!lc(c))throw c;de(p0,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ts=i.Ts.remove(e),i.Is.delete(r.target)}function Rx(t,e,n){const i=Ce(t);let r=Ae.min(),o=Le();return i.persistence.runTransaction("Execute query","readwrite",c=>function(f,m,g){const v=Ce(f),E=v.Is.get(g);return E!==void 0?se.resolve(v.Ts.get(E)):v.Hr.getTargetData(m,g)}(i,c,rs(e)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,h.targetId).next(f=>{o=f})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,e,n?r:Ae.min(),n?o:Le())).next(h=>(n6(i,Fj(e),h),{documents:h,gs:o})))}function n6(t,e,n){let i=t.Es.get(e)||Ae.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.Es.set(e,i)}class Ix{constructor(){this.activeTargetIds=Kj()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class i6{constructor(){this.ho=new Ix,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,i){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Ix,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="ConnectivityMonitor";class Dx{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){de(Nx,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){de(Nx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sd=null;function L_(){return Sd===null?Sd=function(){return 268435456+Math.round(2147483648*Math.random())}():Sd++,"0x"+Sd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="RestConnection",r6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class a6{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${i}/databases/${r}`,this.wo=this.databaseId.database===um?`project_id=${i}`:`project_id=${i}&database_id=${r}`}So(e,n,i,r,o){const c=L_(),h=this.bo(e,n.toUriEncodedString());de(Fy,`Sending RPC '${e}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,r,o),this.vo(e,h,f,i).then(m=>(de(Fy,`Received RPC '${e}' ${c}: `,m),m),m=>{throw Bl(Fy,`RPC '${e}' ${c} failed with error: `,m,"url: ",h,"request:",i),m})}Co(e,n,i,r,o,c){return this.So(e,n,i,r,o)}Do(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ac}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}bo(e,n){const i=r6[e];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n="WebChannelConnection";class l6 extends a6{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,i,r){const o=L_();return new Promise((c,h)=>{const f=new zR;f.setWithCredentials(!0),f.listenOnce(HR.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Bd.NO_ERROR:const g=f.getResponseJson();de(_n,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),c(g);break;case Bd.TIMEOUT:de(_n,`RPC '${e}' ${o} timed out`),h(new ve(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Bd.HTTP_ERROR:const v=f.getStatus();if(de(_n,`RPC '${e}' ${o} failed with status:`,v,"response text:",f.getResponseText()),v>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const x=E==null?void 0:E.error;if(x&&x.status&&x.message){const A=function(N){const P=N.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(P)>=0?P:oe.UNKNOWN}(x.status);h(new ve(A,x.message))}else h(new ve(oe.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new ve(oe.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{de(_n,`RPC '${e}' ${o} completed.`)}});const m=JSON.stringify(r);de(_n,`RPC '${e}' ${o} sending request:`,r),f.send(n,"POST",m,i,15)})}Wo(e,n,i){const r=L_(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=$R(),h=GR(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,n,i),f.encodeInitMessageHeaders=!0;const g=o.join("");de(_n,`Creating RPC '${e}' stream ${r}: ${g}`,f);const v=c.createWebChannel(g,f);let E=!1,x=!1;const A=new o6({Fo:N=>{x?de(_n,`Not sending because RPC '${e}' stream ${r} is closed:`,N):(E||(de(_n,`Opening RPC '${e}' stream ${r} transport.`),v.open(),E=!0),de(_n,`RPC '${e}' stream ${r} sending:`,N),v.send(N))},Mo:()=>v.close()}),D=(N,P,U)=>{N.listen(P,L=>{try{U(L)}catch(Q){setTimeout(()=>{throw Q},0)}})};return D(v,Vu.EventType.OPEN,()=>{x||(de(_n,`RPC '${e}' stream ${r} transport opened.`),A.Qo())}),D(v,Vu.EventType.CLOSE,()=>{x||(x=!0,de(_n,`RPC '${e}' stream ${r} transport closed`),A.Uo())}),D(v,Vu.EventType.ERROR,N=>{x||(x=!0,Bl(_n,`RPC '${e}' stream ${r} transport errored:`,N),A.Uo(new ve(oe.UNAVAILABLE,"The operation could not be completed")))}),D(v,Vu.EventType.MESSAGE,N=>{var P;if(!x){const U=N.data[0];Xe(!!U);const L=U,Q=(L==null?void 0:L.error)||((P=L[0])===null||P===void 0?void 0:P.error);if(Q){de(_n,`RPC '${e}' stream ${r} received error:`,Q);const Y=Q.status;let ne=function(I){const j=jt[I];if(j!==void 0)return SI(j)}(Y),k=Q.message;ne===void 0&&(ne=oe.INTERNAL,k="Unknown error status: "+Y+" with message "+Q.message),x=!0,A.Uo(new ve(ne,k)),v.close()}else de(_n,`RPC '${e}' stream ${r} received:`,U),A.Ko(U)}}),D(h,qR.STAT_EVENT,N=>{N.stat===x_.PROXY?de(_n,`RPC '${e}' stream ${r} detected buffering proxy`):N.stat===x_.NOPROXY&&de(_n,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{A.$o()},0),A}}function zy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(t){return new fU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,n,i=1e3,r=1.5,o=6e4){this.Ti=e,this.timerId=n,this.Go=i,this.zo=r,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),r=Math.max(0,n-i);r>0&&de("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="PersistentStream";class BI{constructor(e,n,i,r,o,c,h,f){this.Ti=e,this.n_=i,this.r_=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new UI(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(sr(n.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.i_===n&&this.V_(i,r)},i=>{e(()=>{const r=new ve(oe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(r)})})}V_(e,n){const i=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(r=>{i(()=>this.m_(r))}),this.stream.onMessage(r=>{i(()=>++this.__==1?this.g_(r):this.onNext(r))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return de(kx,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(de(kx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class c6 extends BI{constructor(e,n,i,r,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,c),this.serializer=o}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=pU(this.serializer,e),i=function(o){if(!("targetChange"in o))return Ae.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Ae.min():c.readTime?as(c.readTime):Ae.min()}(e);return this.listener.p_(n,i)}y_(e){const n={};n.database=M_(this.serializer),n.addTarget=function(o,c){let h;const f=c.target;if(h=N_(f)?{documents:_U(o,f)}:{query:vU(o,f).ht},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=RI(o,c.resumeToken);const m=k_(o,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(Ae.min())>0){h.readTime=pm(o,c.snapshotVersion.toTimestamp());const m=k_(o,c.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const i=EU(this.serializer,e);i&&(n.labels=i),this.I_(n)}w_(e){const n={};n.database=M_(this.serializer),n.removeTarget=e,this.I_(n)}}class u6 extends BI{constructor(e,n,i,r,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,c),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=yU(e.writeResults,e.commitTime),i=as(e.commitTime);return this.listener.v_(i,n)}C_(){const e={};e.database=M_(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>gU(this.serializer,i))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{}class f6 extends h6{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,i,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.So(e,P_(n,i),r,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ve(oe.UNKNOWN,o.toString())})}Co(e,n,i,r,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Co(e,P_(n,i),r,c,h,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(oe.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class d6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(sr(n),this.N_=!1):de("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo="RemoteStore";class m6{constructor(e,n,i,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(c=>{i.enqueueAndForget(async()=>{Eo(this)&&(de(uo,"Restarting streams for network reachability change."),await async function(f){const m=Ce(f);m.W_.add(4),await Mh(m),m.j_.set("Unknown"),m.W_.delete(4),await op(m)}(this))})}),this.j_=new d6(i,r)}}async function op(t){if(Eo(t))for(const e of t.G_)await e(!0)}async function Mh(t){for(const e of t.G_)await e(!1)}function FI(t,e){const n=Ce(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),v0(n)?_0(n):cc(n).c_()&&y0(n,e))}function g0(t,e){const n=Ce(t),i=cc(n);n.K_.delete(e),i.c_()&&zI(n,e),n.K_.size===0&&(i.c_()?i.P_():Eo(n)&&n.j_.set("Unknown"))}function y0(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}cc(t).y_(e)}function zI(t,e){t.H_.Ne(e),cc(t).w_(e)}function _0(t){t.H_=new lU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),cc(t).start(),t.j_.B_()}function v0(t){return Eo(t)&&!cc(t).u_()&&t.K_.size>0}function Eo(t){return Ce(t).W_.size===0}function HI(t){t.H_=void 0}async function p6(t){t.j_.set("Online")}async function g6(t){t.K_.forEach((e,n)=>{y0(t,e)})}async function y6(t,e){HI(t),v0(t)?(t.j_.q_(e),_0(t)):t.j_.set("Unknown")}async function _6(t,e,n){if(t.j_.set("Online"),e instanceof CI&&e.state===2&&e.cause)try{await async function(r,o){const c=o.cause;for(const h of o.targetIds)r.K_.has(h)&&(await r.remoteSyncer.rejectListen(h,c),r.K_.delete(h),r.H_.removeTarget(h))}(t,e)}catch(i){de(uo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ym(t,i)}else if(e instanceof qd?t.H_.We(e):e instanceof AI?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Ae.min()))try{const i=await jI(t.localStore);n.compareTo(i)>=0&&await function(o,c){const h=o.H_.ot(c);return h.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const g=o.K_.get(m);g&&o.K_.set(m,g.withResumeToken(f.resumeToken,c))}}),h.targetMismatches.forEach((f,m)=>{const g=o.K_.get(f);if(!g)return;o.K_.set(f,g.withResumeToken(mn.EMPTY_BYTE_STRING,g.snapshotVersion)),zI(o,f);const v=new $r(g.target,f,m,g.sequenceNumber);y0(o,v)}),o.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(i){de(uo,"Failed to raise snapshot:",i),await ym(t,i)}}async function ym(t,e,n){if(!lc(e))throw e;t.W_.add(1),await Mh(t),t.j_.set("Offline"),n||(n=()=>jI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{de(uo,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await op(t)})}function qI(t,e){return e().catch(n=>ym(t,n,e))}async function lp(t){const e=Ce(t),n=ia(e);let i=e.U_.length>0?e.U_[e.U_.length-1].batchId:n0;for(;v6(e);)try{const r=await e6(e.localStore,i);if(r===null){e.U_.length===0&&n.P_();break}i=r.batchId,T6(e,r)}catch(r){await ym(e,r)}GI(e)&&$I(e)}function v6(t){return Eo(t)&&t.U_.length<10}function T6(t,e){t.U_.push(e);const n=ia(t);n.c_()&&n.S_&&n.b_(e.mutations)}function GI(t){return Eo(t)&&!ia(t).u_()&&t.U_.length>0}function $I(t){ia(t).start()}async function E6(t){ia(t).C_()}async function b6(t){const e=ia(t);for(const n of t.U_)e.b_(n.mutations)}async function w6(t,e,n){const i=t.U_.shift(),r=c0.from(i,e,n);await qI(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await lp(t)}async function x6(t,e){e&&ia(t).S_&&await async function(i,r){if(function(c){return aU(c)&&c!==oe.ABORTED}(r.code)){const o=i.U_.shift();ia(i).h_(),await qI(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),await lp(i)}}(t,e),GI(t)&&$I(t)}async function Px(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),de(uo,"RemoteStore received new credentials");const i=Eo(n);n.W_.add(3),await Mh(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await op(n)}async function S6(t,e){const n=Ce(t);e?(n.W_.delete(2),await op(n)):e||(n.W_.add(2),await Mh(n),n.j_.set("Unknown"))}function cc(t){return t.J_||(t.J_=function(n,i,r){const o=Ce(n);return o.M_(),new c6(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{xo:p6.bind(null,t),No:g6.bind(null,t),Lo:y6.bind(null,t),p_:_6.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),v0(t)?_0(t):t.j_.set("Unknown")):(await t.J_.stop(),HI(t))})),t.J_}function ia(t){return t.Y_||(t.Y_=function(n,i,r){const o=Ce(n);return o.M_(),new u6(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:E6.bind(null,t),Lo:x6.bind(null,t),D_:b6.bind(null,t),v_:w6.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await lp(t)):(await t.Y_.stop(),t.U_.length>0&&(de(uo,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){const c=Date.now()+i,h=new T0(e,n,c,r,o);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function E0(t,e){if(sr("AsyncQueue",`${e}: ${t}`),lc(t))return new ve(oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{static emptySet(e){return new Ml(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Te.comparator(n.key,i.key):(n,i)=>Te.comparator(n.key,i.key),this.keyedMap=Lu(),this.sortedSet=new Ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ml)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Ml;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(){this.Z_=new Ut(Te.comparator)}track(e){const n=e.doc.key,i=this.Z_.get(n);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(n):e.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):xe():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,i)=>{e.push(i)}),e}}class Gl{constructor(e,n,i,r,o,c,h,f,m){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,n,i,r,o){const c=[];return n.forEach(h=>{c.push({type:0,doc:h})}),new Gl(e,n,Ml.emptySet(n),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class C6{constructor(){this.queries=Mx(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const r=Ce(n),o=r.queries;r.queries=Mx(),o.forEach((c,h)=>{for(const f of h.ta)f.onError(i)})})(this,new ve(oe.ABORTED,"Firestore shutting down"))}}function Mx(){return new vo(t=>fI(t),tp)}async function R6(t,e){const n=Ce(t);let i=3;const r=e.query;let o=n.queries.get(r);o?!o.na()&&e.ra()&&(i=2):(o=new A6,i=e.ra()?0:1);try{switch(i){case 0:o.ea=await n.onListen(r,!0);break;case 1:o.ea=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(c){const h=E0(c,`Initialization of query '${El(e.query)}' failed`);return void e.onError(h)}n.queries.set(r,o),o.ta.push(e),e.sa(n.onlineState),o.ea&&e.oa(o.ea)&&b0(n)}async function I6(t,e){const n=Ce(t),i=e.query;let r=3;const o=n.queries.get(i);if(o){const c=o.ta.indexOf(e);c>=0&&(o.ta.splice(c,1),o.ta.length===0?r=e.ra()?0:1:!o.na()&&e.ra()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function N6(t,e){const n=Ce(t);let i=!1;for(const r of e){const o=r.query,c=n.queries.get(o);if(c){for(const h of c.ta)h.oa(r)&&(i=!0);c.ea=r}}i&&b0(n)}function D6(t,e,n){const i=Ce(t),r=i.queries.get(e);if(r)for(const o of r.ta)o.onError(n);i.queries.delete(e)}function b0(t){t.ia.forEach(e=>{e.next()})}var j_,Vx;(Vx=j_||(j_={}))._a="default",Vx.Cache="cache";class k6{constructor(e,n,i){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Gl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==j_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e){this.key=e}}class WI{constructor(e){this.key=e}}class P6{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Le(),this.mutatedKeys=Le(),this.ya=dI(e),this.wa=new Ml(this.ya)}get Sa(){return this.fa}ba(e,n){const i=n?n.Da:new Ox,r=n?n.wa:this.wa;let o=n?n.mutatedKeys:this.mutatedKeys,c=r,h=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,m=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((g,v)=>{const E=r.get(g),x=np(this.query,v)?v:null,A=!!E&&this.mutatedKeys.has(E.key),D=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let N=!1;E&&x?E.data.isEqual(x.data)?A!==D&&(i.track({type:3,doc:x}),N=!0):this.va(E,x)||(i.track({type:2,doc:x}),N=!0,(f&&this.ya(x,f)>0||m&&this.ya(x,m)<0)&&(h=!0)):!E&&x?(i.track({type:0,doc:x}),N=!0):E&&!x&&(i.track({type:1,doc:E}),N=!0,(f||m)&&(h=!0)),N&&(x?(c=c.add(x),o=D?o.add(g):o.delete(g)):(c=c.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),o=o.delete(g.key),i.track({type:1,doc:g})}return{wa:c,Da:i,ls:h,mutatedKeys:o}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((g,v)=>function(x,A){const D=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return D(x)-D(A)}(g.type,v.type)||this.ya(g.doc,v.doc)),this.Ca(i),r=r!=null&&r;const h=n&&!r?this.Fa():[],f=this.pa.size===0&&this.current&&!r?1:0,m=f!==this.ga;return this.ga=f,c.length!==0||m?{snapshot:new Gl(this.query,e.wa,o,c,e.mutatedKeys,f===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Ox,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Le(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return e.forEach(i=>{this.pa.has(i)||n.push(new WI(i))}),this.pa.forEach(i=>{e.has(i)||n.push(new KI(i))}),n}Oa(e){this.fa=e.gs,this.pa=Le();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Gl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const w0="SyncEngine";class O6{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class M6{constructor(e){this.key=e,this.Ba=!1}}class V6{constructor(e,n,i,r,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new vo(h=>fI(h),tp),this.qa=new Map,this.Qa=new Set,this.$a=new Ut(Te.comparator),this.Ua=new Map,this.Ka=new f0,this.Wa={},this.Ga=new Map,this.za=ql.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function L6(t,e,n=!0){const i=e2(t);let r;const o=i.ka.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.Na()):r=await YI(i,e,n,!0),r}async function j6(t,e){const n=e2(t);await YI(n,e,!0,!1)}async function YI(t,e,n,i){const r=await t6(t.localStore,rs(e)),o=r.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let h;return i&&(h=await U6(t,e,o,c==="current",r.resumeToken)),t.isPrimaryClient&&n&&FI(t.remoteStore,r),h}async function U6(t,e,n,i,r){t.Ha=(v,E,x)=>async function(D,N,P,U){let L=N.view.ba(P);L.ls&&(L=await Rx(D.localStore,N.query,!1).then(({documents:k})=>N.view.ba(k,L)));const Q=U&&U.targetChanges.get(N.targetId),Y=U&&U.targetMismatches.get(N.targetId)!=null,ne=N.view.applyChanges(L,D.isPrimaryClient,Q,Y);return jx(D,N.targetId,ne.Ma),ne.snapshot}(t,v,E,x);const o=await Rx(t.localStore,e,!0),c=new P6(e,o.gs),h=c.ba(o.documents),f=Oh.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),m=c.applyChanges(h,t.isPrimaryClient,f);jx(t,n,m.Ma);const g=new O6(e,n,c);return t.ka.set(e,g),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),m.snapshot}async function B6(t,e,n){const i=Ce(t),r=i.ka.get(e),o=i.qa.get(r.targetId);if(o.length>1)return i.qa.set(r.targetId,o.filter(c=>!tp(c,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await V_(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&g0(i.remoteStore,r.targetId),U_(i,r.targetId)}).catch(oc)):(U_(i,r.targetId),await V_(i.localStore,r.targetId,!0))}async function F6(t,e){const n=Ce(t),i=n.ka.get(e),r=n.qa.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),g0(n.remoteStore,i.targetId))}async function z6(t,e,n){const i=Y6(t);try{const r=await function(c,h){const f=Ce(c),m=$t.now(),g=h.reduce((x,A)=>x.add(A.key),Le());let v,E;return f.persistence.runTransaction("Locally write mutations","readwrite",x=>{let A=rr(),D=Le();return f.ds.getEntries(x,g).next(N=>{A=N,A.forEach((P,U)=>{U.isValidDocument()||(D=D.add(P))})}).next(()=>f.localDocuments.getOverlayedDocuments(x,A)).next(N=>{v=N;const P=[];for(const U of h){const L=tU(U,v.get(U.key).overlayedDocument);L!=null&&P.push(new To(U.key,L,rI(L.value.mapValue),Xs.exists(!0)))}return f.mutationQueue.addMutationBatch(x,m,P,h)}).next(N=>{E=N;const P=N.applyToLocalDocumentSet(v,D);return f.documentOverlayCache.saveOverlays(x,N.batchId,P)})}).then(()=>({batchId:E.batchId,changes:pI(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(c,h,f){let m=c.Wa[c.currentUser.toKey()];m||(m=new Ut(De)),m=m.insert(h,f),c.Wa[c.currentUser.toKey()]=m}(i,r.batchId,n),await Vh(i,r.changes),await lp(i.remoteStore)}catch(r){const o=E0(r,"Failed to persist write");n.reject(o)}}async function QI(t,e){const n=Ce(t);try{const i=await ZU(n.localStore,e);e.targetChanges.forEach((r,o)=>{const c=n.Ua.get(o);c&&(Xe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.Ba=!0:r.modifiedDocuments.size>0?Xe(c.Ba):r.removedDocuments.size>0&&(Xe(c.Ba),c.Ba=!1))}),await Vh(n,i,e)}catch(i){await oc(i)}}function Lx(t,e,n){const i=Ce(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.ka.forEach((o,c)=>{const h=c.view.sa(e);h.snapshot&&r.push(h.snapshot)}),function(c,h){const f=Ce(c);f.onlineState=h;let m=!1;f.queries.forEach((g,v)=>{for(const E of v.ta)E.sa(h)&&(m=!0)}),m&&b0(f)}(i.eventManager,e),r.length&&i.La.p_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function H6(t,e,n){const i=Ce(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Ua.get(e),o=r&&r.key;if(o){let c=new Ut(Te.comparator);c=c.insert(o,En.newNoDocument(o,Ae.min()));const h=Le().add(o),f=new rp(Ae.min(),new Map,new Ut(De),c,h);await QI(i,f),i.$a=i.$a.remove(o),i.Ua.delete(e),x0(i)}else await V_(i.localStore,e,!1).then(()=>U_(i,e,n)).catch(oc)}async function q6(t,e){const n=Ce(t),i=e.batch.batchId;try{const r=await XU(n.localStore,e);ZI(n,i,null),XI(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Vh(n,r)}catch(r){await oc(r)}}async function G6(t,e,n){const i=Ce(t);try{const r=await function(c,h){const f=Ce(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let g;return f.mutationQueue.lookupMutationBatch(m,h).next(v=>(Xe(v!==null),g=v.keys(),f.mutationQueue.removeMutationBatch(m,v))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,g,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g)).next(()=>f.localDocuments.getDocuments(m,g))})}(i.localStore,e);ZI(i,e,n),XI(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Vh(i,r)}catch(r){await oc(r)}}function XI(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function ZI(t,e,n){const i=Ce(t);let r=i.Wa[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Wa[i.currentUser.toKey()]=r}}function U_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.qa.get(e))t.ka.delete(i),n&&t.La.Ja(i,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(i=>{t.Ka.containsKey(i)||JI(t,i)})}function JI(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(g0(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),x0(t))}function jx(t,e,n){for(const i of n)i instanceof KI?(t.Ka.addReference(i.key,e),$6(t,i)):i instanceof WI?(de(w0,"Document no longer in limbo: "+i.key),t.Ka.removeReference(i.key,e),t.Ka.containsKey(i.key)||JI(t,i.key)):xe()}function $6(t,e){const n=e.key,i=n.path.canonicalString();t.$a.get(n)||t.Qa.has(i)||(de(w0,"New document in limbo: "+n),t.Qa.add(i),x0(t))}function x0(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new Te(Rt.fromString(e)),i=t.za.next();t.Ua.set(i,new M6(n)),t.$a=t.$a.insert(n,i),FI(t.remoteStore,new $r(rs(o0(n.path)),i,"TargetPurposeLimboResolution",Xm.ae))}}async function Vh(t,e,n){const i=Ce(t),r=[],o=[],c=[];i.ka.isEmpty()||(i.ka.forEach((h,f)=>{c.push(i.Ha(f,e,n).then(m=>{var g;if((m||n)&&i.isPrimaryClient){const v=m?!m.fromCache:(g=n==null?void 0:n.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;i.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(m){r.push(m);const v=m0.Yi(f.targetId,m);o.push(v)}}))}),await Promise.all(c),i.La.p_(r),await async function(f,m){const g=Ce(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>se.forEach(m,E=>se.forEach(E.Hi,x=>g.persistence.referenceDelegate.addReference(v,E.targetId,x)).next(()=>se.forEach(E.Ji,x=>g.persistence.referenceDelegate.removeReference(v,E.targetId,x)))))}catch(v){if(!lc(v))throw v;de(p0,"Failed to update sequence numbers: "+v)}for(const v of m){const E=v.targetId;if(!v.fromCache){const x=g.Ts.get(E),A=x.snapshotVersion,D=x.withLastLimboFreeSnapshotVersion(A);g.Ts=g.Ts.insert(E,D)}}}(i.localStore,o))}async function K6(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){de(w0,"User change. New user:",e.toKey());const i=await LI(n.localStore,e);n.currentUser=e,function(o,c){o.Ga.forEach(h=>{h.forEach(f=>{f.reject(new ve(oe.CANCELLED,c))})}),o.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Vh(n,i.Rs)}}function W6(t,e){const n=Ce(t),i=n.Ua.get(e);if(i&&i.Ba)return Le().add(i.key);{let r=Le();const o=n.qa.get(e);if(!o)return r;for(const c of o){const h=n.ka.get(c);r=r.unionWith(h.view.Sa)}return r}}function e2(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=QI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=W6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=H6.bind(null,e),e.La.p_=N6.bind(null,e.eventManager),e.La.Ja=D6.bind(null,e.eventManager),e}function Y6(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=q6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=G6.bind(null,e),e}class _m{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ap(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return QU(this.persistence,new KU,e.initialUser,this.serializer)}Xa(e){return new VI(d0.ri,this.serializer)}Za(e){return new i6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_m.provider={build:()=>new _m};class Q6 extends _m{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Xe(this.persistence.referenceDelegate instanceof gm);const i=this.persistence.referenceDelegate.garbageCollector;return new kU(i,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new VI(i=>gm.ri(i,n),this.serializer)}}class B_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Lx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=K6.bind(null,this.syncEngine),await S6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new C6}()}createDatastore(e){const n=ap(e.databaseInfo.databaseId),i=function(o){return new l6(o)}(e.databaseInfo);return function(o,c,h,f){return new f6(o,c,h,f)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,o,c,h){return new m6(i,r,o,c,h)}(this.localStore,this.datastore,e.asyncQueue,n=>Lx(this.syncEngine,n,0),function(){return Dx.D()?new Dx:new s6}())}createSyncEngine(e,n){return function(r,o,c,h,f,m,g){const v=new V6(r,o,c,h,f,m);return g&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const o=Ce(r);de(uo,"RemoteStore shutting down."),o.W_.add(5),await Mh(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}B_.provider={build:()=>new B_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):sr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="FirestoreClient";class Z6{constructor(e,n,i,r,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Tn.UNAUTHENTICATED,this.clientId=YR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async c=>{de(sa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(de(sa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=E0(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Hy(t,e){t.asyncQueue.verifyOperationInProgress(),de(sa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await LI(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Ux(t,e){t.asyncQueue.verifyOperationInProgress();const n=await J6(t);de(sa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>Px(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>Px(e.remoteStore,r)),t._onlineComponents=e}async function J6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de(sa,"Using user provided OfflineComponentProvider");try{await Hy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===oe.FAILED_PRECONDITION||r.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Bl("Error using user provided cache. Falling back to memory cache: "+n),await Hy(t,new _m)}}else de(sa,"Using default OfflineComponentProvider"),await Hy(t,new Q6(void 0));return t._offlineComponents}async function t2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de(sa,"Using user provided OnlineComponentProvider"),await Ux(t,t._uninitializedComponentsProvider._online)):(de(sa,"Using default OnlineComponentProvider"),await Ux(t,new B_))),t._onlineComponents}function e9(t){return t2(t).then(e=>e.syncEngine)}async function t9(t){const e=await t2(t),n=e.eventManager;return n.onListen=L6.bind(null,e.syncEngine),n.onUnlisten=B6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=j6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=F6.bind(null,e.syncEngine),n}function n9(t,e,n={}){const i=new Qr;return t.asyncQueue.enqueueAndForget(async()=>function(o,c,h,f,m){const g=new X6({next:E=>{g.su(),c.enqueueAndForget(()=>I6(o,v));const x=E.docs.has(h);!x&&E.fromCache?m.reject(new ve(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&E.fromCache&&f&&f.source==="server"?m.reject(new ve(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),v=new k6(o0(h.path),g,{includeMetadataChanges:!0,Ta:!0});return R6(o,v)}(await t9(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i9(t,e,n){if(!n)throw new ve(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function s9(t,e,n,i){if(e===!0&&i===!0)throw new ve(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Fx(t){if(!Te.isDocumentKey(t))throw new ve(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function S0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe()}function dh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=S0(t);throw new ve(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2="firestore.googleapis.com",zx=!0;class Hx{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=i2,this.ssl=zx}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:zx;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=MI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<NU)throw new ve(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}s9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=n2((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class A0{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new rj;switch(i.type){case"firstParty":return new cj(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ve(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Bx.get(n);i&&(de("ComponentProvider","Removing Datastore"),Bx.delete(n),i.terminate())}(this),Promise.resolve()}}function r9(t,e,n,i={}){var r;const o=(t=dh(t,A0))._getSettings(),c=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${n}`;o.host!==i2&&o.host!==h&&Bl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},o),{host:h,ssl:!1,emulatorOptions:i});if(!er(f,c)&&(t._setSettings(f),i.mockUserToken)){let m,g;if(typeof i.mockUserToken=="string")m=i.mockUserToken,g=Tn.MOCK_USER;else{m=Mv(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new ve(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Tn(v)}t._authCredentials=new aj(new KR(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new C0(this.firestore,e,this._query)}}class _i{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _i(this.firestore,e,this._key)}}class mh extends C0{constructor(e,n,i){super(e,n,o0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _i(this.firestore,null,new Te(e))}withConverter(e){return new mh(this.firestore,e,this._path)}}function a9(t,e,...n){if(t=bt(t),arguments.length===1&&(e=YR.newId()),i9("doc","path",e),t instanceof A0){const i=Rt.fromString(e,...n);return Fx(i),new _i(t,null,new Te(i))}{if(!(t instanceof _i||t instanceof mh))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Rt.fromString(e,...n));return Fx(i),new _i(t.firestore,t instanceof mh?t.converter:null,new Te(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="AsyncQueue";class Gx{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new UI(this,"async_queue_retry"),this.Su=()=>{const i=zy();i&&de(qx,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const n=zy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=zy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Qr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!lc(e))throw e;de(qx,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const r=function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h}(i);throw sr("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.pu=!1,i))));return this.bu=n,n}enqueueAfterDelay(e,n,i){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const r=T0.createAndSchedule(this,e,n,i,o=>this.Fu(o));return this.fu.push(r),r}Du(){this.gu&&xe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class R0 extends A0{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new Gx,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Gx(e),this._firestoreClient=void 0,await e}}}function o9(t,e){const n=typeof t=="object"?t:ic(),i=typeof t=="string"?t:um,r=ps(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=qm("firestore");o&&r9(r,...o)}return r}function s2(t){if(t._terminated)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||l9(t),t._firestoreClient}function l9(t){var e,n,i;const r=t._freezeSettings(),o=function(h,f,m,g){return new xj(h,f,m,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,n2(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new Z6(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $l(mn.fromBase64String(e))}catch(n){throw new ve(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $l(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9=/^__.*__$/;class u9{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new To(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ph(e,this.data,n,this.fieldTransforms)}}function r2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}class P0{constructor(e,n,i,r,o,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new P0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ku({path:i,Qu:!1});return r.$u(e),r}Uu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ku({path:i,Qu:!1});return r.Bu(),r}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return vm(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(r2(this.Lu)&&c9.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class h9{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||ap(e)}ju(e,n,i,r=!1){return new P0({Lu:e,methodName:n,zu:i,path:dn.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function f9(t){const e=t._freezeSettings(),n=ap(t._databaseId);return new h9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function d9(t,e,n,i,r,o={}){const c=t.ju(o.merge||o.mergeFields?2:0,e,n,r);c2("Data must be an object, but it was:",c,i);const h=o2(i,c);let f,m;if(o.merge)f=new Di(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const g=[];for(const v of o.mergeFields){const E=m9(e,v,n);if(!c.contains(E))throw new ve(oe.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);g9(g,E)||g.push(E)}f=new Di(g),m=c.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,m=c.fieldTransforms;return new u9(new gi(h),f,m)}class O0 extends N0{_toFieldTransform(e){return new Xj(e.path,new uh)}isEqual(e){return e instanceof O0}}function a2(t,e){if(l2(t=bt(t)))return c2("Unsupported field value:",e,t),o2(t,e);if(t instanceof N0)return function(i,r){if(!r2(r.Lu))throw r.Wu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Wu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,r){const o=[];let c=0;for(const h of i){let f=a2(h,r.Ku(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}}(t,e)}return function(i,r){if((i=bt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Wj(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=$t.fromDate(i);return{timestampValue:pm(r.serializer,o)}}if(i instanceof $t){const o=new $t(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:pm(r.serializer,o)}}if(i instanceof D0)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof $l)return{bytesValue:RI(r.serializer,i._byteString)};if(i instanceof _i){const o=r.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw r.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:h0(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof k0)return function(c,h){return{mapValue:{fields:{[iI]:{stringValue:sI},[hm]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw h.Wu("VectorValues must only contain numeric values.");return l0(h.serializer,m)})}}}}}}(i,r);throw r.Wu(`Unsupported field value: ${S0(i)}`)}(t,e)}function o2(t,e){const n={};return XR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_o(t,(i,r)=>{const o=a2(r,e.qu(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function l2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $t||t instanceof D0||t instanceof $l||t instanceof _i||t instanceof N0||t instanceof k0)}function c2(t,e,n){if(!l2(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=S0(n);throw i==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+i)}}function m9(t,e,n){if((e=bt(e))instanceof I0)return e._internalPath;if(typeof e=="string")return u2(t,e);throw vm("Field path arguments must be of type string or ",t,!1,void 0,n)}const p9=new RegExp("[~\\*/\\[\\]]");function u2(t,e,n){if(e.search(p9)>=0)throw vm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new I0(...e.split("."))._internalPath}catch{throw vm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vm(t,e,n,i,r){const o=i&&!i.isEmpty(),c=r!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${i}`),c&&(f+=` in document ${r}`),f+=")"),new ve(oe.INVALID_ARGUMENT,h+t+f)}function g9(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,n,i,r,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new _i(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new y9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(f2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class y9 extends h2{data(){return super.data()}}function f2(t,e){return typeof e=="string"?u2(t,e):e instanceof I0?e._internalPath:e._delegate._internalPath}class _9{convertValue(e,n="none"){switch(na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return _o(e,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertVectorValue(e){var n,i,r;const o=(r=(i=(n=e.fields)===null||n===void 0?void 0:n[hm].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(c=>Pt(c.doubleValue));return new k0(o)}convertGeoPoint(e){return new D0(Pt(e.latitude),Pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Jm(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(oh(e));default:return null}}convertTimestamp(e){const n=ea(e);return new $t(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Rt.fromString(e);Xe(OI(i));const r=new lh(i.get(1),i.get(3)),o=new Te(i.popFirst(5));return r.isEqual(n)||sr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v9(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class d2 extends h2{constructor(e,n,i,r,o,c){super(e,n,i,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new E9(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(f2("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class E9 extends d2{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b9(t){t=dh(t,_i);const e=dh(t.firestore,R0);return n9(s2(e),t._key).then(n=>A9(e,t,n))}class w9 extends _9{constructor(e){super(),this.firestore=e}convertBytes(e){return new $l(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _i(this.firestore,null,n)}}function x9(t,e,n){t=dh(t,_i);const i=dh(t.firestore,R0),r=v9(t.converter,e,n);return S9(i,[d9(f9(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Xs.none())])}function S9(t,e){return function(i,r){const o=new Qr;return i.asyncQueue.enqueueAndForget(async()=>z6(await e9(i),r,o)),o.promise}(s2(t),e)}function A9(t,e,n){const i=n.docs.get(e._key),r=new w9(t);return new d2(t,r,e._key,i,new T9(n.hasPendingWrites,n.fromCache),e.converter)}function $x(){return new O0("serverTimestamp")}(function(e,n=!0){(function(r){ac=r})(ca),Jn(new Fn("firestore",(i,{instanceIdentifier:r,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new R0(new oj(i.getProvider("auth-internal")),new uj(c,i.getProvider("app-check-internal")),function(m,g){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ve(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lh(m.options.projectId,g)}(c,r),c);return o=Object.assign({useFetchStreams:n},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),rn(Z1,J1,e),rn(Z1,J1,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="firebasestorage.googleapis.com",C9="storageBucket",R9=2*60*1e3,I9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends ei{constructor(e,n,i=0){super(qy(e),`Firebase Storage: ${n} (${qy(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_s.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return qy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ds;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ds||(ds={}));function qy(t){return"storage/"+t}function N9(){const t="An unknown error occurred, please check the error payload for server response.";return new _s(ds.UNKNOWN,t)}function D9(){return new _s(ds.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function k9(){return new _s(ds.CANCELED,"User canceled the upload/download.")}function P9(t){return new _s(ds.INVALID_URL,"Invalid URL '"+t+"'.")}function O9(t){return new _s(ds.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Kx(t){return new _s(ds.INVALID_ARGUMENT,t)}function p2(){return new _s(ds.APP_DELETED,"The Firebase app was deleted.")}function M9(t){return new _s(ds.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=ki.makeFromUrl(e,n)}catch{return new ki(e,"")}if(i.path==="")return i;throw O9(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+r+c,"i"),f={bucket:1,path:3};function m(Q){Q.path_=decodeURIComponent(Q.path)}const g="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",x=new RegExp(`^https?://${v}/${g}/b/${r}/o${E}`,"i"),A={bucket:1,path:3},D=n===m2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",P=new RegExp(`^https?://${D}/${r}/${N}`,"i"),L=[{regex:h,indices:f,postModify:o},{regex:x,indices:A,postModify:m},{regex:P,indices:{bucket:1,path:2},postModify:m}];for(let Q=0;Q<L.length;Q++){const Y=L[Q],ne=Y.regex.exec(e);if(ne){const k=ne[Y.indices.bucket];let C=ne[Y.indices.path];C||(C=""),i=new ki(k,C),Y.postModify(i);break}}if(i==null)throw P9(e);return i}}class V9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L9(t,e,n){let i=1,r=null,o=null,c=!1,h=0;function f(){return h===2}let m=!1;function g(...N){m||(m=!0,e.apply(null,N))}function v(N){r=setTimeout(()=>{r=null,t(x,f())},N)}function E(){o&&clearTimeout(o)}function x(N,...P){if(m){E();return}if(N){E(),g.call(null,N,...P);return}if(f()||c){E(),g.call(null,N,...P);return}i<64&&(i*=2);let L;h===1?(h=2,L=0):L=(i+Math.random())*1e3,v(L)}let A=!1;function D(N){A||(A=!0,E(),!m&&(r!==null?(N||(h=2),clearTimeout(r),v(0)):N||(h=1)))}return v(0),o=setTimeout(()=>{c=!0,D(!0)},n),D}function j9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U9(t){return t!==void 0}function Wx(t,e,n,i){if(i<e)throw Kx(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Kx(`Invalid value for '${t}'. Expected ${n} or less.`)}function B9(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}var Tm;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Tm||(Tm={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F9(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e,n,i,r,o,c,h,f,m,g,v,E=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=g,this.connectionFactory_=v,this.retry=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,A)=>{this.resolve_=x,this.reject_=A,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new Ad(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=h=>{const f=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const h=o.getErrorCode()===Tm.NO_ERROR,f=o.getStatus();if(!h||F9(f,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===Tm.ABORT;i(!1,new Ad(!1,null,g));return}const m=this.successCodes_.indexOf(f)!==-1;i(!0,new Ad(m,o))})},n=(i,r)=>{const o=this.resolve_,c=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());U9(f)?o(f):o()}catch(f){c(f)}else if(h!==null){const f=N9();f.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,f)):c(f)}else if(r.canceled){const f=this.appDelete_?p2():k9();c(f)}else{const f=D9();c(f)}};this.canceled_?n(!1,new Ad(!1,null,!0)):this.backoffId_=L9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&j9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ad{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function H9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function q9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function G9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function $9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function K9(t,e,n,i,r,o,c=!0){const h=B9(t.urlParams),f=t.url+h,m=Object.assign({},t.headers);return G9(m,e),H9(m,n),q9(m,o),$9(m,i),new z9(f,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Y9(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,n){this._service=e,n instanceof ki?this._location=n:this._location=ki.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Em(e,n)}get root(){const e=new ki(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Y9(this._location.path)}get storage(){return this._service}get parent(){const e=W9(this._location.path);if(e===null)return null;const n=new ki(this._location.bucket,e);return new Em(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw M9(e)}}function Yx(t,e){const n=e==null?void 0:e[C9];return n==null?null:ki.makeFromBucketSpec(n,t)}function Q9(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:Mv(r,t.app.options.projectId))}class X9{constructor(e,n,i,r,o){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=m2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=R9,this._maxUploadRetryTime=I9,this._requests=new Set,r!=null?this._bucket=ki.makeFromBucketSpec(r,this._host):this._bucket=Yx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ki.makeFromBucketSpec(this._url,e):this._bucket=Yx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Wx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Wx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Em(this,e)}_makeRequest(e,n,i,r,o=!0){if(this._deleted)return new V9(p2());{const c=K9(e,this._appId,i,r,n,this._firebaseVersion,o);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()}}const Qx="@firebase/storage",Xx="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2="storage";function Z9(t=ic(),e){t=bt(t);const i=ps(t,g2).getImmediate({identifier:e}),r=qm("storage");return r&&J9(i,...r),i}function J9(t,e,n,i={}){Q9(t,e,n,i)}function eB(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new X9(n,i,r,e,ca)}function tB(){Jn(new Fn(g2,eB,"PUBLIC").setMultipleInstances(!0)),rn(Qx,Xx,""),rn(Qx,Xx,"esm2017")}tB();var Zx={};const Jx="@firebase/database",eS="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y2="";function nB(t){y2=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),fn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ih(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return ur(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new iB(e)}}catch{}return new sB},to=_2("localStorage"),rB=_2("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=new Ih("@firebase/database"),aB=function(){let t=1;return function(){return t++}}(),v2=function(t){const e=r4(t),n=new e4;n.update(e);const i=n.digest();return Pv.encodeByteArray(i)},Lh=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Lh.apply(null,i):typeof i=="object"?e+=fn(i):e+=i,e+=" "}return e};let Wu=null,tS=!0;const oB=function(t,e){he(!0,"Can't turn on custom loggers persistently."),Vl.logLevel=Ve.VERBOSE,Wu=Vl.log.bind(Vl)},bn=function(...t){if(tS===!0&&(tS=!1,Wu===null&&rB.get("logging_enabled")===!0&&oB()),Wu){const e=Lh.apply(null,t);Wu(e)}},jh=function(t){return function(...e){bn(t,...e)}},F_=function(...t){const e="FIREBASE INTERNAL ERROR: "+Lh(...t);Vl.error(e)},ar=function(...t){const e=`FIREBASE FATAL ERROR: ${Lh(...t)}`;throw Vl.error(e),new Error(e)},Zn=function(...t){const e="FIREBASE WARNING: "+Lh(...t);Vl.warn(e)},lB=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Zn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},T2=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},cB=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Kl="[MIN_NAME]",ho="[MAX_NAME]",uc=function(t,e){if(t===e)return 0;if(t===Kl||e===ho)return-1;if(e===Kl||t===ho)return 1;{const n=nS(t),i=nS(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},uB=function(t,e){return t===e?0:t<e?-1:1},Ru=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+fn(e))},M0=function(t){if(typeof t!="object"||t===null)return fn(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=fn(e[i]),n+=":",n+=M0(t[e[i]]);return n+="}",n},E2=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function Ei(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const b2=function(t){he(!T2(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let r,o,c,h,f;t===0?(o=0,c=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(t)/Math.LN2),i),o=h+i,c=Math.round(t*Math.pow(2,n-h)-Math.pow(2,n))):(o=0,c=Math.round(t/Math.pow(2,1-i-n))));const m=[];for(f=n;f;f-=1)m.push(c%2?1:0),c=Math.floor(c/2);for(f=e;f;f-=1)m.push(o%2?1:0),o=Math.floor(o/2);m.push(r?1:0),m.reverse();const g=m.join("");let v="";for(f=0;f<64;f+=8){let E=parseInt(g.substr(f,8),2).toString(16);E.length===1&&(E="0"+E),v=v+E}return v.toLowerCase()},hB=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},fB=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},dB=new RegExp("^-?(0*)\\d{1,10}$"),mB=-2147483648,pB=2147483647,nS=function(t){if(dB.test(t)){const e=Number(t);if(e>=mB&&e<=pB)return e}return null},Uh=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Zn("Exception was thrown by user callback.",n),e},Math.floor(0))}},gB=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Yu=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,xn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Zn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(bn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Zn(e)}}class Gd{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Gd.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="5",w2="v",x2="s",S2="r",A2="f",C2=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,R2="ls",I2="p",z_="ac",N2="websocket",D2="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,n,i,r,o=!1,c="",h=!1,f=!1,m=null){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=f,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=to.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&to.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function vB(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function P2(t,e,n){he(typeof e=="string","typeof type must == string"),he(typeof n=="object","typeof params must == object");let i;if(e===N2)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===D2)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);vB(t)&&(n.ns=t.namespace);const r=[];return Ei(n,(o,c)=>{r.push(o+"="+c)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(){this.counters_={}}incrementCounter(e,n=1){ur(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return LM(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy={},$y={};function L0(t){const e=t.toString();return Gy[e]||(Gy[e]=new TB),Gy[e]}function EB(t,e){const n=t.toString();return $y[n]||($y[n]=e()),$y[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Uh(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="start",wB="close",xB="pLPCommand",SB="pRTLPCB",O2="id",M2="pw",V2="ser",AB="cb",CB="seg",RB="ts",IB="d",NB="dframe",L2=1870,j2=30,DB=L2-j2,kB=25e3,PB=3e4;class xl{constructor(e,n,i,r,o,c,h){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=jh(e),this.stats_=L0(n),this.urlFn=f=>(this.appCheckToken&&(f[z_]=this.appCheckToken),P2(n,D2,f))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new bB(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(PB)),cB(()=>{if(this.isClosed_)return;this.scriptTagHolder=new j0((...o)=>{const[c,h,f,m,g]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===iS)this.id=h,this.password=f;else if(c===wB)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...o)=>{const[c,h]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const i={};i[iS]="t",i[V2]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[AB]=this.scriptTagHolder.uniqueCallbackIdentifier),i[w2]=V0,this.transportSessionId&&(i[x2]=this.transportSessionId),this.lastSessionId&&(i[R2]=this.lastSessionId),this.applicationId&&(i[I2]=this.applicationId),this.appCheckToken&&(i[z_]=this.appCheckToken),typeof location<"u"&&location.hostname&&C2.test(location.hostname)&&(i[S2]=A2);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){xl.forceAllow_=!0}static forceDisallow(){xl.forceDisallow_=!0}static isAvailable(){return xl.forceAllow_?!0:!xl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!hB()&&!fB()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=fn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=EC(n),r=E2(i,DB);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[NB]="t",i[O2]=e,i[M2]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=fn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class j0{constructor(e,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=aB(),window[xB+this.uniqueCallbackIdentifier]=e,window[SB+this.uniqueCallbackIdentifier]=n,this.myIFrame=j0.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){bn("frame writing exception"),h.stack&&bn(h.stack),bn(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||bn("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[O2]=this.myID,e[M2]=this.myPW,e[V2]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+j2+i.length<=L2;){const c=this.pendingSegs.shift();i=i+"&"+CB+r+"="+c.seg+"&"+RB+r+"="+c.ts+"&"+IB+r+"="+c.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(kB)),o=()=>{clearTimeout(r),i()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{bn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OB=16384,MB=45e3;let bm=null;typeof MozWebSocket<"u"?bm=MozWebSocket:typeof WebSocket<"u"&&(bm=WebSocket);class Ii{constructor(e,n,i,r,o,c,h){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=jh(this.connId),this.stats_=L0(n),this.connURL=Ii.connectionURL_(n,c,h,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,r,o){const c={};return c[w2]=V0,typeof location<"u"&&location.hostname&&C2.test(location.hostname)&&(c[S2]=A2),n&&(c[x2]=n),i&&(c[R2]=i),r&&(c[z_]=r),o&&(c[I2]=o),P2(e,N2,c)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,to.set("previous_websocket_failure",!0);try{let i;$M(),this.mySock=new bm(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){Ii.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&bm!==null&&!Ii.forceDisallow_}static previouslyFailed(){return to.isInMemoryStorage||to.get("previous_websocket_failure")===!0}markConnectionHealthy(){to.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=ih(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(he(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=fn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=E2(n,OB);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(MB))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ii.responsesRequiredToBeHealthy=2;Ii.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{static get ALL_TRANSPORTS(){return[xl,Ii]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Ii&&Ii.isAvailable();let i=n&&!Ii.previouslyFailed();if(e.webSocketOnly&&(n||Zn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ii];else{const r=this.transports_=[];for(const o of ph.ALL_TRANSPORTS)o&&o.isAvailable()&&r.push(o);ph.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ph.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB=6e4,LB=5e3,jB=10*1024,UB=100*1024,Ky="t",sS="d",BB="s",rS="r",FB="e",aS="o",oS="a",lS="n",cS="p",zB="h";class HB{constructor(e,n,i,r,o,c,h,f,m,g){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=f,this.onKill_=m,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=jh("c:"+this.id+":"),this.transportManager_=new ph(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Yu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>UB?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>jB?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ky in e){const n=e[Ky];n===oS?this.upgradeIfSecondaryHealthy_():n===rS?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===aS&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ru("t",e),i=Ru("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:cS,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:oS,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:lS,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ru("t",e),i=Ru("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ru(Ky,e);if(sS in e){const i=e[sS];if(n===zB){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===lS){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===BB?this.onConnectionShutdown_(i):n===rS?this.onReset_(i):n===FB?F_("Server Error: "+i):n===aS?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):F_("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),V0!==i&&Zn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Yu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(VB))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Yu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(LB))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:cS,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(to.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.allowedEvents_=e,this.listeners_={},he(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===n&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(e){he(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm extends B2{static getInstance(){return new wm}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Vv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return he(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=32,hS=768;class mt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function rt(){return new mt("")}function qe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ra(t){return t.pieces_.length-t.pieceNum_}function dt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new mt(t.pieces_,e)}function F2(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function qB(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function z2(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function H2(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new mt(e,0)}function sn(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof mt)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new mt(n,0)}function Ue(t){return t.pieceNum_>=t.pieces_.length}function yi(t,e){const n=qe(t),i=qe(e);if(n===null)return e;if(n===i)return yi(dt(t),dt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function q2(t,e){if(ra(t)!==ra(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Pi(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(ra(t)>ra(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class GB{constructor(e,n){this.errorPrefix_=n,this.parts_=z2(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Gm(this.parts_[i]);G2(this)}}function $B(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Gm(e),G2(t)}function KB(t){const e=t.parts_.pop();t.byteLength_-=Gm(e),t.parts_.length>0&&(t.byteLength_-=1)}function G2(t){if(t.byteLength_>hS)throw new Error(t.errorPrefix_+"has a key path longer than "+hS+" bytes ("+t.byteLength_+").");if(t.parts_.length>uS)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+uS+") or object contains a cycle "+Qa(t))}function Qa(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0 extends B2{static getInstance(){return new U0}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return he(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu=1e3,WB=60*5*1e3,fS=30*1e3,YB=1.3,QB=3e4,XB="server_kill",dS=3;class Zs extends U2{constructor(e,n,i,r,o,c,h,f){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=o,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=f,this.id=Zs.nextPersistentConnectionId_++,this.log_=jh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Iu,this.maxReconnectDelay_=WB,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");U0.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&wm.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const r=++this.requestNumber_,o={r,a:e,b:n};this.log_(fn(o)),he(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const n=new Ov,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const h=c.d;c.s==="ok"?n.resolve(h):n.reject(h)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,i,r){this.initConnection_();const o=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+o),this.listens.has(c)||this.listens.set(c,new Map),he(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),he(!this.listens.get(c).has(o),"listen() called twice for same path/queryId.");const h={onComplete:r,hashFn:n,query:e,tag:i};this.listens.get(c).set(o,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const o={p:i},c="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(c,o,h=>{const f=h.d,m=h.s;Zs.warnOnListenWarnings_(f,n),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",h),m!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(m,f))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&ur(e,"w")){const i=jl(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();Zn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||JM(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=fS)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=ZM(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const o=r.s,c=r.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),he(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,n)}sendUnlisten_(e,n,i,r){this.log_("Unlisten on "+e+" for "+n);const o={p:e},c="n";r&&(o.q=i,o.t=r),this.sendRequest(c,o)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,r){const o={p:n,d:i};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,c=>{r&&setTimeout(()=>{r(c.s,c.d)},Math.floor(0))})}put(e,n,i,r){this.putInternal("p",e,n,i,r)}merge(e,n,i,r){this.putInternal("m",e,n,i,r)}putInternal(e,n,i,r,o){this.initConnection_();const c={p:n,d:i};o!==void 0&&(c.h=o),this.outstandingPuts_.push({action:e,request:c,onComplete:r}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+fn(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):F_("Unrecognized action received from server: "+fn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){he(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Iu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Iu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>QB&&(this.reconnectDelay_=Iu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*YB)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Zs.nextConnectionId_++,o=this.lastSessionId;let c=!1,h=null;const f=function(){h?h.close():(c=!0,i())},m=function(v){he(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(v)};this.realtime_={close:f,sendRequest:m};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,E]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);c?bn("getToken() completed but was canceled"):(bn("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=E&&E.token,h=new HB(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,x=>{Zn(x+" ("+this.repoInfo_.toString()+")"),this.interrupt(XB)},o))}catch(v){this.log_("Failed to get token: "+v),c||(this.repoInfo_.nodeAdmin&&Zn(v),f())}}}interrupt(e){bn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){bn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],m_(this.interruptReasons_)&&(this.reconnectDelay_=Iu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(o=>M0(o)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const i=new mt(e).toString();let r;if(this.listens.has(i)){const o=this.listens.get(i);r=o.get(n),o.delete(n),o.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,n){bn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=dS&&(this.reconnectDelay_=fS,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){bn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=dS&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+y2.replace(/\./g,"-")]=1,Vv()?e["framework.cordova"]=1:CC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=wm.getInstance().currentlyOnline();return m_(this.interruptReasons_)&&e}}Zs.nextPersistentConnectionId_=0;Zs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ge(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new Ge(Kl,e),r=new Ge(Kl,n);return this.compare(i,r)!==0}minPost(){return Ge.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cd;class $2 extends cp{static get __EMPTY_NODE(){return Cd}static set __EMPTY_NODE(e){Cd=e}compare(e,n){return uc(e.name,n.name)}isDefinedOn(e){throw tc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ge.MIN}maxPost(){return new Ge(ho,Cd)}makePost(e,n){return he(typeof e=="string","KeyIndex indexValue must always be a string."),new Ge(e,Cd)}toString(){return".key"}}const Ll=new $2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,n,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=n?i(e.key,n):1,r&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class nn{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??nn.RED,this.left=r??jn.EMPTY_NODE,this.right=o??jn.EMPTY_NODE}copy(e,n,i,r,o){return new nn(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const o=i(e,r.key);return o<0?r=r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return jn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,r;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return jn.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}nn.RED=!0;nn.BLACK=!1;class ZB{copy(e,n,i,r,o){return this}insert(e,n,i){return new nn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class jn{constructor(e,n=jn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new jn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,nn.BLACK,null,null))}remove(e){return new jn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,nn.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Rd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Rd(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Rd(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Rd(this.root_,null,this.comparator_,!0,e)}}jn.EMPTY_NODE=new ZB;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JB(t,e){return uc(t.name,e.name)}function B0(t,e){return uc(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H_;function e7(t){H_=t}const K2=function(t){return typeof t=="number"?"number:"+b2(t):"string:"+t},W2=function(t){if(t.isLeafNode()){const e=t.val();he(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ur(e,".sv"),"Priority must be a string or number.")}else he(t===H_||t.isEmpty(),"priority of unexpected type.");he(t===H_||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mS;class en{static set __childrenNodeConstructor(e){mS=e}static get __childrenNodeConstructor(){return mS}constructor(e,n=en.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,he(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),W2(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new en(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:en.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ue(e)?this:qe(e)===".priority"?this.priorityNode_:en.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:en.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=qe(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(he(i!==".priority"||ra(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,en.__childrenNodeConstructor.EMPTY_NODE.updateChild(dt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+K2(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=b2(this.value_):e+=this.value_,this.lazyHash_=v2(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===en.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof en.__childrenNodeConstructor?-1:(he(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,r=en.VALUE_TYPE_ORDER.indexOf(n),o=en.VALUE_TYPE_ORDER.indexOf(i);return he(r>=0,"Unknown leaf type: "+n),he(o>=0,"Unknown leaf type: "+i),r===o?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}en.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Y2,Q2;function t7(t){Y2=t}function n7(t){Q2=t}class i7 extends cp{compare(e,n){const i=e.node.getPriority(),r=n.node.getPriority(),o=i.compareTo(r);return o===0?uc(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ge.MIN}maxPost(){return new Ge(ho,new en("[PRIORITY-POST]",Q2))}makePost(e,n){const i=Y2(e);return new Ge(n,new en("[PRIORITY-POST]",i))}toString(){return".priority"}}const Sn=new i7;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s7=Math.log(2);class r7{constructor(e){const n=o=>parseInt(Math.log(o)/s7,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const xm=function(t,e,n,i){t.sort(e);const r=function(f,m){const g=m-f;let v,E;if(g===0)return null;if(g===1)return v=t[f],E=n?n(v):v,new nn(E,v.node,nn.BLACK,null,null);{const x=parseInt(g/2,10)+f,A=r(f,x),D=r(x+1,m);return v=t[x],E=n?n(v):v,new nn(E,v.node,nn.BLACK,A,D)}},o=function(f){let m=null,g=null,v=t.length;const E=function(A,D){const N=v-A,P=v;v-=A;const U=r(N+1,P),L=t[N],Q=n?n(L):L;x(new nn(Q,L.node,D,null,U))},x=function(A){m?(m.left=A,m=A):(g=A,m=A)};for(let A=0;A<f.count;++A){const D=f.nextBitIsOne(),N=Math.pow(2,f.count-(A+1));D?E(N,nn.BLACK):(E(N,nn.BLACK),E(N,nn.RED))}return g},c=new r7(t.length),h=o(c);return new jn(i||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wy;const _l={};class Ws{static get Default(){return he(_l&&Sn,"ChildrenNode.ts has not been loaded"),Wy=Wy||new Ws({".priority":_l},{".priority":Sn}),Wy}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=jl(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof jn?n:null}hasIndex(e){return ur(this.indexSet_,e.toString())}addIndex(e,n){he(e!==Ll,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=n.getIterator(Ge.Wrap);let c=o.getNext();for(;c;)r=r||e.isDefinedOn(c.node),i.push(c),c=o.getNext();let h;r?h=xm(i,e.getCompare()):h=_l;const f=e.toString(),m=Object.assign({},this.indexSet_);m[f]=e;const g=Object.assign({},this.indexes_);return g[f]=h,new Ws(g,m)}addToIndexes(e,n){const i=Zd(this.indexes_,(r,o)=>{const c=jl(this.indexSet_,o);if(he(c,"Missing index implementation for "+o),r===_l)if(c.isDefinedOn(e.node)){const h=[],f=n.getIterator(Ge.Wrap);let m=f.getNext();for(;m;)m.name!==e.name&&h.push(m),m=f.getNext();return h.push(e),xm(h,c.getCompare())}else return _l;else{const h=n.get(e.name);let f=r;return h&&(f=f.remove(new Ge(e.name,h))),f.insert(e,e.node)}});return new Ws(i,this.indexSet_)}removeFromIndexes(e,n){const i=Zd(this.indexes_,r=>{if(r===_l)return r;{const o=n.get(e.name);return o?r.remove(new Ge(e.name,o)):r}});return new Ws(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nu;class Qe{static get EMPTY_NODE(){return Nu||(Nu=new Qe(new jn(B0),null,Ws.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&W2(this.priorityNode_),this.children_.isEmpty()&&he(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Nu}updatePriority(e){return this.children_.isEmpty()?this:new Qe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Nu:n}}getChild(e){const n=qe(e);return n===null?this:this.getImmediateChild(n).getChild(dt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(he(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new Ge(e,n);let r,o;n.isEmpty()?(r=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(i,this.children_));const c=r.isEmpty()?Nu:this.priorityNode_;return new Qe(r,c,o)}}updateChild(e,n){const i=qe(e);if(i===null)return n;{he(qe(e)!==".priority"||ra(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(dt(e),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,r=0,o=!0;if(this.forEachChild(Sn,(c,h)=>{n[c]=h.val(e),i++,o&&Qe.INTEGER_REGEXP_.test(c)?r=Math.max(r,Number(c)):o=!1}),!e&&o&&r<2*i){const c=[];for(const h in n)c[h]=n[h];return c}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+K2(this.getPriority().val())+":"),this.forEachChild(Sn,(n,i)=>{const r=i.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":v2(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const r=this.resolveIndex_(i);if(r){const o=r.getPredecessorKey(new Ge(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ge(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ge(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,Ge.Wrap);let o=r.peek();for(;o!=null&&n.compare(o,e)<0;)r.getNext(),o=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,Ge.Wrap);let o=r.peek();for(;o!=null&&n.compare(o,e)>0;)r.getNext(),o=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Bh?-1:0}withIndex(e){if(e===Ll||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Qe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ll||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Sn),r=n.getIterator(Sn);let o=i.getNext(),c=r.getNext();for(;o&&c;){if(o.name!==c.name||!o.node.equals(c.node))return!1;o=i.getNext(),c=r.getNext()}return o===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===Ll?null:this.indexMap_.get(e.toString())}}Qe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class a7 extends Qe{constructor(){super(new jn(B0),Qe.EMPTY_NODE,Ws.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Qe.EMPTY_NODE}isEmpty(){return!1}}const Bh=new a7;Object.defineProperties(Ge,{MIN:{value:new Ge(Kl,Qe.EMPTY_NODE)},MAX:{value:new Ge(ho,Bh)}});$2.__EMPTY_NODE=Qe.EMPTY_NODE;en.__childrenNodeConstructor=Qe;e7(Bh);n7(Bh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o7=!0;function wn(t,e=null){if(t===null)return Qe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),he(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new en(n,wn(e))}if(!(t instanceof Array)&&o7){const n=[];let i=!1;if(Ei(t,(c,h)=>{if(c.substring(0,1)!=="."){const f=wn(h);f.isEmpty()||(i=i||!f.getPriority().isEmpty(),n.push(new Ge(c,f)))}}),n.length===0)return Qe.EMPTY_NODE;const o=xm(n,JB,c=>c.name,B0);if(i){const c=xm(n,Sn.getCompare());return new Qe(o,wn(e),new Ws({".priority":c},{".priority":Sn}))}else return new Qe(o,wn(e),Ws.Default)}else{let n=Qe.EMPTY_NODE;return Ei(t,(i,r)=>{if(ur(t,i)&&i.substring(0,1)!=="."){const o=wn(r);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(i,o))}}),n.updatePriority(wn(e))}}t7(wn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7 extends cp{constructor(e){super(),this.indexPath_=e,he(!Ue(e)&&qe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),r=this.extractChild(n.node),o=i.compareTo(r);return o===0?uc(e.name,n.name):o}makePost(e,n){const i=wn(e),r=Qe.EMPTY_NODE.updateChild(this.indexPath_,i);return new Ge(n,r)}maxPost(){const e=Qe.EMPTY_NODE.updateChild(this.indexPath_,Bh);return new Ge(ho,e)}toString(){return z2(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7 extends cp{compare(e,n){const i=e.node.compareTo(n.node);return i===0?uc(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ge.MIN}maxPost(){return Ge.MAX}makePost(e,n){const i=wn(e);return new Ge(n,i)}toString(){return".value"}}const u7=new c7;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h7(t){return{type:"value",snapshotNode:t}}function f7(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function d7(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function pS(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function m7(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Sn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return he(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return he(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Kl}hasEnd(){return this.endSet_}getIndexEndValue(){return he(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return he(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ho}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return he(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Sn}copy(){const e=new F0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function gS(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Sn?n="$priority":t.index_===u7?n="$value":t.index_===Ll?n="$key":(he(t.index_ instanceof l7,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=fn(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=fn(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+fn(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=fn(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+fn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function yS(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Sn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm extends U2{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(he(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=jh("p:rest:"),this.listens_={}}listen(e,n,i,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const c=Sm.getListenId_(e,i),h={};this.listens_[c]=h;const f=gS(e._queryParams);this.restRequest_(o+".json",f,(m,g)=>{let v=g;if(m===404&&(v=null,m=null),m===null&&this.onDataUpdate_(o,v,!1,i),jl(this.listens_,c)===h){let E;m?m===401?E="permission_denied":E="rest_error:"+m:E="ok",r(E,null)}})}unlisten(e,n){const i=Sm.getListenId_(e,n);delete this.listens_[i]}get(e){const n=gS(e._queryParams),i=e._path.toString(),r=new Ov;return this.restRequest_(i+".json",n,(o,c)=>{let h=c;o===404&&(h=null,o=null),o===null?(this.onDataUpdate_(i,h,!1,null),r.resolve(h)):r.reject(new Error(h))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(n.auth=r.accessToken),o&&o.token&&(n.ac=o.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+nc(n);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&h.readyState===4){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let f=null;if(h.status>=200&&h.status<300){try{f=ih(h.responseText)}catch{Zn("Failed to parse JSON response for "+c+": "+h.responseText)}i(null,f)}else h.status!==401&&h.status!==404&&Zn("Got unsuccessful REST response for "+c+" Status: "+h.status),i(h.status);i=null}},h.open("GET",c,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(){this.rootNode_=Qe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(){return{value:null,children:new Map}}function X2(t,e,n){if(Ue(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=qe(e);t.children.has(i)||t.children.set(i,Am());const r=t.children.get(i);e=dt(e),X2(r,e,n)}}function q_(t,e,n){t.value!==null?n(e,t.value):g7(t,(i,r)=>{const o=new mt(e.toString()+"/"+i);q_(r,o,n)})}function g7(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ei(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=10*1e3,_7=30*1e3,v7=5*60*1e3;class T7{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new y7(e);const i=_S+(_7-_S)*Math.random();Yu(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Ei(e,(r,o)=>{o>0&&ur(this.statsToReport_,r)&&(n[r]=o,i=!0)}),i&&this.server_.reportStats(n),Yu(this.reportStats_.bind(this),Math.floor(Math.random()*2*v7))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var is;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(is||(is={}));function Z2(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function J2(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function eN(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=is.ACK_USER_WRITE,this.source=Z2()}operationForChild(e){if(Ue(this.path)){if(this.affectedTree.value!=null)return he(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new mt(e));return new Cm(rt(),n,this.revert)}}else return he(qe(this.path)===e,"operationForChild called for unrelated child."),new Cm(dt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=is.OVERWRITE}operationForChild(e){return Ue(this.path)?new fo(this.source,rt(),this.snap.getImmediateChild(e)):new fo(this.source,dt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=is.MERGE}operationForChild(e){if(Ue(this.path)){const n=this.children.subtree(new mt(e));return n.isEmpty()?null:n.value?new fo(this.source,rt(),n.value):new gh(this.source,rt(),n)}else return he(qe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new gh(this.source,dt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ue(e))return this.isFullyInitialized()&&!this.filtered_;const n=qe(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function E7(t,e,n,i){const r=[],o=[];return e.forEach(c=>{c.type==="child_changed"&&t.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&o.push(m7(c.childName,c.snapshotNode))}),Du(t,r,"child_removed",e,i,n),Du(t,r,"child_added",e,i,n),Du(t,r,"child_moved",o,i,n),Du(t,r,"child_changed",e,i,n),Du(t,r,"value",e,i,n),r}function Du(t,e,n,i,r,o){const c=i.filter(h=>h.type===n);c.sort((h,f)=>w7(t,h,f)),c.forEach(h=>{const f=b7(t,h,o);r.forEach(m=>{m.respondsTo(h.type)&&e.push(m.createEvent(f,t.query_))})})}function b7(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function w7(t,e,n){if(e.childName==null||n.childName==null)throw tc("Should only compare child_ events.");const i=new Ge(e.childName,e.snapshotNode),r=new Ge(n.childName,n.snapshotNode);return t.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(t,e){return{eventCache:t,serverCache:e}}function Qu(t,e,n,i){return tN(new z0(e,n,i),t.serverCache)}function nN(t,e,n,i){return tN(t.eventCache,new z0(e,n,i))}function G_(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function mo(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yy;const x7=()=>(Yy||(Yy=new jn(uB)),Yy);class ft{static fromObject(e){let n=new ft(null);return Ei(e,(i,r)=>{n=n.set(new mt(i),r)}),n}constructor(e,n=x7()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:rt(),value:this.value};if(Ue(e))return null;{const i=qe(e),r=this.children.get(i);if(r!==null){const o=r.findRootMostMatchingPathAndValue(dt(e),n);return o!=null?{path:sn(new mt(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ue(e))return this;{const n=qe(e),i=this.children.get(n);return i!==null?i.subtree(dt(e)):new ft(null)}}set(e,n){if(Ue(e))return new ft(n,this.children);{const i=qe(e),o=(this.children.get(i)||new ft(null)).set(dt(e),n),c=this.children.insert(i,o);return new ft(this.value,c)}}remove(e){if(Ue(e))return this.children.isEmpty()?new ft(null):new ft(null,this.children);{const n=qe(e),i=this.children.get(n);if(i){const r=i.remove(dt(e));let o;return r.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,r),this.value===null&&o.isEmpty()?new ft(null):new ft(this.value,o)}else return this}}get(e){if(Ue(e))return this.value;{const n=qe(e),i=this.children.get(n);return i?i.get(dt(e)):null}}setTree(e,n){if(Ue(e))return n;{const i=qe(e),o=(this.children.get(i)||new ft(null)).setTree(dt(e),n);let c;return o.isEmpty()?c=this.children.remove(i):c=this.children.insert(i,o),new ft(this.value,c)}}fold(e){return this.fold_(rt(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(sn(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,rt(),n)}findOnPath_(e,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(Ue(e))return null;{const o=qe(e),c=this.children.get(o);return c?c.findOnPath_(dt(e),sn(n,o),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,rt(),n)}foreachOnPath_(e,n,i){if(Ue(e))return this;{this.value&&i(n,this.value);const r=qe(e),o=this.children.get(r);return o?o.foreachOnPath_(dt(e),sn(n,r),i):new ft(null)}}foreach(e){this.foreach_(rt(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(sn(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.writeTree_=e}static empty(){return new Mi(new ft(null))}}function Xu(t,e,n){if(Ue(e))return new Mi(new ft(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let o=i.value;const c=yi(r,e);return o=o.updateChild(c,n),new Mi(t.writeTree_.set(r,o))}else{const r=new ft(n),o=t.writeTree_.setTree(e,r);return new Mi(o)}}}function vS(t,e,n){let i=t;return Ei(n,(r,o)=>{i=Xu(i,sn(e,r),o)}),i}function TS(t,e){if(Ue(e))return Mi.empty();{const n=t.writeTree_.setTree(e,new ft(null));return new Mi(n)}}function $_(t,e){return bo(t,e)!=null}function bo(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(yi(n.path,e)):null}function ES(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Sn,(i,r)=>{e.push(new Ge(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new Ge(i,r.value))}),e}function Zr(t,e){if(Ue(e))return t;{const n=bo(t,e);return n!=null?new Mi(new ft(n)):new Mi(t.writeTree_.subtree(e))}}function K_(t){return t.writeTree_.isEmpty()}function Wl(t,e){return iN(rt(),t.writeTree_,e)}function iN(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{r===".priority"?(he(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):n=iN(sn(t,r),o,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(sn(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(t,e){return cN(e,t)}function S7(t,e,n,i,r){he(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=Xu(t.visibleWrites,e,n)),t.lastWriteId=i}function A7(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function C7(t,e){const n=t.allWrites.findIndex(h=>h.writeId===e);he(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,o=!1,c=t.allWrites.length-1;for(;r&&c>=0;){const h=t.allWrites[c];h.visible&&(c>=n&&R7(h,i.path)?r=!1:Pi(i.path,h.path)&&(o=!0)),c--}if(r){if(o)return I7(t),!0;if(i.snap)t.visibleWrites=TS(t.visibleWrites,i.path);else{const h=i.children;Ei(h,f=>{t.visibleWrites=TS(t.visibleWrites,sn(i.path,f))})}return!0}else return!1}function R7(t,e){if(t.snap)return Pi(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Pi(sn(t.path,n),e))return!0;return!1}function I7(t){t.visibleWrites=rN(t.allWrites,N7,rt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function N7(t){return t.visible}function rN(t,e,n){let i=Mi.empty();for(let r=0;r<t.length;++r){const o=t[r];if(e(o)){const c=o.path;let h;if(o.snap)Pi(n,c)?(h=yi(n,c),i=Xu(i,h,o.snap)):Pi(c,n)&&(h=yi(c,n),i=Xu(i,rt(),o.snap.getChild(h)));else if(o.children){if(Pi(n,c))h=yi(n,c),i=vS(i,h,o.children);else if(Pi(c,n))if(h=yi(c,n),Ue(h))i=vS(i,rt(),o.children);else{const f=jl(o.children,qe(h));if(f){const m=f.getChild(dt(h));i=Xu(i,rt(),m)}}}else throw tc("WriteRecord should have .snap or .children")}}return i}function aN(t,e,n,i,r){if(!i&&!r){const o=bo(t.visibleWrites,e);if(o!=null)return o;{const c=Zr(t.visibleWrites,e);if(K_(c))return n;if(n==null&&!$_(c,rt()))return null;{const h=n||Qe.EMPTY_NODE;return Wl(c,h)}}}else{const o=Zr(t.visibleWrites,e);if(!r&&K_(o))return n;if(!r&&n==null&&!$_(o,rt()))return null;{const c=function(m){return(m.visible||r)&&(!i||!~i.indexOf(m.writeId))&&(Pi(m.path,e)||Pi(e,m.path))},h=rN(t.allWrites,c,e),f=n||Qe.EMPTY_NODE;return Wl(h,f)}}}function D7(t,e,n){let i=Qe.EMPTY_NODE;const r=bo(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Sn,(o,c)=>{i=i.updateImmediateChild(o,c)}),i;if(n){const o=Zr(t.visibleWrites,e);return n.forEachChild(Sn,(c,h)=>{const f=Wl(Zr(o,new mt(c)),h);i=i.updateImmediateChild(c,f)}),ES(o).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}else{const o=Zr(t.visibleWrites,e);return ES(o).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}}function k7(t,e,n,i,r){he(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=sn(e,n);if($_(t.visibleWrites,o))return null;{const c=Zr(t.visibleWrites,o);return K_(c)?r.getChild(n):Wl(c,r.getChild(n))}}function P7(t,e,n,i){const r=sn(e,n),o=bo(t.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(n)){const c=Zr(t.visibleWrites,r);return Wl(c,i.getNode().getImmediateChild(n))}else return null}function O7(t,e){return bo(t.visibleWrites,e)}function M7(t,e,n,i,r,o,c){let h;const f=Zr(t.visibleWrites,e),m=bo(f,rt());if(m!=null)h=m;else if(n!=null)h=Wl(f,n);else return[];if(h=h.withIndex(c),!h.isEmpty()&&!h.isLeafNode()){const g=[],v=c.getCompare(),E=o?h.getReverseIteratorFrom(i,c):h.getIteratorFrom(i,c);let x=E.getNext();for(;x&&g.length<r;)v(x,i)!==0&&g.push(x),x=E.getNext();return g}else return[]}function V7(){return{visibleWrites:Mi.empty(),allWrites:[],lastWriteId:-1}}function W_(t,e,n,i){return aN(t.writeTree,t.treePath,e,n,i)}function oN(t,e){return D7(t.writeTree,t.treePath,e)}function bS(t,e,n,i){return k7(t.writeTree,t.treePath,e,n,i)}function Rm(t,e){return O7(t.writeTree,sn(t.treePath,e))}function L7(t,e,n,i,r,o){return M7(t.writeTree,t.treePath,e,n,i,r,o)}function H0(t,e,n){return P7(t.writeTree,t.treePath,e,n)}function lN(t,e){return cN(sn(t.treePath,e),t.writeTree)}function cN(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;he(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),he(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(i,pS(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(i,d7(i,r.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(i,f7(i,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(i,pS(i,e.snapshotNode,r.oldSnap));else throw tc("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const uN=new U7;class q0{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new z0(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return H0(this.writes_,e,i)}}getChildAfterChild(e,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:mo(this.viewCache_),o=L7(this.writes_,r,n,1,i,e);return o.length===0?null:o[0]}}function B7(t,e){he(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),he(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function F7(t,e,n,i,r){const o=new j7;let c,h;if(n.type===is.OVERWRITE){const m=n;m.source.fromUser?c=Y_(t,e,m.path,m.snap,i,r,o):(he(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered()&&!Ue(m.path),c=Im(t,e,m.path,m.snap,i,r,h,o))}else if(n.type===is.MERGE){const m=n;m.source.fromUser?c=H7(t,e,m.path,m.children,i,r,o):(he(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered(),c=Q_(t,e,m.path,m.children,i,r,h,o))}else if(n.type===is.ACK_USER_WRITE){const m=n;m.revert?c=$7(t,e,m.path,i,r,o):c=q7(t,e,m.path,m.affectedTree,i,r,o)}else if(n.type===is.LISTEN_COMPLETE)c=G7(t,e,n.path,i,o);else throw tc("Unknown operation type: "+n.type);const f=o.getChanges();return z7(e,c,f),{viewCache:c,changes:f}}function z7(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=G_(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(h7(G_(e)))}}function hN(t,e,n,i,r,o){const c=e.eventCache;if(Rm(i,n)!=null)return e;{let h,f;if(Ue(n))if(he(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=mo(e),g=m instanceof Qe?m:Qe.EMPTY_NODE,v=oN(i,g);h=t.filter.updateFullNode(e.eventCache.getNode(),v,o)}else{const m=W_(i,mo(e));h=t.filter.updateFullNode(e.eventCache.getNode(),m,o)}else{const m=qe(n);if(m===".priority"){he(ra(n)===1,"Can't have a priority with additional path components");const g=c.getNode();f=e.serverCache.getNode();const v=bS(i,n,g,f);v!=null?h=t.filter.updatePriority(g,v):h=c.getNode()}else{const g=dt(n);let v;if(c.isCompleteForChild(m)){f=e.serverCache.getNode();const E=bS(i,n,c.getNode(),f);E!=null?v=c.getNode().getImmediateChild(m).updateChild(g,E):v=c.getNode().getImmediateChild(m)}else v=H0(i,m,e.serverCache);v!=null?h=t.filter.updateChild(c.getNode(),m,v,g,r,o):h=c.getNode()}}return Qu(e,h,c.isFullyInitialized()||Ue(n),t.filter.filtersNodes())}}function Im(t,e,n,i,r,o,c,h){const f=e.serverCache;let m;const g=c?t.filter:t.filter.getIndexedFilter();if(Ue(n))m=g.updateFullNode(f.getNode(),i,null);else if(g.filtersNodes()&&!f.isFiltered()){const x=f.getNode().updateChild(n,i);m=g.updateFullNode(f.getNode(),x,null)}else{const x=qe(n);if(!f.isCompleteForPath(n)&&ra(n)>1)return e;const A=dt(n),N=f.getNode().getImmediateChild(x).updateChild(A,i);x===".priority"?m=g.updatePriority(f.getNode(),N):m=g.updateChild(f.getNode(),x,N,A,uN,null)}const v=nN(e,m,f.isFullyInitialized()||Ue(n),g.filtersNodes()),E=new q0(r,v,o);return hN(t,v,n,r,E,h)}function Y_(t,e,n,i,r,o,c){const h=e.eventCache;let f,m;const g=new q0(r,e,o);if(Ue(n))m=t.filter.updateFullNode(e.eventCache.getNode(),i,c),f=Qu(e,m,!0,t.filter.filtersNodes());else{const v=qe(n);if(v===".priority")m=t.filter.updatePriority(e.eventCache.getNode(),i),f=Qu(e,m,h.isFullyInitialized(),h.isFiltered());else{const E=dt(n),x=h.getNode().getImmediateChild(v);let A;if(Ue(E))A=i;else{const D=g.getCompleteChild(v);D!=null?F2(E)===".priority"&&D.getChild(H2(E)).isEmpty()?A=D:A=D.updateChild(E,i):A=Qe.EMPTY_NODE}if(x.equals(A))f=e;else{const D=t.filter.updateChild(h.getNode(),v,A,E,g,c);f=Qu(e,D,h.isFullyInitialized(),t.filter.filtersNodes())}}}return f}function wS(t,e){return t.eventCache.isCompleteForChild(e)}function H7(t,e,n,i,r,o,c){let h=e;return i.foreach((f,m)=>{const g=sn(n,f);wS(e,qe(g))&&(h=Y_(t,h,g,m,r,o,c))}),i.foreach((f,m)=>{const g=sn(n,f);wS(e,qe(g))||(h=Y_(t,h,g,m,r,o,c))}),h}function xS(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function Q_(t,e,n,i,r,o,c,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let f=e,m;Ue(n)?m=i:m=new ft(null).setTree(n,i);const g=e.serverCache.getNode();return m.children.inorderTraversal((v,E)=>{if(g.hasChild(v)){const x=e.serverCache.getNode().getImmediateChild(v),A=xS(t,x,E);f=Im(t,f,new mt(v),A,r,o,c,h)}}),m.children.inorderTraversal((v,E)=>{const x=!e.serverCache.isCompleteForChild(v)&&E.value===null;if(!g.hasChild(v)&&!x){const A=e.serverCache.getNode().getImmediateChild(v),D=xS(t,A,E);f=Im(t,f,new mt(v),D,r,o,c,h)}}),f}function q7(t,e,n,i,r,o,c){if(Rm(r,n)!=null)return e;const h=e.serverCache.isFiltered(),f=e.serverCache;if(i.value!=null){if(Ue(n)&&f.isFullyInitialized()||f.isCompleteForPath(n))return Im(t,e,n,f.getNode().getChild(n),r,o,h,c);if(Ue(n)){let m=new ft(null);return f.getNode().forEachChild(Ll,(g,v)=>{m=m.set(new mt(g),v)}),Q_(t,e,n,m,r,o,h,c)}else return e}else{let m=new ft(null);return i.foreach((g,v)=>{const E=sn(n,g);f.isCompleteForPath(E)&&(m=m.set(g,f.getNode().getChild(E)))}),Q_(t,e,n,m,r,o,h,c)}}function G7(t,e,n,i,r){const o=e.serverCache,c=nN(e,o.getNode(),o.isFullyInitialized()||Ue(n),o.isFiltered());return hN(t,c,n,i,uN,r)}function $7(t,e,n,i,r,o){let c;if(Rm(i,n)!=null)return e;{const h=new q0(i,e,r),f=e.eventCache.getNode();let m;if(Ue(n)||qe(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=W_(i,mo(e));else{const v=e.serverCache.getNode();he(v instanceof Qe,"serverChildren would be complete if leaf node"),g=oN(i,v)}g=g,m=t.filter.updateFullNode(f,g,o)}else{const g=qe(n);let v=H0(i,g,e.serverCache);v==null&&e.serverCache.isCompleteForChild(g)&&(v=f.getImmediateChild(g)),v!=null?m=t.filter.updateChild(f,g,v,dt(n),h,o):e.eventCache.getNode().hasChild(g)?m=t.filter.updateChild(f,g,Qe.EMPTY_NODE,dt(n),h,o):m=f,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=W_(i,mo(e)),c.isLeafNode()&&(m=t.filter.updateFullNode(m,c,o)))}return c=e.serverCache.isFullyInitialized()||Rm(i,rt())!=null,Qu(e,m,c,t.filter.filtersNodes())}}function K7(t,e){const n=mo(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ue(e)&&!n.getImmediateChild(qe(e)).isEmpty())?n.getChild(e):null}function SS(t,e,n,i){e.type===is.MERGE&&e.source.queryId!==null&&(he(mo(t.viewCache_),"We should always have a full cache before handling merges"),he(G_(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,o=F7(t.processor_,r,e,n,i);return B7(t.processor_,o.viewCache),he(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,W7(t,o.changes,o.viewCache.eventCache.getNode())}function W7(t,e,n,i){const r=t.eventRegistrations_;return E7(t.eventGenerator_,e,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AS;function Y7(t){he(!AS,"__referenceConstructor has already been defined"),AS=t}function G0(t,e,n,i){const r=e.source.queryId;if(r!==null){const o=t.views.get(r);return he(o!=null,"SyncTree gave us an op for an invalid query."),SS(o,e,n,i)}else{let o=[];for(const c of t.views.values())o=o.concat(SS(c,e,n,i));return o}}function $0(t,e){let n=null;for(const i of t.views.values())n=n||K7(i,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CS;function Q7(t){he(!CS,"__referenceConstructor has already been defined"),CS=t}class RS{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ft(null),this.pendingWriteTree_=V7(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function X7(t,e,n,i,r){return S7(t.pendingWriteTree_,e,n,i,r),r?hp(t,new fo(Z2(),e,n)):[]}function Sl(t,e,n=!1){const i=A7(t.pendingWriteTree_,e);if(C7(t.pendingWriteTree_,e)){let o=new ft(null);return i.snap!=null?o=o.set(rt(),!0):Ei(i.children,c=>{o=o.set(new mt(c),!0)}),hp(t,new Cm(i.path,o,n))}else return[]}function up(t,e,n){return hp(t,new fo(J2(),e,n))}function Z7(t,e,n){const i=ft.fromObject(n);return hp(t,new gh(J2(),e,i))}function J7(t,e,n,i){const r=pN(t,i);if(r!=null){const o=gN(r),c=o.path,h=o.queryId,f=yi(c,e),m=new fo(eN(h),f,n);return yN(t,c,m)}else return[]}function eF(t,e,n,i){const r=pN(t,i);if(r){const o=gN(r),c=o.path,h=o.queryId,f=yi(c,e),m=ft.fromObject(n),g=new gh(eN(h),f,m);return yN(t,c,g)}else return[]}function fN(t,e,n){const r=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(c,h)=>{const f=yi(c,e),m=$0(h,f);if(m)return m});return aN(r,e,o,n,!0)}function hp(t,e){return dN(e,t.syncPointTree_,null,sN(t.pendingWriteTree_,rt()))}function dN(t,e,n,i){if(Ue(t.path))return mN(t,e,n,i);{const r=e.get(rt());n==null&&r!=null&&(n=$0(r,rt()));let o=[];const c=qe(t.path),h=t.operationForChild(c),f=e.children.get(c);if(f&&h){const m=n?n.getImmediateChild(c):null,g=lN(i,c);o=o.concat(dN(h,f,m,g))}return r&&(o=o.concat(G0(r,t,i,n))),o}}function mN(t,e,n,i){const r=e.get(rt());n==null&&r!=null&&(n=$0(r,rt()));let o=[];return e.children.inorderTraversal((c,h)=>{const f=n?n.getImmediateChild(c):null,m=lN(i,c),g=t.operationForChild(c);g&&(o=o.concat(mN(g,h,f,m)))}),r&&(o=o.concat(G0(r,t,i,n))),o}function pN(t,e){return t.tagToQueryMap.get(e)}function gN(t){const e=t.indexOf("$");return he(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new mt(t.substr(0,e))}}function yN(t,e,n){const i=t.syncPointTree_.get(e);he(i,"Missing sync point for query tag that we're tracking");const r=sN(t.pendingWriteTree_,e);return G0(i,n,r,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new K0(n)}node(){return this.node_}}class W0{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=sn(this.path_,e);return new W0(this.syncTree_,n)}node(){return fN(this.syncTree_,this.path_)}}const tF=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},IS=function(t,e,n){if(!t||typeof t!="object")return t;if(he(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return nF(t[".sv"],e,n);if(typeof t[".sv"]=="object")return iF(t[".sv"],e);he(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},nF=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:he(!1,"Unexpected server value: "+t)}},iF=function(t,e,n){t.hasOwnProperty("increment")||he(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&he(!1,"Unexpected increment value: "+i);const r=e.node();if(he(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return typeof c!="number"?i:c+i},sF=function(t,e,n,i){return Y0(e,new W0(n,t),i)},rF=function(t,e,n){return Y0(t,new K0(e),n)};function Y0(t,e,n){const i=t.getPriority().val(),r=IS(i,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const c=t,h=IS(c.getValue(),e,n);return h!==c.getValue()||r!==c.getPriority().val()?new en(h,wn(r)):t}else{const c=t;return o=c,r!==c.getPriority().val()&&(o=o.updatePriority(new en(r))),c.forEachChild(Sn,(h,f)=>{const m=Y0(f,e.getImmediateChild(h),n);m!==f&&(o=o.updateImmediateChild(h,m))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function X0(t,e){let n=e instanceof mt?e:new mt(e),i=t,r=qe(n);for(;r!==null;){const o=jl(i.node.children,r)||{children:{},childCount:0};i=new Q0(r,i,o),n=dt(n),r=qe(n)}return i}function hc(t){return t.node.value}function _N(t,e){t.node.value=e,X_(t)}function vN(t){return t.node.childCount>0}function aF(t){return hc(t)===void 0&&!vN(t)}function fp(t,e){Ei(t.node.children,(n,i)=>{e(new Q0(n,t,i))})}function TN(t,e,n,i){n&&e(t),fp(t,r=>{TN(r,e,!0)})}function oF(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Fh(t){return new mt(t.parent===null?t.name:Fh(t.parent)+"/"+t.name)}function X_(t){t.parent!==null&&lF(t.parent,t.name,t)}function lF(t,e,n){const i=aF(n),r=ur(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,X_(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,X_(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF=/[\[\].#$\/\u0000-\u001F\u007F]/,uF=/[\[\].#$\u0000-\u001F\u007F]/,Qy=10*1024*1024,EN=function(t){return typeof t=="string"&&t.length!==0&&!cF.test(t)},hF=function(t){return typeof t=="string"&&t.length!==0&&!uF.test(t)},fF=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),hF(t)},bN=function(t,e,n){const i=n instanceof mt?new GB(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Qa(i));if(typeof e=="function")throw new Error(t+"contains a function "+Qa(i)+" with contents = "+e.toString());if(T2(e))throw new Error(t+"contains "+e.toString()+" "+Qa(i));if(typeof e=="string"&&e.length>Qy/3&&Gm(e)>Qy)throw new Error(t+"contains a string greater than "+Qy+" utf8 bytes "+Qa(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,o=!1;if(Ei(e,(c,h)=>{if(c===".value")r=!0;else if(c!==".priority"&&c!==".sv"&&(o=!0,!EN(c)))throw new Error(t+" contains an invalid key ("+c+") "+Qa(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);$B(i,c),bN(t,h,i),KB(i)}),r&&o)throw new Error(t+' contains ".value" child '+Qa(i)+" in addition to actual children.")}},dF=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!EN(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!fF(n))throw new Error(s4(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function pF(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],o=r.getPath();n!==null&&!q2(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(r)}n&&t.eventLists_.push(n)}function wo(t,e,n){pF(t,n),gF(t,i=>Pi(i,e)||Pi(e,i))}function gF(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];if(r){const o=r.path;e(o)?(yF(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function yF(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();Wu&&bn("event: "+n.toString()),Uh(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _F="repo_interrupt",vF=25;class TF{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new mF,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Am(),this.transactionQueueTree_=new Q0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function EF(t,e,n){if(t.stats_=L0(t.repoInfo_),t.forceRestClient_||gB())t.server_=new Sm(t.repoInfo_,(i,r,o,c)=>{NS(t,i,r,o,c)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>DS(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{fn(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Zs(t.repoInfo_,e,(i,r,o,c)=>{NS(t,i,r,o,c)},i=>{DS(t,i)},i=>{wF(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=EB(t.repoInfo_,()=>new T7(t.stats_,t.server_)),t.infoData_=new p7,t.infoSyncTree_=new RS({startListening:(i,r,o,c)=>{let h=[];const f=t.infoData_.getNode(i._path);return f.isEmpty()||(h=up(t.infoSyncTree_,i._path,f),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),Z0(t,"connected",!1),t.serverSyncTree_=new RS({startListening:(i,r,o,c)=>(t.server_.listen(i,o,r,(h,f)=>{const m=c(h,f);wo(t.eventQueue_,i._path,m)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function bF(t){const n=t.infoData_.getNode(new mt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function wN(t){return tF({timestamp:bF(t)})}function NS(t,e,n,i,r){t.dataUpdateCount++;const o=new mt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let c=[];if(r)if(i){const f=Zd(n,m=>wn(m));c=eF(t.serverSyncTree_,o,f,r)}else{const f=wn(n);c=J7(t.serverSyncTree_,o,f,r)}else if(i){const f=Zd(n,m=>wn(m));c=Z7(t.serverSyncTree_,o,f)}else{const f=wn(n);c=up(t.serverSyncTree_,o,f)}let h=o;c.length>0&&(h=eT(t,o)),wo(t.eventQueue_,h,c)}function DS(t,e){Z0(t,"connected",e),e===!1&&SF(t)}function wF(t,e){Ei(e,(n,i)=>{Z0(t,n,i)})}function Z0(t,e,n){const i=new mt("/.info/"+e),r=wn(n);t.infoData_.updateSnapshot(i,r);const o=up(t.infoSyncTree_,i,r);wo(t.eventQueue_,i,o)}function xF(t){return t.nextWriteId_++}function SF(t){xN(t,"onDisconnectEvents");const e=wN(t),n=Am();q_(t.onDisconnect_,rt(),(r,o)=>{const c=sF(r,o,t.serverSyncTree_,e);X2(n,r,c)});let i=[];q_(n,rt(),(r,o)=>{i=i.concat(up(t.serverSyncTree_,r,o));const c=IF(t,r);eT(t,c)}),t.onDisconnect_=Am(),wo(t.eventQueue_,rt(),i)}function AF(t){t.persistentConnection_&&t.persistentConnection_.interrupt(_F)}function xN(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),bn(n,...e)}function SN(t,e,n){return fN(t.serverSyncTree_,e,n)||Qe.EMPTY_NODE}function J0(t,e=t.transactionQueueTree_){if(e||dp(t,e),hc(e)){const n=CN(t,e);he(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&CF(t,Fh(e),n)}else vN(e)&&fp(e,n=>{J0(t,n)})}function CF(t,e,n){const i=n.map(m=>m.currentWriteId),r=SN(t,e,i);let o=r;const c=r.hash();for(let m=0;m<n.length;m++){const g=n[m];he(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const v=yi(e,g.path);o=o.updateChild(v,g.currentOutputSnapshotRaw)}const h=o.val(!0),f=e;t.server_.put(f.toString(),h,m=>{xN(t,"transaction put response",{path:f.toString(),status:m});let g=[];if(m==="ok"){const v=[];for(let E=0;E<n.length;E++)n[E].status=2,g=g.concat(Sl(t.serverSyncTree_,n[E].currentWriteId)),n[E].onComplete&&v.push(()=>n[E].onComplete(null,!0,n[E].currentOutputSnapshotResolved)),n[E].unwatcher();dp(t,X0(t.transactionQueueTree_,e)),J0(t,t.transactionQueueTree_),wo(t.eventQueue_,e,g);for(let E=0;E<v.length;E++)Uh(v[E])}else{if(m==="datastale")for(let v=0;v<n.length;v++)n[v].status===3?n[v].status=4:n[v].status=0;else{Zn("transaction at "+f.toString()+" failed: "+m);for(let v=0;v<n.length;v++)n[v].status=4,n[v].abortReason=m}eT(t,e)}},c)}function eT(t,e){const n=AN(t,e),i=Fh(n),r=CN(t,n);return RF(t,r,i),i}function RF(t,e,n){if(e.length===0)return;const i=[];let r=[];const c=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const f=e[h],m=yi(n,f.path);let g=!1,v;if(he(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),f.status===4)g=!0,v=f.abortReason,r=r.concat(Sl(t.serverSyncTree_,f.currentWriteId,!0));else if(f.status===0)if(f.retryCount>=vF)g=!0,v="maxretry",r=r.concat(Sl(t.serverSyncTree_,f.currentWriteId,!0));else{const E=SN(t,f.path,c);f.currentInputSnapshot=E;const x=e[h].update(E.val());if(x!==void 0){bN("transaction failed: Data returned ",x,f.path);let A=wn(x);typeof x=="object"&&x!=null&&ur(x,".priority")||(A=A.updatePriority(E.getPriority()));const N=f.currentWriteId,P=wN(t),U=rF(A,E,P);f.currentOutputSnapshotRaw=A,f.currentOutputSnapshotResolved=U,f.currentWriteId=xF(t),c.splice(c.indexOf(N),1),r=r.concat(X7(t.serverSyncTree_,f.path,U,f.currentWriteId,f.applyLocally)),r=r.concat(Sl(t.serverSyncTree_,N,!0))}else g=!0,v="nodata",r=r.concat(Sl(t.serverSyncTree_,f.currentWriteId,!0))}wo(t.eventQueue_,n,r),r=[],g&&(e[h].status=2,function(E){setTimeout(E,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(v==="nodata"?i.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):i.push(()=>e[h].onComplete(new Error(v),!1,null))))}dp(t,t.transactionQueueTree_);for(let h=0;h<i.length;h++)Uh(i[h]);J0(t,t.transactionQueueTree_)}function AN(t,e){let n,i=t.transactionQueueTree_;for(n=qe(e);n!==null&&hc(i)===void 0;)i=X0(i,n),e=dt(e),n=qe(e);return i}function CN(t,e){const n=[];return RN(t,e,n),n.sort((i,r)=>i.order-r.order),n}function RN(t,e,n){const i=hc(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);fp(e,r=>{RN(t,r,n)})}function dp(t,e){const n=hc(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,_N(e,n.length>0?n:void 0)}fp(e,i=>{dp(t,i)})}function IF(t,e){const n=Fh(AN(t,e)),i=X0(t.transactionQueueTree_,e);return oF(i,r=>{Xy(t,r)}),Xy(t,i),TN(i,r=>{Xy(t,r)}),n}function Xy(t,e){const n=hc(e);if(n){const i=[];let r=[],o=-1;for(let c=0;c<n.length;c++)n[c].status===3||(n[c].status===1?(he(o===c-1,"All SENT items should be at beginning of queue."),o=c,n[c].status=3,n[c].abortReason="set"):(he(n[c].status===0,"Unexpected transaction status in abort"),n[c].unwatcher(),r=r.concat(Sl(t.serverSyncTree_,n[c].currentWriteId,!0)),n[c].onComplete&&i.push(n[c].onComplete.bind(null,new Error("set"),!1,null))));o===-1?_N(e,void 0):n.length=o+1,wo(t.eventQueue_,Fh(e),r);for(let c=0;c<i.length;c++)Uh(i[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NF(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function DF(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Zn(`Invalid query segment '${n}' in query '${t}'`)}return e}const kS=function(t,e){const n=kF(t),i=n.namespace;n.domain==="firebase.com"&&ar(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&ar("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||lB();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new k2(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new mt(n.pathString)}},kF=function(t){let e="",n="",i="",r="",o="",c=!0,h="https",f=443;if(typeof t=="string"){let m=t.indexOf("//");m>=0&&(h=t.substring(0,m-1),t=t.substring(m+2));let g=t.indexOf("/");g===-1&&(g=t.length);let v=t.indexOf("?");v===-1&&(v=t.length),e=t.substring(0,Math.min(g,v)),g<v&&(r=NF(t.substring(g,v)));const E=DF(t.substring(Math.min(t.length,v)));m=e.indexOf(":"),m>=0?(c=h==="https"||h==="wss",f=parseInt(e.substring(m+1),10)):m=e.length;const x=e.slice(0,m);if(x.toLowerCase()==="localhost")n="localhost";else if(x.split(".").length<=2)n=x;else{const A=e.indexOf(".");i=e.substring(0,A).toLowerCase(),n=e.substring(A+1),o=i}"ns"in E&&(o=E.ns)}return{host:e,port:f,domain:n,subdomain:i,secure:c,scheme:h,pathString:r,namespace:o}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return Ue(this._path)?null:F2(this._path)}get ref(){return new fc(this._repo,this._path)}get _queryIdentifier(){const e=yS(this._queryParams),n=M0(e);return n==="{}"?"default":n}get _queryObject(){return yS(this._queryParams)}isEqual(e){if(e=bt(e),!(e instanceof tT))return!1;const n=this._repo===e._repo,i=q2(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+qB(this._path)}}class fc extends tT{constructor(e,n){super(e,n,new F0,!1)}get parent(){const e=H2(this._path);return e===null?null:new fc(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}Y7(fc);Q7(fc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF="FIREBASE_DATABASE_EMULATOR_HOST",Z_={};let OF=!1;function MF(t,e,n,i){t.repoInfo_=new k2(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(t.authTokenProvider_=i)}function VF(t,e,n,i,r){let o=i||t.options.databaseURL;o===void 0&&(t.options.projectId||ar("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),bn("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let c=kS(o,r),h=c.repoInfo,f;typeof process<"u"&&Zx&&(f=Zx[PF]),f?(o=`http://${f}?ns=${h.namespace}`,c=kS(o,r),h=c.repoInfo):c.repoInfo.secure;const m=new _B(t.name,t.options,e);dF("Invalid Firebase Database URL",c),Ue(c.path)||ar("Database URL must point to the root of a Firebase Database (not including a child path).");const g=jF(h,t,m,new yB(t,n));return new UF(g,t)}function LF(t,e){const n=Z_[e];(!n||n[t.key]!==t)&&ar(`Database ${e}(${t.repoInfo_}) has already been deleted.`),AF(t),delete n[t.key]}function jF(t,e,n,i){let r=Z_[e.name];r||(r={},Z_[e.name]=r);let o=r[t.toURLString()];return o&&ar("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new TF(t,OF,n,i),r[t.toURLString()]=o,o}let UF=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(EF(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new fc(this._repo,rt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(LF(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ar("Cannot call "+e+" on a deleted database.")}};function BF(t=ic(),e){const n=ps(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=qm("database");i&&FF(n,...i)}return n}function FF(t,e,n,i={}){t=bt(t),t._checkNotDeleted("useEmulator");const r=`${e}:${n}`,o=t._repoInternal;if(t._instanceStarted){if(r===t._repoInternal.repoInfo_.host&&er(i,o.repoInfo_.emulatorOptions))return;ar("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&ar('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new Gd(Gd.OWNER);else if(i.mockUserToken){const h=typeof i.mockUserToken=="string"?i.mockUserToken:Mv(i.mockUserToken,t.app.options.projectId);c=new Gd(h)}MF(o,r,i,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zF(t){nB(ca),Jn(new Fn("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return VF(i,r,o,n)},"PUBLIC").setMultipleInstances(!0)),rn(Jx,eS,t),rn(Jx,eS,"esm2017")}Zs.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Zs.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};zF();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF="type.googleapis.com/google.protobuf.Int64Value",qF="type.googleapis.com/google.protobuf.UInt64Value";function IN(t,e){const n={};for(const i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i]));return n}function Nm(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Nm(e));if(typeof t=="function"||typeof t=="object")return IN(t,e=>Nm(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Yl(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case HF:case qF:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Yl(e)):typeof t=="function"||typeof t=="object"?IN(t,e=>Yl(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Un extends ei{constructor(e,n,i){super(`${nT}/${e}`,n||""),this.details=i,Object.setPrototypeOf(this,Un.prototype)}}function GF(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Dm(t,e){let n=GF(t),i=n,r;try{const o=e&&e.error;if(o){const c=o.status;if(typeof c=="string"){if(!PS[c])return new Un("internal","internal");n=PS[c],i=c}const h=o.message;typeof h=="string"&&(i=h),r=o.details,r!==void 0&&(r=Yl(r))}}catch{}return n==="ok"?null:new Un(n,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e,n,i,r){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,xn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=i.getImmediate({optional:!0}),this.auth||n.get().then(o=>this.auth=o,()=>{}),this.messaging||i.get().then(o=>this.messaging=o,()=>{}),this.appCheck||r==null||r.get().then(o=>this.appCheck=o,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),i=await this.getMessagingToken(),r=await this.getAppCheckToken(e);return{authToken:n,messagingToken:i,appCheckToken:r}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="us-central1",KF=/^data: (.*?)(?:\n|$)/;function WF(t){let e=null;return{promise:new Promise((n,i)=>{e=setTimeout(()=>{i(new Un("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class YF{constructor(e,n,i,r,o=J_,c=(...h)=>fetch(...h)){this.app=e,this.fetchImpl=c,this.emulatorOrigin=null,this.contextProvider=new $F(e,n,i,r),this.cancelAllRequests=new Promise(h=>{this.deleteService=()=>Promise.resolve(h())});try{const h=new URL(o);this.customDomain=h.origin+(h.pathname==="/"?"":h.pathname),this.region=J_}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function QF(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function XF(t,e,n){const i=r=>JF(t,e,r,{});return i.stream=(r,o)=>t8(t,e,r,o),i}async function ZF(t,e,n,i){n["Content-Type"]="application/json";let r;try{r=await i(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let o=null;try{o=await r.json()}catch{}return{status:r.status,json:o}}async function NN(t,e){const n={},i=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return i.authToken&&(n.Authorization="Bearer "+i.authToken),i.messagingToken&&(n["Firebase-Instance-ID-Token"]=i.messagingToken),i.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=i.appCheckToken),n}function JF(t,e,n,i){const r=t._url(e);return e8(t,r,n,i)}async function e8(t,e,n,i){n=Nm(n);const r={data:n},o=await NN(t,i),c=i.timeout||7e4,h=WF(c),f=await Promise.race([ZF(e,r,o,t.fetchImpl),h.promise,t.cancelAllRequests]);if(h.cancel(),!f)throw new Un("cancelled","Firebase Functions instance was deleted.");const m=Dm(f.status,f.json);if(m)throw m;if(!f.json)throw new Un("internal","Response is not valid JSON object.");let g=f.json.data;if(typeof g>"u"&&(g=f.json.result),typeof g>"u")throw new Un("internal","Response is missing data field.");return{data:Yl(g)}}function t8(t,e,n,i){const r=t._url(e);return n8(t,r,n,i||{})}async function n8(t,e,n,i){var r;n=Nm(n);const o={data:n},c=await NN(t,i);c["Content-Type"]="application/json",c.Accept="text/event-stream";let h;try{h=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(o),headers:c,signal:i==null?void 0:i.signal})}catch(x){if(x instanceof Error&&x.name==="AbortError"){const D=new Un("cancelled","Request was cancelled.");return{data:Promise.reject(D),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(D)}}}}}}const A=Dm(0,null);return{data:Promise.reject(A),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(A)}}}}}}let f,m;const g=new Promise((x,A)=>{f=x,m=A});(r=i==null?void 0:i.signal)===null||r===void 0||r.addEventListener("abort",()=>{const x=new Un("cancelled","Request was cancelled.");m(x)});const v=h.body.getReader(),E=i8(v,f,m,i==null?void 0:i.signal);return{stream:{[Symbol.asyncIterator](){const x=E.getReader();return{async next(){const{value:A,done:D}=await x.read();return{value:A,done:D}},async return(){return await x.cancel(),{done:!0,value:void 0}}}}},data:g}}function i8(t,e,n,i){const r=(c,h)=>{const f=c.match(KF);if(!f)return;const m=f[1];try{const g=JSON.parse(m);if("result"in g){e(Yl(g.result));return}if("message"in g){h.enqueue(Yl(g.message));return}if("error"in g){const v=Dm(0,g);h.error(v),n(v);return}}catch(g){if(g instanceof Un){h.error(g),n(g);return}}},o=new TextDecoder;return new ReadableStream({start(c){let h="";return f();async function f(){if(i!=null&&i.aborted){const m=new Un("cancelled","Request was cancelled");return c.error(m),n(m),Promise.resolve()}try{const{value:m,done:g}=await t.read();if(g){h.trim()&&r(h.trim(),c),c.close();return}if(i!=null&&i.aborted){const E=new Un("cancelled","Request was cancelled");c.error(E),n(E),await t.cancel();return}h+=o.decode(m,{stream:!0});const v=h.split(`
`);h=v.pop()||"";for(const E of v)E.trim()&&r(E.trim(),c);return f()}catch(m){const g=m instanceof Un?m:Dm(0,null);c.error(g),n(g)}}},cancel(){return t.cancel()}})}const OS="@firebase/functions",MS="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8="auth-internal",r8="app-check-internal",a8="messaging-internal";function o8(t){const e=(n,{instanceIdentifier:i})=>{const r=n.getProvider("app").getImmediate(),o=n.getProvider(s8),c=n.getProvider(a8),h=n.getProvider(r8);return new YF(r,o,c,h,i)};Jn(new Fn(nT,e,"PUBLIC").setMultipleInstances(!0)),rn(OS,MS,t),rn(OS,MS,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l8(t=ic(),e=J_){const i=ps(bt(t),nT).getImmediate({identifier:e}),r=qm("functions");return r&&c8(i,...r),i}function c8(t,e,n){QF(bt(t),e,n)}function u8(t,e,n){return XF(bt(t),e)}o8();const h8={apiKey:"AIzaSyCOX3dLbCghm1ivg7h2nnlrF3hhN8TQX2g",authDomain:"salimbigkas.firebaseapp.com",databaseURL:"https://salimbigkas-default-rtdb.firebaseio.com",projectId:"salimbigkas",storageBucket:"salimbigkas.firebasestorage.app",messagingSenderId:"63995274861",appId:"1:63995274861:web:4f8baea9d395547ad94164",measurementId:"G-2BK8NK3BVP"},dc=OC(h8);OL(dc);const Ct=ij(dc),f8=o9(dc);Z9(dc);BF(dc);const d8=l8(dc),iT=async(t=!0)=>{await G3(Ct,t?NR:Zv)},m8=async(t,e,n,i=!0)=>{await iT(i);const o=(await B3(Ct,t,e)).user;await _8({displayName:n}),await po(o,{displayName:n});try{await sT()}catch(c){console.error("Error sending email verification:",c)}return o},p8=async(t,e,n=!0)=>{await iT(n);const r=(await F3(Ct,t,e)).user;return r.emailVerified||await sT(),await po(r,{}),r},DN=async(t,e=!0)=>{await iT(e);const i=(await d5(Ct,t)).user;return await po(i,{}),i},kN=async(t=!0)=>{const e=new ns;return await DN(e,t)},PN=async(t=!0)=>{const e=new Hu("facebook.com");return await DN(e,t)},po=async(t,e={})=>{if(!t)return;const n=a9(f8,"users",t.uid),i=await b9(n),r=await t.getIdTokenResult(),o={uid:t.uid,role:r.claims.role||"student",displayName:t.displayName||"User",email:t.email,emailVerified:t.emailVerified||!1,photoURL:t.photoURL||null,phoneNumber:t.phoneNumber||null,metadata:{creationTime:t.metadata.creationTime,lastSignInTime:t.metadata.lastSignInTime},updatedAt:$x(),...e};i.exists()||(o.createdAt=$x());try{await x9(n,o,{merge:!0})}catch(c){throw console.error("Error creating/updating user document:",c),c}return n},g8=t=>W3(Ct,async e=>{if(e)try{await po(e),t(e)}catch(n){console.error("Error updating user document on auth state change:",n)}else t(null)}),ON=()=>{const t=Ct.currentUser;if(!t)throw new Error("No authenticated user.");return t},sT=()=>{const t=ON();return z3(t,{url:`${window.location.origin}/home`})},MN=()=>Ct.signOut(),y8=async t=>U3(Ct,t),_8=async t=>{const e=ON();await q3(e,t)},rT=O.createContext({});function aT(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}const oT=typeof window<"u",VN=oT?O.useLayoutEffect:O.useEffect,mp=O.createContext(null),lT=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class v8 extends O.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,r=i instanceof HTMLElement&&i.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=r-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function T8({children:t,isPresent:e,anchorX:n}){const i=O.useId(),r=O.useRef(null),o=O.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=O.useContext(lT);return O.useInsertionEffect(()=>{const{width:h,height:f,top:m,left:g,right:v}=o.current;if(e||!r.current||!h||!f)return;const E=n==="left"?`left: ${g}`:`right: ${v}`;r.current.dataset.motionPopId=i;const x=document.createElement("style");return c&&(x.nonce=c),document.head.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${E}px !important;
            top: ${m}px !important;
          }
        `),()=>{document.head.removeChild(x)}},[e]),_.jsx(v8,{isPresent:e,childRef:r,sizeRef:o,children:O.cloneElement(t,{ref:r})})}const E8=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:o,mode:c,anchorX:h})=>{const f=aT(b8),m=O.useId(),g=O.useCallback(E=>{f.set(E,!0);for(const x of f.values())if(!x)return;i&&i()},[f,i]),v=O.useMemo(()=>({id:m,initial:e,isPresent:n,custom:r,onExitComplete:g,register:E=>(f.set(E,!1),()=>f.delete(E))}),o?[Math.random(),g]:[n,g]);return O.useMemo(()=>{f.forEach((E,x)=>f.set(x,!1))},[n]),O.useEffect(()=>{!n&&!f.size&&i&&i()},[n]),c==="popLayout"&&(t=_.jsx(T8,{isPresent:n,anchorX:h,children:t})),_.jsx(mp.Provider,{value:v,children:t})};function b8(){return new Map}function LN(t=!0){const e=O.useContext(mp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,o=O.useId();O.useEffect(()=>{if(t)return r(o)},[t]);const c=O.useCallback(()=>t&&i&&i(o),[o,i,t]);return!n&&i?[!1,c]:[!0]}const Id=t=>t.key||"";function VS(t){const e=[];return O.Children.forEach(t,n=>{O.isValidElement(n)&&e.push(n)}),e}const km=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:o="sync",propagate:c=!1,anchorX:h="left"})=>{const[f,m]=LN(c),g=O.useMemo(()=>VS(t),[t]),v=c&&!f?[]:g.map(Id),E=O.useRef(!0),x=O.useRef(g),A=aT(()=>new Map),[D,N]=O.useState(g),[P,U]=O.useState(g);VN(()=>{E.current=!1,x.current=g;for(let Y=0;Y<P.length;Y++){const ne=Id(P[Y]);v.includes(ne)?A.delete(ne):A.get(ne)!==!0&&A.set(ne,!1)}},[P,v.length,v.join("-")]);const L=[];if(g!==D){let Y=[...g];for(let ne=0;ne<P.length;ne++){const k=P[ne],C=Id(k);v.includes(C)||(Y.splice(ne,0,k),L.push(k))}return o==="wait"&&L.length&&(Y=L),U(VS(Y)),N(g),null}const{forceRender:Q}=O.useContext(rT);return _.jsx(_.Fragment,{children:P.map(Y=>{const ne=Id(Y),k=c&&!f?!1:g===P||v.includes(ne),C=()=>{if(A.has(ne))A.set(ne,!0);else return;let I=!0;A.forEach(j=>{j||(I=!1)}),I&&(Q==null||Q(),U(x.current),c&&(m==null||m()),i&&i())};return _.jsx(E8,{isPresent:k,initial:!E.current||n?void 0:!1,custom:e,presenceAffectsLayout:r,mode:o,onExitComplete:k?void 0:C,anchorX:h,children:Y},ne)})})};function cT(t,e){t.indexOf(e)===-1&&t.push(e)}function uT(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let jN=()=>{};const ev={useManualTiming:!1};function hT(t){let e;return()=>(e===void 0&&(e=t()),e)}const vi=t=>t,yh=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class fT{constructor(){this.subscriptions=[]}add(e){return cT(this.subscriptions,e),()=>uT(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let o=0;o<r;o++){const c=this.subscriptions[o];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const os=t=>t*1e3,ls=t=>t/1e3;function UN(t,e){return e?t*(1e3/e):0}const w8=hT(()=>window.ScrollTimeline!==void 0);class x8{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(r=>{if(w8()&&r.attachTimeline)return r.attachTimeline(e);if(typeof n=="function")return n(r)});return()=>{i.forEach((r,o)=>{r&&r(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class S8 extends x8{then(e,n){return this.finished.finally(e).then(()=>{})}}const LS={value:null},dT=t=>Array.isArray(t)&&typeof t[0]=="number",A8={};function C8(t,e){const n=hT(t);return()=>A8[e]??n()}const _h=C8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),BN=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let o=0;o<r;o++)i+=t(o/(r-1))+", ";return`linear(${i.substring(0,i.length-2)})`},Uu=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,tv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Uu([0,.65,.55,1]),circOut:Uu([.55,0,1,.45]),backIn:Uu([.31,.01,.66,-.59]),backOut:Uu([.33,1.53,.69,.99])};function FN(t,e){if(t)return typeof t=="function"&&_h()?BN(t,e):dT(t)?Uu(t):Array.isArray(t)?t.map(n=>FN(n,e)||tv.easeOut):tv[t]}function R8(t,e,n,{delay:i=0,duration:r=300,repeat:o=0,repeatType:c="loop",ease:h="easeInOut",times:f}={},m=void 0){const g={[e]:n};f&&(g.offset=f);const v=FN(h,r);return Array.isArray(v)&&(g.easing=v),t.animate(g,{delay:i,duration:r,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal",pseudoElement:m})}function mT(t){return typeof t=="function"&&"applyToOptions"in t}function pT(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Pm=2e4;function gT(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Pm;)e+=n,i=t.next(e);return e>=Pm?1/0:e}function I8(t,e=100,n){const i=n({...t,keyframes:[0,e]}),r=Math.min(gT(i),Pm);return{type:"keyframes",ease:o=>i.next(r*o).value/e,duration:ls(r)}}function zN(t){return!!(typeof t=="function"&&_h()||!t||typeof t=="string"&&(t in tv||_h())||dT(t)||Array.isArray(t)&&t.every(zN))}function jS(t,e){t.timeline=e,t.onfinish=null}const Nd=["read","resolveKeyframes","update","preRender","render","postRender"];function N8(t,e){let n=new Set,i=new Set,r=!1,o=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},f=0;function m(v){c.has(v)&&(g.schedule(v),t()),f++,v(h)}const g={schedule:(v,E=!1,x=!1)=>{const D=x&&r?n:i;return E&&c.add(v),D.has(v)||D.add(v),v},cancel:v=>{i.delete(v),c.delete(v)},process:v=>{if(h=v,r){o=!0;return}r=!0,[n,i]=[i,n],n.forEach(m),e&&LS.value&&LS.value.frameloop[e].push(f),f=0,n.clear(),r=!1,o&&(o=!1,g.process(v))}};return g}const D8=40;function HN(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,c=Nd.reduce((P,U)=>(P[U]=N8(o,e?U:void 0),P),{}),{read:h,resolveKeyframes:f,update:m,preRender:g,render:v,postRender:E}=c,x=()=>{const P=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(P-r.timestamp,D8),1),r.timestamp=P,r.isProcessing=!0,h.process(r),f.process(r),m.process(r),g.process(r),v.process(r),E.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(x))},A=()=>{n=!0,i=!0,r.isProcessing||t(x)};return{schedule:Nd.reduce((P,U)=>{const L=c[U];return P[U]=(Q,Y=!1,ne=!1)=>(n||A(),L.schedule(Q,Y,ne)),P},{}),cancel:P=>{for(let U=0;U<Nd.length;U++)c[Nd[U]].cancel(P)},state:r,steps:c}}const{schedule:yT}=HN(queueMicrotask,!1),{schedule:ht,cancel:aa,state:hn,steps:Zy}=HN(typeof requestAnimationFrame<"u"?requestAnimationFrame:vi,!0);let $d;function k8(){$d=void 0}const cs={now:()=>($d===void 0&&cs.set(hn.isProcessing||ev.useManualTiming?hn.timestamp:performance.now()),$d),set:t=>{$d=t,queueMicrotask(k8)}},Ri={x:!1,y:!1};function qN(){return Ri.x||Ri.y}function P8(t){return t==="x"||t==="y"?Ri[t]?null:(Ri[t]=!0,()=>{Ri[t]=!1}):Ri.x||Ri.y?null:(Ri.x=Ri.y=!0,()=>{Ri.x=Ri.y=!1})}function O8(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const r=(n==null?void 0:n[t])??i.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}function GN(t,e){const n=O8(t),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function US(t){return!(t.pointerType==="touch"||qN())}function M8(t,e,n={}){const[i,r,o]=GN(t,n),c=h=>{if(!US(h))return;const{target:f}=h,m=e(f,h);if(typeof m!="function"||!f)return;const g=v=>{US(v)&&(m(v),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,r)};return i.forEach(h=>{h.addEventListener("pointerenter",c,r)}),o}const $N=(t,e)=>e?t===e?!0:$N(t,e.parentElement):!1,_T=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,V8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function L8(t){return V8.has(t.tagName)||t.tabIndex!==-1}const Bu=new WeakSet;function BS(t){return e=>{e.key==="Enter"&&t(e)}}function Jy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const j8=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=BS(()=>{if(Bu.has(n))return;Jy(n,"down");const r=BS(()=>{Jy(n,"up")}),o=()=>Jy(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function FS(t){return _T(t)&&!qN()}function U8(t,e,n={}){const[i,r,o]=GN(t,n),c=h=>{const f=h.currentTarget;if(!FS(h)||Bu.has(f))return;Bu.add(f);const m=e(f,h),g=(x,A)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",E),!(!FS(x)||!Bu.has(f))&&(Bu.delete(f),typeof m=="function"&&m(x,{success:A}))},v=x=>{g(x,f===window||f===document||n.useGlobalTarget||$N(f,x.target))},E=x=>{g(x,!1)};window.addEventListener("pointerup",v,r),window.addEventListener("pointercancel",E,r)};return i.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,r),h instanceof HTMLElement&&(h.addEventListener("focus",m=>j8(m,r)),!L8(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),o}const zS=30,B8=t=>!isNaN(parseFloat(t));class F8{constructor(e,n={}){this.version="12.7.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const o=cs.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=cs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=B8(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new fT);const i=this.events[e].add(n);return e==="change"?()=>{i(),ht.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=cs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>zS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,zS);return UN(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vh(t,e){return new F8(t,e)}const KN=O.createContext({strict:!1}),HS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ql={};for(const t in HS)Ql[t]={isEnabled:e=>HS[t].some(n=>!!e[n])};function z8(t){for(const e in t)Ql[e]={...Ql[e],...t[e]}}const H8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Om(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||H8.has(t)}let WN=t=>!Om(t);function q8(t){t&&(WN=e=>e.startsWith("on")?!Om(e):t(e))}try{q8(require("@emotion/is-prop-valid").default)}catch{}function G8(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(WN(r)||n===!0&&Om(r)||!e&&!Om(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function $8(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const pp=O.createContext({});function gp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Th(t){return typeof t=="string"||Array.isArray(t)}const vT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],TT=["initial",...vT];function yp(t){return gp(t.animate)||TT.some(e=>Th(t[e]))}function YN(t){return!!(yp(t)||t.variants)}function K8(t,e){if(yp(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Th(n)?n:void 0,animate:Th(i)?i:void 0}}return t.inherit!==!1?e:{}}function W8(t){const{initial:e,animate:n}=K8(t,O.useContext(pp));return O.useMemo(()=>({initial:e,animate:n}),[qS(e),qS(n)])}function qS(t){return Array.isArray(t)?t.join(" "):t}const Y8=Symbol.for("motionComponentSymbol");function Al(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Q8(t,e,n){return O.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Al(n)&&(n.current=i))},[e])}const ET=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),X8="framerAppearId",QN="data-"+ET(X8),XN=O.createContext({});function Z8(t,e,n,i,r){var D,N;const{visualElement:o}=O.useContext(pp),c=O.useContext(KN),h=O.useContext(mp),f=O.useContext(lT).reducedMotion,m=O.useRef(null);i=i||c.renderer,!m.current&&i&&(m.current=i(t,{visualState:e,parent:o,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const g=m.current,v=O.useContext(XN);g&&!g.projection&&r&&(g.type==="html"||g.type==="svg")&&J8(m.current,n,r,v);const E=O.useRef(!1);O.useInsertionEffect(()=>{g&&E.current&&g.update(n,h)});const x=n[QN],A=O.useRef(!!x&&!((D=window.MotionHandoffIsComplete)!=null&&D.call(window,x))&&((N=window.MotionHasOptimisedAnimation)==null?void 0:N.call(window,x)));return VN(()=>{g&&(E.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),yT.render(g.render),A.current&&g.animationState&&g.animationState.animateChanges())}),O.useEffect(()=>{g&&(!A.current&&g.animationState&&g.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var P;(P=window.MotionHandoffMarkAsComplete)==null||P.call(window,x)}),A.current=!1))}),g}function J8(t,e,n,i){const{layoutId:r,layout:o,drag:c,dragConstraints:h,layoutScroll:f,layoutRoot:m,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:ZN(t.parent)),t.projection.setOptions({layoutId:r,layout:o,alwaysMeasureLayout:!!c||h&&Al(h),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:f,layoutRoot:m})}function ZN(t){if(t)return t.options.allowProjection!==!1?t.projection:ZN(t.parent)}function ez({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:r}){t&&z8(t);function o(h,f){let m;const g={...O.useContext(lT),...h,layoutId:tz(h)},{isStatic:v}=g,E=W8(h),x=i(h,v);if(!v&&oT){nz();const A=iz(g);m=A.MeasureLayout,E.visualElement=Z8(r,x,g,e,A.ProjectionNode)}return _.jsxs(pp.Provider,{value:E,children:[m&&E.visualElement?_.jsx(m,{visualElement:E.visualElement,...g}):null,n(r,h,Q8(x,E.visualElement,f),x,v,E.visualElement)]})}o.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const c=O.forwardRef(o);return c[Y8]=r,c}function tz({layoutId:t}){const e=O.useContext(rT).id;return e&&t!==void 0?e+"-"+t:t}function nz(t,e){O.useContext(KN).strict}function iz(t){const{drag:e,layout:n}=Ql;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const JN=t=>e=>typeof e=="string"&&e.startsWith(t),bT=JN("--"),sz=JN("var(--"),wT=t=>sz(t)?rz.test(t.split("/*")[0].trim()):!1,rz=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Eh={};function az(t){for(const e in t)Eh[e]=t[e],bT(e)&&(Eh[e].isCSSVariable=!0)}const mc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xo=new Set(mc);function eD(t,{layout:e,layoutId:n}){return xo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Eh[t]||t==="opacity")}const An=t=>!!(t&&t.getVelocity),tD=(t,e)=>e&&typeof t=="number"?e.transform(t):t,or=(t,e,n)=>n>e?e:n<t?t:n,pc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},bh={...pc,transform:t=>or(0,1,t)},Dd={...pc,default:1},zh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),zr=zh("deg"),us=zh("%"),be=zh("px"),oz=zh("vh"),lz=zh("vw"),GS={...us,parse:t=>us.parse(t)/100,transform:t=>us.transform(t*100)},cz={borderWidth:be,borderTopWidth:be,borderRightWidth:be,borderBottomWidth:be,borderLeftWidth:be,borderRadius:be,radius:be,borderTopLeftRadius:be,borderTopRightRadius:be,borderBottomRightRadius:be,borderBottomLeftRadius:be,width:be,maxWidth:be,height:be,maxHeight:be,top:be,right:be,bottom:be,left:be,padding:be,paddingTop:be,paddingRight:be,paddingBottom:be,paddingLeft:be,margin:be,marginTop:be,marginRight:be,marginBottom:be,marginLeft:be,backgroundPositionX:be,backgroundPositionY:be},uz={rotate:zr,rotateX:zr,rotateY:zr,rotateZ:zr,scale:Dd,scaleX:Dd,scaleY:Dd,scaleZ:Dd,skew:zr,skewX:zr,skewY:zr,distance:be,translateX:be,translateY:be,translateZ:be,x:be,y:be,z:be,perspective:be,transformPerspective:be,opacity:bh,originX:GS,originY:GS,originZ:be},$S={...pc,transform:Math.round},xT={...cz,...uz,zIndex:$S,size:be,fillOpacity:bh,strokeOpacity:bh,numOctaves:$S},hz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fz=mc.length;function dz(t,e,n){let i="",r=!0;for(let o=0;o<fz;o++){const c=mc[o],h=t[c];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(c.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||n){const m=tD(h,xT[c]);if(!f){r=!1;const g=hz[c]||c;i+=`${g}(${m}) `}n&&(e[c]=m)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function ST(t,e,n){const{style:i,vars:r,transformOrigin:o}=t;let c=!1,h=!1;for(const f in e){const m=e[f];if(xo.has(f)){c=!0;continue}else if(bT(f)){r[f]=m;continue}else{const g=tD(m,xT[f]);f.startsWith("origin")?(h=!0,o[f]=g):i[f]=g}}if(e.transform||(c||n?i.transform=dz(e,t.transform,n):i.transform&&(i.transform="none")),h){const{originX:f="50%",originY:m="50%",originZ:g=0}=o;i.transformOrigin=`${f} ${m} ${g}`}}const AT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function nD(t,e,n){for(const i in e)!An(e[i])&&!eD(i,n)&&(t[i]=e[i])}function mz({transformTemplate:t},e){return O.useMemo(()=>{const n=AT();return ST(n,e,t),Object.assign({},n.vars,n.style)},[e])}function pz(t,e){const n=t.style||{},i={};return nD(i,n,t),Object.assign(i,mz(t,e)),i}function gz(t,e){const n={},i=pz(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const yz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function CT(t){return typeof t!="string"||t.includes("-")?!1:!!(yz.indexOf(t)>-1||/[A-Z]/u.test(t))}const _z={offset:"stroke-dashoffset",array:"stroke-dasharray"},vz={offset:"strokeDashoffset",array:"strokeDasharray"};function Tz(t,e,n=1,i=0,r=!0){t.pathLength=1;const o=r?_z:vz;t[o.offset]=be.transform(-i);const c=be.transform(e),h=be.transform(n);t[o.array]=`${c} ${h}`}function KS(t,e,n){return typeof t=="string"?t:be.transform(e+n*t)}function Ez(t,e,n){const i=KS(e,t.x,t.width),r=KS(n,t.y,t.height);return`${i} ${r}`}function RT(t,{attrX:e,attrY:n,attrScale:i,originX:r,originY:o,pathLength:c,pathSpacing:h=1,pathOffset:f=0,...m},g,v){if(ST(t,m,v),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:E,style:x,dimensions:A}=t;E.transform&&(A&&(x.transform=E.transform),delete E.transform),A&&(r!==void 0||o!==void 0||x.transform)&&(x.transformOrigin=Ez(A,r!==void 0?r:.5,o!==void 0?o:.5)),e!==void 0&&(E.x=e),n!==void 0&&(E.y=n),i!==void 0&&(E.scale=i),c!==void 0&&Tz(E,c,h,f,!1)}const iD=()=>({...AT(),attrs:{}}),IT=t=>typeof t=="string"&&t.toLowerCase()==="svg";function bz(t,e,n,i){const r=O.useMemo(()=>{const o=iD();return RT(o,e,IT(i),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};nD(o,t.style,t),r.style={...o,...r.style}}return r}function wz(t=!1){return(n,i,r,{latestValues:o},c)=>{const f=(CT(n)?bz:gz)(i,o,c,n),m=G8(i,typeof n=="string",t),g=n!==O.Fragment?{...m,...f,ref:r}:{},{children:v}=i,E=O.useMemo(()=>An(v)?v.get():v,[v]);return O.createElement(n,{...g,children:E})}}function WS(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function NT(t,e,n,i){if(typeof e=="function"){const[r,o]=WS(i);e=e(n!==void 0?n:t.custom,r,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,o]=WS(i);e=e(n!==void 0?n:t.custom,r,o)}return e}const nv=t=>Array.isArray(t),xz=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Sz=t=>nv(t)?t[t.length-1]||0:t;function Kd(t){const e=An(t)?t.get():t;return xz(e)?e.toValue():e}function Az({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,r,o){const c={latestValues:Cz(i,r,o,t),renderState:e()};return n&&(c.onMount=h=>n({props:i,current:h,...c}),c.onUpdate=h=>n(h)),c}const sD=t=>(e,n)=>{const i=O.useContext(pp),r=O.useContext(mp),o=()=>Az(t,e,i,r);return n?o():aT(o)};function Cz(t,e,n,i){const r={},o=i(t,{});for(const E in o)r[E]=Kd(o[E]);let{initial:c,animate:h}=t;const f=yp(t),m=YN(t);e&&m&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const v=g?h:c;if(v&&typeof v!="boolean"&&!gp(v)){const E=Array.isArray(v)?v:[v];for(let x=0;x<E.length;x++){const A=NT(t,E[x]);if(A){const{transitionEnd:D,transition:N,...P}=A;for(const U in P){let L=P[U];if(Array.isArray(L)){const Q=g?L.length-1:0;L=L[Q]}L!==null&&(r[U]=L)}for(const U in D)r[U]=D[U]}}}return r}function DT(t,e,n){var o;const{style:i}=t,r={};for(const c in i)(An(i[c])||e.style&&An(e.style[c])||eD(c,t)||((o=n==null?void 0:n.getValue(c))==null?void 0:o.liveStyle)!==void 0)&&(r[c]=i[c]);return r}const Rz={useVisualState:sD({scrapeMotionValuesFromProps:DT,createRenderState:AT})};function rD(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function aD(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const o in n)t.style.setProperty(o,n[o])}const oD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function lD(t,e,n,i){aD(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(oD.has(r)?r:ET(r),e.attrs[r])}function cD(t,e,n){const i=DT(t,e,n);for(const r in t)if(An(t[r])||An(e[r])){const o=mc.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[o]=t[r]}return i}const YS=["x","y","width","height","cx","cy","r"],Iz={useVisualState:sD({scrapeMotionValuesFromProps:cD,createRenderState:iD,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:r})=>{if(!n)return;let o=!!t.drag;if(!o){for(const h in r)if(xo.has(h)){o=!0;break}}if(!o)return;let c=!e;if(e)for(let h=0;h<YS.length;h++){const f=YS[h];t[f]!==e[f]&&(c=!0)}c&&ht.read(()=>{rD(n,i),ht.render(()=>{RT(i,r,IT(n.tagName),t.transformTemplate),lD(n,i)})})}})};function Nz(t,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const c={...CT(i)?Iz:Rz,preloadedFeatures:t,useRender:wz(r),createVisualElement:e,Component:i};return ez(c)}}function wh(t,e,n){const i=t.getProps();return NT(i,e,n!==void 0?n:i.custom,t)}const uD=new Set(["width","height","top","left","right","bottom",...mc]);function Dz(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,vh(n))}function kz(t,e){const n=wh(t,e);let{transitionEnd:i={},transition:r={},...o}=n||{};o={...o,...i};for(const c in o){const h=Sz(o[c]);Dz(t,c,h)}}function Pz(t){return!!(An(t)&&t.add)}function iv(t,e){const n=t.getValue("willChange");if(Pz(n))return n.add(e);if(!n&&ev.WillChange){const i=new ev.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function hD(t){return t.props[QN]}const fD=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Oz=1e-7,Mz=12;function Vz(t,e,n,i,r){let o,c,h=0;do c=e+(n-e)/2,o=fD(c,i,r)-t,o>0?n=c:e=c;while(Math.abs(o)>Oz&&++h<Mz);return c}function Hh(t,e,n,i){if(t===e&&n===i)return vi;const r=o=>Vz(o,0,1,t,n);return o=>o===0||o===1?o:fD(r(o),e,i)}const dD=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,mD=t=>e=>1-t(1-e),pD=Hh(.33,1.53,.69,.99),kT=mD(pD),gD=dD(kT),yD=t=>(t*=2)<1?.5*kT(t):.5*(2-Math.pow(2,-10*(t-1))),PT=t=>1-Math.sin(Math.acos(t)),_D=mD(PT),vD=dD(PT),TD=t=>/^0[^.\s]+$/u.test(t);function Lz(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||TD(t):!0}const Zu=t=>Math.round(t*1e5)/1e5,OT=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function jz(t){return t==null}const Uz=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,MT=(t,e)=>n=>!!(typeof n=="string"&&Uz.test(n)&&n.startsWith(t)||e&&!jz(n)&&Object.prototype.hasOwnProperty.call(n,e)),ED=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,o,c,h]=i.match(OT);return{[t]:parseFloat(r),[e]:parseFloat(o),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},Bz=t=>or(0,255,t),e_={...pc,transform:t=>Math.round(Bz(t))},no={test:MT("rgb","red"),parse:ED("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+e_.transform(t)+", "+e_.transform(e)+", "+e_.transform(n)+", "+Zu(bh.transform(i))+")"};function Fz(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const sv={test:MT("#"),parse:Fz,transform:no.transform},Cl={test:MT("hsl","hue"),parse:ED("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+us.transform(Zu(e))+", "+us.transform(Zu(n))+", "+Zu(bh.transform(i))+")"},vn={test:t=>no.test(t)||sv.test(t)||Cl.test(t),parse:t=>no.test(t)?no.parse(t):Cl.test(t)?Cl.parse(t):sv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?no.transform(t):Cl.transform(t)},zz=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Hz(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(OT))==null?void 0:e.length)||0)+(((n=t.match(zz))==null?void 0:n.length)||0)>0}const bD="number",wD="color",qz="var",Gz="var(",QS="${}",$z=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function xh(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let o=0;const h=e.replace($z,f=>(vn.test(f)?(i.color.push(o),r.push(wD),n.push(vn.parse(f))):f.startsWith(Gz)?(i.var.push(o),r.push(qz),n.push(f)):(i.number.push(o),r.push(bD),n.push(parseFloat(f))),++o,QS)).split(QS);return{values:n,split:h,indexes:i,types:r}}function xD(t){return xh(t).values}function SD(t){const{split:e,types:n}=xh(t),i=e.length;return r=>{let o="";for(let c=0;c<i;c++)if(o+=e[c],r[c]!==void 0){const h=n[c];h===bD?o+=Zu(r[c]):h===wD?o+=vn.transform(r[c]):o+=r[c]}return o}}const Kz=t=>typeof t=="number"?0:t;function Wz(t){const e=xD(t);return SD(t)(e.map(Kz))}const oa={test:Hz,parse:xD,createTransformer:SD,getAnimatableNone:Wz},Yz=new Set(["brightness","contrast","saturate","opacity"]);function Qz(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(OT)||[];if(!i)return t;const r=n.replace(i,"");let o=Yz.has(e)?1:0;return i!==n&&(o*=100),e+"("+o+r+")"}const Xz=/\b([a-z-]*)\(.*?\)/gu,rv={...oa,getAnimatableNone:t=>{const e=t.match(Xz);return e?e.map(Qz).join(" "):t}},Zz={...xT,color:vn,backgroundColor:vn,outlineColor:vn,fill:vn,stroke:vn,borderColor:vn,borderTopColor:vn,borderRightColor:vn,borderBottomColor:vn,borderLeftColor:vn,filter:rv,WebkitFilter:rv},AD=t=>Zz[t];function CD(t,e){let n=AD(t);return n!==rv&&(n=oa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Jz=new Set(["auto","none","0"]);function eH(t,e,n){let i=0,r;for(;i<t.length&&!r;){const o=t[i];typeof o=="string"&&!Jz.has(o)&&xh(o).values.length&&(r=t[i]),i++}if(r&&n)for(const o of e)t[o]=CD(n,r)}const io=t=>t*180/Math.PI,av=t=>{const e=io(Math.atan2(t[1],t[0]));return ov(e)},tH={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:av,rotateZ:av,skewX:t=>io(Math.atan(t[1])),skewY:t=>io(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ov=t=>(t=t%360,t<0&&(t+=360),t),XS=av,ZS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),JS=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),nH={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ZS,scaleY:JS,scale:t=>(ZS(t)+JS(t))/2,rotateX:t=>ov(io(Math.atan2(t[6],t[5]))),rotateY:t=>ov(io(Math.atan2(-t[2],t[0]))),rotateZ:XS,rotate:XS,skewX:t=>io(Math.atan(t[4])),skewY:t=>io(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function eA(t){return t.includes("scale")?1:0}function lv(t,e){if(!t||t==="none")return eA(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(n)i=nH,r=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=tH,r=h}if(!r)return eA(e);const o=i[e],c=r[1].split(",").map(sH);return typeof o=="function"?o(c):c[o]}const iH=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return lv(n,e)};function sH(t){return parseFloat(t.trim())}const tA=t=>t===pc||t===be,rH=new Set(["x","y","z"]),aH=mc.filter(t=>!rH.has(t));function oH(t){const e=[];return aH.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Xl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>lv(e,"x"),y:(t,{transform:e})=>lv(e,"y")};Xl.translateX=Xl.x;Xl.translateY=Xl.y;const so=new Set;let cv=!1,uv=!1;function RD(){if(uv){const t=Array.from(so).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=oH(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([o,c])=>{var h;(h=i.getValue(o))==null||h.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}uv=!1,cv=!1,so.forEach(t=>t.complete()),so.clear()}function ID(){so.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(uv=!0)})}function lH(){ID(),RD()}class VT{constructor(e,n,i,r,o,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=o,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(so.add(this),cv||(cv=!0,ht.read(ID),ht.resolveKeyframes(RD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const c=r==null?void 0:r.get(),h=e[e.length-1];if(c!==void 0)e[0]=c;else if(i&&n){const f=i.readValue(n,h);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=h),r&&c===void 0&&r.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),so.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,so.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const ND=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),cH=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function uH(t){const e=cH.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function DD(t,e,n=1){const[i,r]=uH(t);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const c=o.trim();return ND(c)?parseFloat(c):c}return wT(r)?DD(r,e,n+1):r}const kD=t=>e=>e.test(t),hH={test:t=>t==="auto",parse:t=>t},PD=[pc,be,us,zr,lz,oz,hH],nA=t=>PD.find(kD(t));class OD extends VT{constructor(e,n,i,r,o){super(e,n,i,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),wT(m))){const g=DD(m,n.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!uD.has(i)||e.length!==2)return;const[r,o]=e,c=nA(r),h=nA(o);if(c!==h)if(tA(c)&&tA(h))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)Lz(e[r])&&i.push(r);i.length&&eH(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xl[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var h;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const r=e.getValue(n);r&&r.jump(this.measuredOrigin,!1);const o=i.length-1,c=i[o];i[o]=Xl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([f,m])=>{e.getValue(f).set(m)}),this.resolveNoneKeyframes()}}const iA=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(oa.test(t)||t==="0")&&!t.startsWith("url("));function fH(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function dH(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],c=iA(r,e),h=iA(o,e);return!c||!h?!1:fH(t)||(n==="spring"||mT(n))&&i}const mH=t=>t!==null;function _p(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(mH),o=e&&n!=="loop"&&e%2===1?0:r.length-1;return!o||i===void 0?r[o]:i}const pH=40;class MD{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:c="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=cs.now(),this.options={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:o,repeatType:c,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>pH?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&lH(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=cs.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:o,delay:c,onComplete:h,onUpdate:f,isGenerator:m}=this.options;if(!m&&!dH(e,i,r,o))if(c)this.options.duration=0;else{f&&f(_p(e,this.options,n)),h&&h(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Et=(t,e,n)=>t+(e-t)*n;function t_(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function gH({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,o=0,c=0;if(!e)r=o=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;r=t_(f,h,t+1/3),o=t_(f,h,t),c=t_(f,h,t-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:i}}function Mm(t,e){return n=>n>0?e:t}const n_=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},yH=[sv,no,Cl],_H=t=>yH.find(e=>e.test(t));function sA(t){const e=_H(t);if(!e)return!1;let n=e.parse(t);return e===Cl&&(n=gH(n)),n}const rA=(t,e)=>{const n=sA(t),i=sA(e);if(!n||!i)return Mm(t,e);const r={...n};return o=>(r.red=n_(n.red,i.red,o),r.green=n_(n.green,i.green,o),r.blue=n_(n.blue,i.blue,o),r.alpha=Et(n.alpha,i.alpha,o),no.transform(r))},vH=(t,e)=>n=>e(t(n)),qh=(...t)=>t.reduce(vH),hv=new Set(["none","hidden"]);function TH(t,e){return hv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function EH(t,e){return n=>Et(t,e,n)}function LT(t){return typeof t=="number"?EH:typeof t=="string"?wT(t)?Mm:vn.test(t)?rA:xH:Array.isArray(t)?VD:typeof t=="object"?vn.test(t)?rA:bH:Mm}function VD(t,e){const n=[...t],i=n.length,r=t.map((o,c)=>LT(o)(o,e[c]));return o=>{for(let c=0;c<i;c++)n[c]=r[c](o);return n}}function bH(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=LT(t[r])(t[r],e[r]));return r=>{for(const o in i)n[o]=i[o](r);return n}}function wH(t,e){const n=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const o=e.types[r],c=t.indexes[o][i[o]],h=t.values[c]??0;n[r]=h,i[o]++}return n}const xH=(t,e)=>{const n=oa.createTransformer(e),i=xh(t),r=xh(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?hv.has(t)&&!r.values.length||hv.has(e)&&!i.values.length?TH(t,e):qh(VD(wH(i,r),r.values),n):Mm(t,e)};function LD(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Et(t,e,n):LT(t)(t,e)}const SH=5;function jD(t,e,n){const i=Math.max(e-SH,0);return UN(n-t(i),e-i)}const At={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},aA=.001;function AH({duration:t=At.duration,bounce:e=At.bounce,velocity:n=At.velocity,mass:i=At.mass}){let r,o,c=1-e;c=or(At.minDamping,At.maxDamping,c),t=or(At.minDuration,At.maxDuration,ls(t)),c<1?(r=m=>{const g=m*c,v=g*t,E=g-n,x=fv(m,c),A=Math.exp(-v);return aA-E/x*A},o=m=>{const v=m*c*t,E=v*n+n,x=Math.pow(c,2)*Math.pow(m,2)*t,A=Math.exp(-v),D=fv(Math.pow(m,2),c);return(-r(m)+aA>0?-1:1)*((E-x)*A)/D}):(r=m=>{const g=Math.exp(-m*t),v=(m-n)*t+1;return-.001+g*v},o=m=>{const g=Math.exp(-m*t),v=(n-m)*(t*t);return g*v});const h=5/t,f=RH(r,o,h);if(t=os(t),isNaN(f))return{stiffness:At.stiffness,damping:At.damping,duration:t};{const m=Math.pow(f,2)*i;return{stiffness:m,damping:c*2*Math.sqrt(i*m),duration:t}}}const CH=12;function RH(t,e,n){let i=n;for(let r=1;r<CH;r++)i=i-t(i)/e(i);return i}function fv(t,e){return t*Math.sqrt(1-e*e)}const IH=["duration","bounce"],NH=["stiffness","damping","mass"];function oA(t,e){return e.some(n=>t[n]!==void 0)}function DH(t){let e={velocity:At.velocity,stiffness:At.stiffness,damping:At.damping,mass:At.mass,isResolvedFromDuration:!1,...t};if(!oA(t,NH)&&oA(t,IH))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,o=2*or(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:At.mass,stiffness:r,damping:o}}else{const n=AH(t);e={...e,...n,mass:At.mass},e.isResolvedFromDuration=!0}return e}function Vm(t=At.visualDuration,e=At.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const o=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:o},{stiffness:f,damping:m,mass:g,duration:v,velocity:E,isResolvedFromDuration:x}=DH({...n,velocity:-ls(n.velocity||0)}),A=E||0,D=m/(2*Math.sqrt(f*g)),N=c-o,P=ls(Math.sqrt(f/g)),U=Math.abs(N)<5;i||(i=U?At.restSpeed.granular:At.restSpeed.default),r||(r=U?At.restDelta.granular:At.restDelta.default);let L;if(D<1){const Y=fv(P,D);L=ne=>{const k=Math.exp(-D*P*ne);return c-k*((A+D*P*N)/Y*Math.sin(Y*ne)+N*Math.cos(Y*ne))}}else if(D===1)L=Y=>c-Math.exp(-P*Y)*(N+(A+P*N)*Y);else{const Y=P*Math.sqrt(D*D-1);L=ne=>{const k=Math.exp(-D*P*ne),C=Math.min(Y*ne,300);return c-k*((A+D*P*N)*Math.sinh(C)+Y*N*Math.cosh(C))/Y}}const Q={calculatedDuration:x&&v||null,next:Y=>{const ne=L(Y);if(x)h.done=Y>=v;else{let k=0;D<1&&(k=Y===0?os(A):jD(L,Y,ne));const C=Math.abs(k)<=i,I=Math.abs(c-ne)<=r;h.done=C&&I}return h.value=h.done?c:ne,h},toString:()=>{const Y=Math.min(gT(Q),Pm),ne=BN(k=>Q.next(Y*k).value,Y,30);return Y+"ms "+ne},toTransition:()=>{}};return Q}Vm.applyToOptions=t=>{const e=I8(t,100,Vm);return t.ease=_h()?e.ease:"easeOut",t.duration=os(e.duration),t.type="keyframes",t};function lA({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:c,min:h,max:f,restDelta:m=.5,restSpeed:g}){const v=t[0],E={done:!1,value:v},x=C=>h!==void 0&&C<h||f!==void 0&&C>f,A=C=>h===void 0?f:f===void 0||Math.abs(h-C)<Math.abs(f-C)?h:f;let D=n*e;const N=v+D,P=c===void 0?N:c(N);P!==N&&(D=P-v);const U=C=>-D*Math.exp(-C/i),L=C=>P+U(C),Q=C=>{const I=U(C),j=L(C);E.done=Math.abs(I)<=m,E.value=E.done?P:j};let Y,ne;const k=C=>{x(E.value)&&(Y=C,ne=Vm({keyframes:[E.value,A(E.value)],velocity:jD(L,C,E.value),damping:r,stiffness:o,restDelta:m,restSpeed:g}))};return k(0),{calculatedDuration:null,next:C=>{let I=!1;return!ne&&Y===void 0&&(I=!0,Q(C),k(C)),Y!==void 0&&C>=Y?ne.next(C-Y):(!I&&Q(C),E)}}}const kH=Hh(.42,0,1,1),PH=Hh(0,0,.58,1),UD=Hh(.42,0,.58,1),OH=t=>Array.isArray(t)&&typeof t[0]!="number",MH={linear:vi,easeIn:kH,easeInOut:UD,easeOut:PH,circIn:PT,circInOut:vD,circOut:_D,backIn:kT,backInOut:gD,backOut:pD,anticipate:yD},cA=t=>{if(dT(t)){jN(t.length===4);const[e,n,i,r]=t;return Hh(e,n,i,r)}else if(typeof t=="string")return MH[t];return t};function VH(t,e,n){const i=[],r=n||LD,o=t.length-1;for(let c=0;c<o;c++){let h=r(t[c],t[c+1]);if(e){const f=Array.isArray(e)?e[c]||vi:e;h=qh(f,h)}i.push(h)}return i}function LH(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const o=t.length;if(jN(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=VH(e,i,r),f=h.length,m=g=>{if(c&&g<t[0])return e[0];let v=0;if(f>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const E=yh(t[v],t[v+1],g);return h[v](E)};return n?g=>m(or(t[0],t[o-1],g)):m}function jH(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=yh(0,e,i);t.push(Et(n,1,r))}}function UH(t){const e=[0];return jH(e,t.length-1),e}function BH(t,e){return t.map(n=>n*e)}function FH(t,e){return t.map(()=>e||UD).splice(0,t.length-1)}function Lm({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=OH(i)?i.map(cA):cA(i),o={done:!1,value:e[0]},c=BH(n&&n.length===e.length?n:UH(e),t),h=LH(c,e,{ease:Array.isArray(r)?r:FH(e,r)});return{calculatedDuration:t,next:f=>(o.value=h(f),o.done=f>=t,o)}}const zH=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ht.update(e,!0),stop:()=>aa(e),now:()=>hn.isProcessing?hn.timestamp:cs.now()}},HH={decay:lA,inertia:lA,tween:Lm,keyframes:Lm,spring:Vm},qH=t=>t/100;class jT extends MD{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:i,element:r,keyframes:o}=this.options,c=(r==null?void 0:r.KeyframeResolver)||VT,h=(f,m)=>this.onKeyframesResolved(f,m);this.resolver=new c(o,h,n,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:o,velocity:c=0}=this.options,h=mT(n)?n:HH[n]||Lm;let f,m;h!==Lm&&typeof e[0]!="number"&&(f=qh(qH,LD(e[0],e[1])),e=[0,100]);const g=h({...this.options,keyframes:e});o==="mirror"&&(m=h({...this.options,keyframes:[...e].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=gT(g));const{calculatedDuration:v}=g,E=v+r,x=E*(i+1)-r;return{generator:g,mirroredGenerator:m,mapPercentToKeyframes:f,calculatedDuration:v,resolvedDuration:E,totalDuration:x}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:r,generator:o,mirroredGenerator:c,mapPercentToKeyframes:h,keyframes:f,calculatedDuration:m,totalDuration:g,resolvedDuration:v}=i;if(this.startTime===null)return o.next(0);const{delay:E,repeat:x,repeatType:A,repeatDelay:D,onUpdate:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const P=this.currentTime-E*(this.speed>=0?1:-1),U=this.speed>=0?P<0:P>g;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let L=this.currentTime,Q=o;if(x){const C=Math.min(this.currentTime,g)/v;let I=Math.floor(C),j=C%1;!j&&C>=1&&(j=1),j===1&&I--,I=Math.min(I,x+1),!!(I%2)&&(A==="reverse"?(j=1-j,D&&(j-=D/v)):A==="mirror"&&(Q=c)),L=or(0,1,j)*v}const Y=U?{done:!1,value:f[0]}:Q.next(L);h&&(Y.value=h(Y.value));let{done:ne}=Y;!U&&m!==null&&(ne=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ne);return k&&r!==void 0&&(Y.value=_p(f,this.options,r)),N&&N(Y.value),k&&this.finish(),Y}get duration(){const{resolved:e}=this;return e?ls(e.calculatedDuration):0}get time(){return ls(this.currentTime)}set time(e){e=os(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ls(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=zH,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}get finished(){return this.currentFinishedPromise}}const GH=new Set(["opacity","clipPath","filter","transform"]),$H=hT(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),jm=10,KH=2e4;function WH(t){return mT(t.type)||t.type==="spring"||!zN(t.ease)}function YH(t,e){const n=new jT({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const r=[];let o=0;for(;!i.done&&o<KH;)i=n.sample(o),r.push(i.value),o+=jm;return{times:void 0,keyframes:r,duration:o-jm,ease:"linear"}}const BD={anticipate:yD,backInOut:gD,circInOut:vD};function QH(t){return t in BD}class uA extends MD{constructor(e){super(e);const{name:n,motionValue:i,element:r,keyframes:o}=this.options;this.resolver=new OD(o,(c,h)=>this.onKeyframesResolved(c,h),n,i,r),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:r,ease:o,type:c,motionValue:h,name:f,startTime:m}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof o=="string"&&_h()&&QH(o)&&(o=BD[o]),WH(this.options)){const{onComplete:v,onUpdate:E,motionValue:x,element:A,...D}=this.options,N=YH(e,D);e=N.keyframes,e.length===1&&(e[1]=e[0]),i=N.duration,r=N.times,o=N.ease,c="keyframes"}const g=R8(h.owner.current,f,e,{...this.options,duration:i,times:r,ease:o});return g.startTime=m??this.calcStartTime(),this.pendingTimeline?(jS(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:v}=this.options;h.set(_p(e,this.options,n)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:i,times:r,type:c,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ls(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ls(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=os(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}get finished(){return this.resolved.animation.finished}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return vi;const{animation:i}=n;jS(i,e)}return vi}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:r,type:o,ease:c,times:h}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:g,onComplete:v,element:E,...x}=this.options,A=new jT({...x,keyframes:i,duration:r,type:o,ease:c,times:h,isGenerator:!0}),D=os(this.time);m.setWithVelocity(A.sample(D-jm).value,A.sample(D).value,jm)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:r,repeatType:o,damping:c,type:h}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=n.owner.getProps();return $H()&&i&&GH.has(i)&&(i!=="transform"||!m)&&!f&&!r&&o!=="mirror"&&c!==0&&h!=="inertia"}}const XH={type:"spring",stiffness:500,damping:25,restSpeed:10},ZH=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),JH={type:"keyframes",duration:.8},eq={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},tq=(t,{keyframes:e})=>e.length>2?JH:xo.has(t)?t.startsWith("scale")?ZH(e[1]):XH:eq;function nq({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:o,repeatType:c,repeatDelay:h,from:f,elapsed:m,...g}){return!!Object.keys(g).length}const UT=(t,e,n,i={},r,o)=>c=>{const h=pT(i,t)||{},f=h.delay||i.delay||0;let{elapsed:m=0}=i;m=m-os(f);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:E=>{e.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:o?void 0:r};nq(h)||(g={...g,...tq(t,g)}),g.duration&&(g.duration=os(g.duration)),g.repeatDelay&&(g.repeatDelay=os(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(v=!0)),g.allowFlatten=!h.type&&!h.ease,v&&!o&&e.get()!==void 0){const E=_p(g.keyframes,h);if(E!==void 0)return ht.update(()=>{g.onUpdate(E),g.onComplete()}),new S8([])}return!o&&uA.supports(g)?new uA(g):new jT(g)};function iq({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function FD(t,e,{delay:n=0,transitionOverride:i,type:r}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:c,...h}=e;i&&(o=i);const f=[],m=r&&t.animationState&&t.animationState.getState()[r];for(const g in h){const v=t.getValue(g,t.latestValues[g]??null),E=h[g];if(E===void 0||m&&iq(m,g))continue;const x={delay:n,...pT(o||{},g)};let A=!1;if(window.MotionHandoffAnimation){const N=hD(t);if(N){const P=window.MotionHandoffAnimation(N,g,ht);P!==null&&(x.startTime=P,A=!0)}}iv(t,g),v.start(UT(g,v,E,t.shouldReduceMotion&&uD.has(g)?{type:!1}:x,t,A));const D=v.animation;D&&f.push(D)}return c&&Promise.all(f).then(()=>{ht.update(()=>{c&&kz(t,c)})}),f}function dv(t,e,n={}){var f;const i=wh(t,e,n.type==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const o=i?()=>Promise.all(FD(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:E}=r;return sq(t,e,g+m,v,E,n)}:()=>Promise.resolve(),{when:h}=r;if(h){const[m,g]=h==="beforeChildren"?[o,c]:[c,o];return m().then(()=>g())}else return Promise.all([o(),c(n.delay)])}function sq(t,e,n=0,i=0,r=1,o){const c=[],h=(t.variantChildren.size-1)*i,f=r===1?(m=0)=>m*i:(m=0)=>h-m*i;return Array.from(t.variantChildren).sort(rq).forEach((m,g)=>{m.notify("AnimationStart",e),c.push(dv(m,e,{...o,delay:n+f(g)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(c)}function rq(t,e){return t.sortNodePosition(e)}function aq(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(o=>dv(t,o,n));i=Promise.all(r)}else if(typeof e=="string")i=dv(t,e,n);else{const r=typeof e=="function"?wh(t,e,n.custom):e;i=Promise.all(FD(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function zD(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const oq=TT.length;function HD(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?HD(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<oq;n++){const i=TT[n],r=t.props[i];(Th(r)||r===!1)&&(e[i]=r)}return e}const lq=[...vT].reverse(),cq=vT.length;function uq(t){return e=>Promise.all(e.map(({animation:n,options:i})=>aq(t,n,i)))}function hq(t){let e=uq(t),n=hA(),i=!0;const r=f=>(m,g)=>{var E;const v=wh(t,g,f==="exit"?(E=t.presenceContext)==null?void 0:E.custom:void 0);if(v){const{transition:x,transitionEnd:A,...D}=v;m={...m,...D,...A}}return m};function o(f){e=f(t)}function c(f){const{props:m}=t,g=HD(t.parent)||{},v=[],E=new Set;let x={},A=1/0;for(let N=0;N<cq;N++){const P=lq[N],U=n[P],L=m[P]!==void 0?m[P]:g[P],Q=Th(L),Y=P===f?U.isActive:null;Y===!1&&(A=N);let ne=L===g[P]&&L!==m[P]&&Q;if(ne&&i&&t.manuallyAnimateOnMount&&(ne=!1),U.protectedKeys={...x},!U.isActive&&Y===null||!L&&!U.prevProp||gp(L)||typeof L=="boolean")continue;const k=fq(U.prevProp,L);let C=k||P===f&&U.isActive&&!ne&&Q||N>A&&Q,I=!1;const j=Array.isArray(L)?L:[L];let F=j.reduce(r(P),{});Y===!1&&(F={});const{prevResolvedValues:z={}}=U,V={...z,...F},pt=ae=>{C=!0,E.has(ae)&&(I=!0,E.delete(ae)),U.needsAnimating[ae]=!0;const fe=t.getValue(ae);fe&&(fe.liveStyle=!1)};for(const ae in V){const fe=F[ae],je=z[ae];if(x.hasOwnProperty(ae))continue;let B=!1;nv(fe)&&nv(je)?B=!zD(fe,je):B=fe!==je,B?fe!=null?pt(ae):E.add(ae):fe!==void 0&&E.has(ae)?pt(ae):U.protectedKeys[ae]=!0}U.prevProp=L,U.prevResolvedValues=F,U.isActive&&(x={...x,...F}),i&&t.blockInitialAnimation&&(C=!1),C&&(!(ne&&k)||I)&&v.push(...j.map(ae=>({animation:ae,options:{type:P}})))}if(E.size){const N={};if(typeof m.initial!="boolean"){const P=wh(t,Array.isArray(m.initial)?m.initial[0]:m.initial);P&&P.transition&&(N.transition=P.transition)}E.forEach(P=>{const U=t.getBaseTarget(P),L=t.getValue(P);L&&(L.liveStyle=!0),N[P]=U??null}),v.push({animation:N})}let D=!!v.length;return i&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(D=!1),i=!1,D?e(v):Promise.resolve()}function h(f,m){var v;if(n[f].isActive===m)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(E=>{var x;return(x=E.animationState)==null?void 0:x.setActive(f,m)}),n[f].isActive=m;const g=c(f);for(const E in n)n[E].protectedKeys={};return g}return{animateChanges:c,setActive:h,setAnimateFunction:o,getState:()=>n,reset:()=>{n=hA(),i=!0}}}function fq(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!zD(e,t):!1}function Wa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function hA(){return{animate:Wa(!0),whileInView:Wa(),whileHover:Wa(),whileTap:Wa(),whileDrag:Wa(),whileFocus:Wa(),exit:Wa()}}class ua{constructor(e){this.isMounted=!1,this.node=e}update(){}}class dq extends ua{constructor(e){super(e),e.animationState||(e.animationState=hq(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();gp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let mq=0;class pq extends ua{constructor(){super(...arguments),this.id=mq++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const gq={animation:{Feature:dq},exit:{Feature:pq}};function Sh(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Gh(t){return{point:{x:t.pageX,y:t.pageY}}}const yq=t=>e=>_T(e)&&t(e,Gh(e));function Ju(t,e,n,i){return Sh(t,e,yq(n),i)}function qD({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function _q({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function vq(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}const GD=1e-4,Tq=1-GD,Eq=1+GD,$D=.01,bq=0-$D,wq=0+$D;function kn(t){return t.max-t.min}function xq(t,e,n){return Math.abs(t-e)<=n}function fA(t,e,n,i=.5){t.origin=i,t.originPoint=Et(e.min,e.max,t.origin),t.scale=kn(n)/kn(e),t.translate=Et(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Tq&&t.scale<=Eq||isNaN(t.scale))&&(t.scale=1),(t.translate>=bq&&t.translate<=wq||isNaN(t.translate))&&(t.translate=0)}function eh(t,e,n,i){fA(t.x,e.x,n.x,i?i.originX:void 0),fA(t.y,e.y,n.y,i?i.originY:void 0)}function dA(t,e,n){t.min=n.min+e.min,t.max=t.min+kn(e)}function Sq(t,e,n){dA(t.x,e.x,n.x),dA(t.y,e.y,n.y)}function mA(t,e,n){t.min=e.min-n.min,t.max=t.min+kn(e)}function th(t,e,n){mA(t.x,e.x,n.x),mA(t.y,e.y,n.y)}const pA=()=>({translate:0,scale:1,origin:0,originPoint:0}),Rl=()=>({x:pA(),y:pA()}),gA=()=>({min:0,max:0}),kt=()=>({x:gA(),y:gA()});function pi(t){return[t("x"),t("y")]}function i_(t){return t===void 0||t===1}function mv({scale:t,scaleX:e,scaleY:n}){return!i_(t)||!i_(e)||!i_(n)}function Xa(t){return mv(t)||KD(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function KD(t){return yA(t.x)||yA(t.y)}function yA(t){return t&&t!=="0%"}function Um(t,e,n){const i=t-n,r=e*i;return n+r}function _A(t,e,n,i,r){return r!==void 0&&(t=Um(t,r,i)),Um(t,n,i)+e}function pv(t,e=0,n=1,i,r){t.min=_A(t.min,e,n,i,r),t.max=_A(t.max,e,n,i,r)}function WD(t,{x:e,y:n}){pv(t.x,e.translate,e.scale,e.originPoint),pv(t.y,n.translate,n.scale,n.originPoint)}const vA=.999999999999,TA=1.0000000000001;function Aq(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let o,c;for(let h=0;h<r;h++){o=n[h],c=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Nl(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,WD(t,c)),i&&Xa(o.latestValues)&&Nl(t,o.latestValues))}e.x<TA&&e.x>vA&&(e.x=1),e.y<TA&&e.y>vA&&(e.y=1)}function Il(t,e){t.min=t.min+e,t.max=t.max+e}function EA(t,e,n,i,r=.5){const o=Et(t.min,t.max,r);pv(t,e,n,o,i)}function Nl(t,e){EA(t.x,e.x,e.scaleX,e.scale,e.originX),EA(t.y,e.y,e.scaleY,e.scale,e.originY)}function YD(t,e){return qD(vq(t.getBoundingClientRect(),e))}function Cq(t,e,n){const i=YD(t,n),{scroll:r}=e;return r&&(Il(i.x,r.offset.x),Il(i.y,r.offset.y)),i}const QD=({current:t})=>t?t.ownerDocument.defaultView:null,bA=(t,e)=>Math.abs(t-e);function Rq(t,e){const n=bA(t.x,e.x),i=bA(t.y,e.y);return Math.sqrt(n**2+i**2)}class XD{constructor(e,n,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=r_(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,x=Rq(v.offset,{x:0,y:0})>=3;if(!E&&!x)return;const{point:A}=v,{timestamp:D}=hn;this.history.push({...A,timestamp:D});const{onStart:N,onMove:P}=this.handlers;E||(N&&N(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,v)},this.handlePointerMove=(v,E)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=s_(E,this.transformPagePoint),ht.update(this.updatePoint,!0)},this.handlePointerUp=(v,E)=>{this.end();const{onEnd:x,onSessionEnd:A,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=r_(v.type==="pointercancel"?this.lastMoveEventInfo:s_(E,this.transformPagePoint),this.history);this.startEvent&&x&&x(v,N),A&&A(v,N)},!_T(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.contextWindow=r||window;const c=Gh(e),h=s_(c,this.transformPagePoint),{point:f}=h,{timestamp:m}=hn;this.history=[{...f,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,r_(h,this.history)),this.removeListeners=qh(Ju(this.contextWindow,"pointermove",this.handlePointerMove),Ju(this.contextWindow,"pointerup",this.handlePointerUp),Ju(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),aa(this.updatePoint)}}function s_(t,e){return e?{point:e(t.point)}:t}function wA(t,e){return{x:t.x-e.x,y:t.y-e.y}}function r_({point:t},e){return{point:t,delta:wA(t,ZD(e)),offset:wA(t,Iq(e)),velocity:Nq(e,.1)}}function Iq(t){return t[0]}function ZD(t){return t[t.length-1]}function Nq(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=ZD(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>os(e)));)n--;if(!i)return{x:0,y:0};const o=ls(r.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const c={x:(r.x-i.x)/o,y:(r.y-i.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Dq(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Et(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Et(n,t,i.max):Math.min(t,n)),t}function xA(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function kq(t,{top:e,left:n,bottom:i,right:r}){return{x:xA(t.x,n,r),y:xA(t.y,e,i)}}function SA(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function Pq(t,e){return{x:SA(t.x,e.x),y:SA(t.y,e.y)}}function Oq(t,e){let n=.5;const i=kn(t),r=kn(e);return r>i?n=yh(e.min,e.max-i,t.min):i>r&&(n=yh(t.min,t.max-r,e.min)),or(0,1,n)}function Mq(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const gv=.35;function Vq(t=gv){return t===!1?t=0:t===!0&&(t=gv),{x:AA(t,"left","right"),y:AA(t,"top","bottom")}}function AA(t,e,n){return{min:CA(t,e),max:CA(t,n)}}function CA(t,e){return typeof t=="number"?t:t[e]||0}const Lq=new WeakMap;class jq{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=kt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Gh(g).point)},o=(g,v)=>{const{drag:E,dragPropagation:x,onDragStart:A}=this.getProps();if(E&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=P8(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),pi(N=>{let P=this.getAxisMotionValue(N).get()||0;if(us.test(P)){const{projection:U}=this.visualElement;if(U&&U.layout){const L=U.layout.layoutBox[N];L&&(P=kn(L)*(parseFloat(P)/100))}}this.originPoint[N]=P}),A&&ht.postRender(()=>A(g,v)),iv(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},c=(g,v)=>{const{dragPropagation:E,dragDirectionLock:x,onDirectionLock:A,onDrag:D}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:N}=v;if(x&&this.currentDirection===null){this.currentDirection=Uq(N),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",v.point,N),this.updateAxis("y",v.point,N),this.visualElement.render(),D&&D(g,v)},h=(g,v)=>this.stop(g,v),f=()=>pi(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)==null?void 0:v.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new XD(e,{onSessionStart:r,onStart:o,onMove:c,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:QD(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:o}=this.getProps();o&&ht.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!kd(e,r,this.currentDirection))return;const o=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=Dq(c,this.constraints[e],this.elastic[e])),o.set(c)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,r=this.constraints;e&&Al(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=kq(i.layoutBox,e):this.constraints=!1,this.elastic=Vq(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&pi(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=Mq(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Al(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=Cq(i,r.root,this.visualElement.getTransformPagePoint());let c=Pq(r.layout.layoutBox,o);if(n){const h=n(_q(c));this.hasMutatedConstraints=!!h,h&&(c=qD(h))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},m=pi(g=>{if(!kd(g,n,this.currentDirection))return;let v=f&&f[g]||{};c&&(v={min:0,max:0});const E=r?200:1e6,x=r?40:1e7,A={type:"inertia",velocity:i?e[g]:0,bounceStiffness:E,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(g,A)});return Promise.all(m).then(h)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return iv(this.visualElement,e),i.start(UT(e,i,0,n,this.visualElement,!1))}stopAnimation(){pi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){pi(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){pi(n=>{const{drag:i}=this.getProps();if(!kd(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(n);if(r&&r.layout){const{min:c,max:h}=r.layout.layoutBox[n];o.set(e[n]-Et(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Al(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};pi(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const f=h.get();r[c]=Oq({min:f,max:f},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),pi(c=>{if(!kd(c,e,null))return;const h=this.getAxisMotionValue(c),{min:f,max:m}=this.constraints[c];h.set(Et(f,m,r[c]))})}addListeners(){if(!this.visualElement.current)return;Lq.set(this.visualElement,this);const e=this.visualElement.current,n=Ju(e,"pointerdown",f=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();Al(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,o=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),ht.read(i);const c=Sh(window,"resize",()=>this.scalePositionWithinConstraints()),h=r.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(pi(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=f[g].translate,v.set(v.get()+f[g].translate))}),this.visualElement.render())});return()=>{c(),n(),o(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:c=gv,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:o,dragElastic:c,dragMomentum:h}}}function kd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Uq(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Bq extends ua{constructor(e){super(e),this.removeGroupControls=vi,this.removeListeners=vi,this.controls=new jq(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vi}unmount(){this.removeGroupControls(),this.removeListeners()}}const RA=t=>(e,n)=>{t&&ht.postRender(()=>t(e,n))};class Fq extends ua{constructor(){super(...arguments),this.removePointerDownListener=vi}onPointerDown(e){this.session=new XD(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:QD(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:RA(e),onStart:RA(n),onMove:i,onEnd:(o,c)=>{delete this.session,r&&ht.postRender(()=>r(o,c))}}}mount(){this.removePointerDownListener=Ju(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Wd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function IA(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ku={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(be.test(t))t=parseFloat(t);else return t;const n=IA(t,e.target.x),i=IA(t,e.target.y);return`${n}% ${i}%`}},zq={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=oa.parse(t);if(r.length>5)return i;const o=oa.createTransformer(t),c=typeof r[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;r[0+c]/=h,r[1+c]/=f;const m=Et(h,f,.5);return typeof r[2+c]=="number"&&(r[2+c]/=m),typeof r[3+c]=="number"&&(r[3+c]/=m),o(r)}};class Hq extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:o}=e;az(qq),o&&(n.group&&n.group.add(o),i&&i.register&&r&&i.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Wd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:o}=this.props,c=i.projection;return c&&(c.isPresent=o,r||e.layoutDependency!==n||n===void 0||e.isPresent!==o?c.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?c.promote():c.relegate()||ht.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),yT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function JD(t){const[e,n]=LN(),i=O.useContext(rT);return _.jsx(Hq,{...t,layoutGroup:i,switchLayoutGroup:O.useContext(XN),isPresent:e,safeToRemove:n})}const qq={borderRadius:{...ku,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ku,borderTopRightRadius:ku,borderBottomLeftRadius:ku,borderBottomRightRadius:ku,boxShadow:zq};function Gq(t,e,n){const i=An(t)?t:vh(t);return i.start(UT("",i,e,n)),i.animation}function $q(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Kq=(t,e)=>t.depth-e.depth;class Wq{constructor(){this.children=[],this.isDirty=!1}add(e){cT(this.children,e),this.isDirty=!0}remove(e){uT(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Kq),this.isDirty=!1,this.children.forEach(e)}}function Yq(t,e){const n=cs.now(),i=({timestamp:r})=>{const o=r-n;o>=e&&(aa(i),t(o-e))};return ht.read(i,!0),()=>aa(i)}const ek=["TopLeft","TopRight","BottomLeft","BottomRight"],Qq=ek.length,NA=t=>typeof t=="string"?parseFloat(t):t,DA=t=>typeof t=="number"||be.test(t);function Xq(t,e,n,i,r,o){r?(t.opacity=Et(0,n.opacity??1,Zq(i)),t.opacityExit=Et(e.opacity??1,0,Jq(i))):o&&(t.opacity=Et(e.opacity??1,n.opacity??1,i));for(let c=0;c<Qq;c++){const h=`border${ek[c]}Radius`;let f=kA(e,h),m=kA(n,h);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||DA(f)===DA(m)?(t[h]=Math.max(Et(NA(f),NA(m),i),0),(us.test(m)||us.test(f))&&(t[h]+="%")):t[h]=m}(e.rotate||n.rotate)&&(t.rotate=Et(e.rotate||0,n.rotate||0,i))}function kA(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Zq=tk(0,.5,_D),Jq=tk(.5,.95,vi);function tk(t,e,n){return i=>i<t?0:i>e?1:n(yh(t,e,i))}function PA(t,e){t.min=e.min,t.max=e.max}function mi(t,e){PA(t.x,e.x),PA(t.y,e.y)}function OA(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function MA(t,e,n,i,r){return t-=e,t=Um(t,1/n,i),r!==void 0&&(t=Um(t,1/r,i)),t}function eG(t,e=0,n=1,i=.5,r,o=t,c=t){if(us.test(e)&&(e=parseFloat(e),e=Et(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=Et(o.min,o.max,i);t===o&&(h-=e),t.min=MA(t.min,e,n,h,r),t.max=MA(t.max,e,n,h,r)}function VA(t,e,[n,i,r],o,c){eG(t,e[n],e[i],e[r],e.scale,o,c)}const tG=["x","scaleX","originX"],nG=["y","scaleY","originY"];function LA(t,e,n,i){VA(t.x,e,tG,n?n.x:void 0,i?i.x:void 0),VA(t.y,e,nG,n?n.y:void 0,i?i.y:void 0)}function jA(t){return t.translate===0&&t.scale===1}function nk(t){return jA(t.x)&&jA(t.y)}function UA(t,e){return t.min===e.min&&t.max===e.max}function iG(t,e){return UA(t.x,e.x)&&UA(t.y,e.y)}function BA(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function ik(t,e){return BA(t.x,e.x)&&BA(t.y,e.y)}function FA(t){return kn(t.x)/kn(t.y)}function zA(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class sG{constructor(){this.members=[]}add(e){cT(this.members,e),e.scheduleRender()}remove(e){if(uT(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const o=this.members[r];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function rG(t,e,n){let i="";const r=t.x.translate/e.x,o=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((r||o||c)&&(i=`translate3d(${r}px, ${o}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:v,rotateY:E,skewX:x,skewY:A}=n;m&&(i=`perspective(${m}px) ${i}`),g&&(i+=`rotate(${g}deg) `),v&&(i+=`rotateX(${v}deg) `),E&&(i+=`rotateY(${E}deg) `),x&&(i+=`skewX(${x}deg) `),A&&(i+=`skewY(${A}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(i+=`scale(${h}, ${f})`),i||"none"}const a_=["","X","Y","Z"],aG={visibility:"hidden"},HA=1e3;let oG=0;function o_(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function sk(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=hD(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ht,!(r||o))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&sk(i)}function rk({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(c={},h=e==null?void 0:e()){this.id=oG++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(uG),this.nodes.forEach(pG),this.nodes.forEach(gG),this.nodes.forEach(hG)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new Wq)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new fT),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const f=this.eventHandlers.get(c);f&&f.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=$q(c),this.instance=c;const{layoutId:f,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(m||f)&&(this.isLayoutDirty=!0),t){let v;const E=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=Yq(E,250),Wd.hasAnimatedSinceResize&&(Wd.hasAnimatedSinceResize=!1,this.nodes.forEach(GA))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:E,hasRelativeLayoutChanged:x,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||g.getDefaultTransition()||EG,{onLayoutAnimationStart:N,onLayoutAnimationComplete:P}=g.getProps(),U=!this.targetLayout||!ik(this.targetLayout,A),L=!E&&x;if(this.options.layoutRoot||this.resumeFrom||L||E&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,L);const Q={...pT(D,"layout"),onPlay:N,onComplete:P};(g.shouldReduceMotion||this.options.layoutRoot)&&(Q.delay=0,Q.type=!1),this.startAnimation(Q)}else E||GA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,aa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yG),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&sk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(qA);return}this.isUpdating||this.nodes.forEach(dG),this.isUpdating=!1,this.nodes.forEach(mG),this.nodes.forEach(lG),this.nodes.forEach(cG),this.clearAllSnapshots();const h=cs.now();hn.delta=or(0,1e3/60,h-hn.timestamp),hn.timestamp=h,hn.isProcessing=!0,Zy.update.process(hn),Zy.preRender.process(hn),Zy.render.process(hn),hn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,yT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(fG),this.sharedNodes.forEach(_G)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ht.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ht.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!kn(this.snapshot.measuredBox.x)&&!kn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=kt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!r)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!nk(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;c&&(h||Xa(this.latestValues)||g)&&(r(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return c&&(f=this.removeTransform(f)),bG(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:c}=this.options;if(!c)return kt();const h=c.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(wG))){const{scroll:g}=this.root;g&&(Il(h.x,g.offset.x),Il(h.y,g.offset.y))}return h}removeElementScroll(c){var f;const h=kt();if(mi(h,c),(f=this.scroll)!=null&&f.wasRoot)return h;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:v,options:E}=g;g!==this.root&&v&&E.layoutScroll&&(v.wasRoot&&mi(h,c),Il(h.x,v.offset.x),Il(h.y,v.offset.y))}return h}applyTransform(c,h=!1){const f=kt();mi(f,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Nl(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Xa(g.latestValues)&&Nl(f,g.latestValues)}return Xa(this.latestValues)&&Nl(f,this.latestValues),f}removeTransform(c){const h=kt();mi(h,c);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!Xa(m.latestValues))continue;mv(m.latestValues)&&m.updateSnapshot();const g=kt(),v=m.measurePageBox();mi(g,v),LA(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Xa(this.latestValues)&&LA(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==hn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var E;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=hn.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),th(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),mi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=kt(),this.targetWithTransforms=kt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Sq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):mi(this.target,this.layout.layoutBox),WD(this.target,this.targetDelta)):mi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),th(this.relativeTargetOrigin,this.target,x.target),mi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||mv(this.parent.latestValues)||KD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var A;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===hn.timestamp&&(f=!1),f)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;mi(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,E=this.treeScale.y;Aq(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=kt());const{target:x}=c;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(OA(this.prevProjectionDelta.x,this.projectionDelta.x),OA(this.prevProjectionDelta.y,this.projectionDelta.y)),eh(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==E||!zA(this.projectionDelta.x,this.prevProjectionDelta.x)||!zA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Rl(),this.projectionDelta=Rl(),this.projectionDeltaWithTransform=Rl()}setAnimationOrigin(c,h=!1){const f=this.snapshot,m=f?f.latestValues:{},g={...this.latestValues},v=Rl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=kt(),x=f?f.source:void 0,A=this.layout?this.layout.source:void 0,D=x!==A,N=this.getStack(),P=!N||N.members.length<=1,U=!!(D&&!P&&this.options.crossfade===!0&&!this.path.some(TG));this.animationProgress=0;let L;this.mixTargetDelta=Q=>{const Y=Q/1e3;$A(v.x,c.x,Y),$A(v.y,c.y,Y),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(th(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vG(this.relativeTarget,this.relativeTargetOrigin,E,Y),L&&iG(this.relativeTarget,L)&&(this.isProjectionDirty=!1),L||(L=kt()),mi(L,this.relativeTarget)),D&&(this.animationValues=g,Xq(g,m,this.latestValues,Y,U,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Y},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(aa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ht.update(()=>{Wd.hasAnimatedSinceResize=!0,this.currentAnimation=Gq(0,HA,{...c,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(HA),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:f,layout:m,latestValues:g}=c;if(!(!h||!f||!m)){if(this!==c&&this.layout&&m&&ak(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||kt();const v=kn(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+v;const E=kn(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+E}mi(h,f),Nl(h,g),eh(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new sG),this.sharedNodes.get(c).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var h;const{layoutId:c}=this.options;return c?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:c}=this.options;return c?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const m={};f.z&&o_("z",c,m,this.animationValues);for(let g=0;g<a_.length;g++)o_(`rotate${a_[g]}`,c,m,this.animationValues),o_(`skew${a_[g]}`,c,m,this.animationValues);c.render();for(const g in m)c.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return aG;const h={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=Kd(c==null?void 0:c.pointerEvents)||"",h.transform=f?f(this.latestValues,""):"none",h;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=Kd(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Xa(this.latestValues)&&(x.transform=f?f({},""):"none",this.hasProjected=!1),x}const g=m.animationValues||m.latestValues;this.applyTransformsToTarget(),h.transform=rG(this.projectionDeltaWithTransform,this.treeScale,g),f&&(h.transform=f(g,h.transform));const{x:v,y:E}=this.projectionDelta;h.transformOrigin=`${v.origin*100}% ${E.origin*100}% 0`,m.animationValues?h.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:h.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const x in Eh){if(g[x]===void 0)continue;const{correct:A,applyTo:D,isCSSVariable:N}=Eh[x],P=h.transform==="none"?g[x]:A(g[x],m);if(D){const U=D.length;for(let L=0;L<U;L++)h[D[L]]=P}else N?this.options.visualElement.renderState.vars[x]=P:h[x]=P}return this.options.layoutId&&(h.pointerEvents=m===this?Kd(c==null?void 0:c.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(qA),this.root.sharedNodes.clear()}}}function lG(t){t.updateLayout()}function cG(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:o}=t.options,c=e.source!==t.layout.source;o==="size"?pi(v=>{const E=c?e.measuredBox[v]:e.layoutBox[v],x=kn(E);E.min=i[v].min,E.max=E.min+x}):ak(o,e.layoutBox,i)&&pi(v=>{const E=c?e.measuredBox[v]:e.layoutBox[v],x=kn(i[v]);E.max=E.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+x)});const h=Rl();eh(h,i,e.layoutBox);const f=Rl();c?eh(f,t.applyTransform(r,!0),e.measuredBox):eh(f,i,e.layoutBox);const m=!nk(h);let g=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:E,layout:x}=v;if(E&&x){const A=kt();th(A,e.layoutBox,E.layoutBox);const D=kt();th(D,i,x.layoutBox),ik(A,D)||(g=!0),v.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=A,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:f,layoutDelta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function uG(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function hG(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function fG(t){t.clearSnapshot()}function qA(t){t.clearMeasurements()}function dG(t){t.isLayoutDirty=!1}function mG(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function GA(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function pG(t){t.resolveTargetDelta()}function gG(t){t.calcProjection()}function yG(t){t.resetSkewAndRotation()}function _G(t){t.removeLeadSnapshot()}function $A(t,e,n){t.translate=Et(e.translate,0,n),t.scale=Et(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function KA(t,e,n,i){t.min=Et(e.min,n.min,i),t.max=Et(e.max,n.max,i)}function vG(t,e,n,i){KA(t.x,e.x,n.x,i),KA(t.y,e.y,n.y,i)}function TG(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const EG={duration:.45,ease:[.4,0,.1,1]},WA=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),YA=WA("applewebkit/")&&!WA("chrome/")?Math.round:vi;function QA(t){t.min=YA(t.min),t.max=YA(t.max)}function bG(t){QA(t.x),QA(t.y)}function ak(t,e,n){return t==="position"||t==="preserve-aspect"&&!xq(FA(e),FA(n),.2)}function wG(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const xG=rk({attachResizeListener:(t,e)=>Sh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),l_={current:void 0},ok=rk({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!l_.current){const t=new xG({});t.mount(window),t.setOptions({layoutScroll:!0}),l_.current=t}return l_.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),SG={pan:{Feature:Fq},drag:{Feature:Bq,ProjectionNode:ok,MeasureLayout:JD}};function XA(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,o=i[r];o&&ht.postRender(()=>o(e,Gh(e)))}class AG extends ua{mount(){const{current:e}=this.node;e&&(this.unmount=M8(e,(n,i)=>(XA(this.node,i,"Start"),r=>XA(this.node,r,"End"))))}unmount(){}}class CG extends ua{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qh(Sh(this.node.current,"focus",()=>this.onFocus()),Sh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ZA(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),o=i[r];o&&ht.postRender(()=>o(e,Gh(e)))}class RG extends ua{mount(){const{current:e}=this.node;e&&(this.unmount=U8(e,(n,i)=>(ZA(this.node,i,"Start"),(r,{success:o})=>ZA(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const yv=new WeakMap,c_=new WeakMap,IG=t=>{const e=yv.get(t.target);e&&e(t)},NG=t=>{t.forEach(IG)};function DG({root:t,...e}){const n=t||document;c_.has(n)||c_.set(n,{});const i=c_.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(NG,{root:t,...e})),i[r]}function kG(t,e,n){const i=DG(e);return yv.set(t,n),i.observe(t),()=>{yv.delete(t),i.unobserve(t)}}const PG={some:0,all:1};class OG extends ua{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:o}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:PG[r]},h=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,o&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),E=m?g:v;E&&E(f)};return kG(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(MG(e,n))&&this.startObserver()}unmount(){}}function MG({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const VG={inView:{Feature:OG},tap:{Feature:RG},focus:{Feature:CG},hover:{Feature:AG}},LG={layout:{ProjectionNode:ok,MeasureLayout:JD}},_v={current:null},lk={current:!1};function jG(){if(lk.current=!0,!!oT)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>_v.current=t.matches;t.addListener(e),e()}else _v.current=!1}const UG=[...PD,vn,oa],BG=t=>UG.find(kD(t)),FG=new WeakMap;function zG(t,e,n){for(const i in e){const r=e[i],o=n[i];if(An(r))t.addValue(i,r);else if(An(o))t.addValue(i,vh(r,{owner:t}));else if(o!==r)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(r):c.hasAnimated||c.set(r)}else{const c=t.getStaticValue(i);t.addValue(i,vh(c!==void 0?c:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const JA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class HG{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:o,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=VT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=cs.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,ht.render(this.render,!1,!0))};const{latestValues:f,renderState:m,onUpdate:g}=c;this.onUpdate=g,this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=h,this.blockInitialAnimation=!!o,this.isControllingVariants=yp(n),this.isVariantNode=YN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...E}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in E){const A=E[x];f[x]!==void 0&&An(A)&&A.set(f[x],!1)}}mount(e){this.current=e,FG.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),lk.current||jG(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_v.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),aa(this.notifyUpdate),aa(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=xo.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&ht.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),o(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ql){const n=Ql[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):kt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<JA.length;i++){const r=JA[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o="on"+r,c=e[o];c&&(this.propEventSubscriptions[r]=this.on(r,c))}this.prevMotionValues=zG(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=vh(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(ND(i)||TD(i))?i=parseFloat(i):!BG(i)&&oa.test(n)&&(i=CD(e,n)),this.setBaseTarget(e,An(i)?i.get():i)),An(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const c=NT(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);c&&(i=c[e])}if(n&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!An(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new fT),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class ck extends HG{constructor(){super(...arguments),this.KeyframeResolver=OD}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;An(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function qG(t){return window.getComputedStyle(t)}class GG extends ck{constructor(){super(...arguments),this.type="html",this.renderInstance=aD}readValueFromInstance(e,n){if(xo.has(n))return iH(e,n);{const i=qG(e),r=(bT(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return YD(e,n)}build(e,n,i){ST(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return DT(e,n,i)}}class $G extends ck{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=kt,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&rD(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(xo.has(n)){const i=AD(n);return i&&i.default||0}return n=oD.has(n)?n:ET(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return cD(e,n,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&ht.postRender(this.updateDimensions)}build(e,n,i){RT(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,r){lD(e,n,i,r)}mount(e){this.isSVGTag=IT(e.tagName),super.mount(e)}}const KG=(t,e)=>CT(t)?new $G(e):new GG(e,{allowProjection:t!==O.Fragment}),WG=Nz({...gq,...VG,...SG,...LG},KG),Ke=$8(WG),uk=ut.createContext(void 0),So=()=>{const t=O.useContext(uk);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},YG=({children:t})=>{const[e,n]=O.useState(null),[i,r]=O.useState(null),[o,c]=O.useState(!1),[h,f]=O.useState(!1),[m,g]=O.useState(!1),[v,E]=O.useState(!1),[x,A]=O.useState(!0);O.useEffect(()=>{(async()=>{try{const Q=await jR(Ct);if(Q&&Q.user){const ne=Q.user;await po(ne),n(ne),c(!0)}return g8(D)}catch(Q){console.error("Error handling auth state or redirect:",Q),A(!1)}})()},[]);async function D(L){try{if(L){n(L),await L.getIdToken(!0);const Q=await L.getIdTokenResult(),Y=typeof Q.claims.role=="string"?Q.claims.role:"user";console.log("User role from claims:",Y);const ne=L.providerData.some(I=>I.providerId==="password");f(ne);const k=L.providerData.some(I=>I.providerId===ns.PROVIDER_ID);g(k);const C=L.providerData.some(I=>I.providerId==="apple.com");E(C),r(Y),c(L.emailVerified)}else n(null),c(!1),r(null)}catch(Q){console.error("Error initializing user:",Q)}finally{A(!1)}}const P={userLoggedIn:o,isEmailUser:h,isGoogleUser:m,isAppleUser:v,currentUser:e,setCurrentUser:n,role:i,loading:x,refreshUser:async()=>{Ct.currentUser&&(await Ct.currentUser.reload(),await Ct.currentUser.getIdToken(!0),await po(Ct.currentUser),D(Ct.currentUser))}},U={jump:{y:-30,transition:{duration:.8,repeat:1/0,repeatType:"mirror",ease:"easeInOut"}}};return _.jsx(uk.Provider,{value:P,children:x?_.jsxs(Ke.div,{animate:"jump",transition:{staggerChildren:-.2,staggerDirection:-1},className:"flex gap-3 justify-center items-center h-screen bg-white",children:[_.jsx(Ke.div,{className:"w-5 h-5 rounded-full bg-[#2C3E50]",variants:U}),_.jsx(Ke.div,{className:"w-5 h-5 rounded-full bg-[#2C3E50]",variants:U}),_.jsx(Ke.div,{className:"w-5 h-5 rounded-full bg-[#2C3E50]",variants:U})]}):t})},u_=({children:t,requiredRole:e,requireVerifiedEmail:n=!1})=>{const{userLoggedIn:i,currentUser:r,role:o}=So();return!i&&!r?_.jsx(Pd,{to:"/home",replace:!0}):n&&r&&!r.emailVerified?_.jsx(Pd,{to:"/home",replace:!0}):e&&o!==e&&o!=="admin"?_.jsx(Pd,{to:"/unauthorized",replace:!0}):_.jsx(_.Fragment,{children:t})},Pu="/salimbigkas/assets/sb-symbol-CIkYzaco.svg",hk="/salimbigkas/assets/salimbigkas-poppins-BUgygw_m.svg",QG=({openLoginModal:t,openHomePage:e,openAboutPage:n,openFeaturesPage:i,openContactPage:r})=>_.jsxs("header",{className:"flex bg-white max-w-[1440px] w-full px-20 py-2",children:[_.jsx("div",{className:"container mx-auto flex justify-between items-center",children:_.jsx("img",{src:hk,alt:"Salimbigkas Logo",className:"w-40"})}),_.jsx("div",{className:"flex items-center justify-center w-full",children:_.jsxs("ul",{className:"flex gap-10 text-sm font-semibold",children:[_.jsx("li",{children:_.jsx("a",{className:"cursor-pointer",target:"_blank",rel:"noopener noreferrer",onClick:e,children:"Home"})}),_.jsx("li",{children:_.jsx("a",{className:"cursor-pointer",target:"_blank",rel:"noopener noreferrer",onClick:n,children:"About"})}),_.jsx("li",{children:_.jsx("a",{className:"cursor-pointer",target:"_blank",rel:"noopener noreferrer",onClick:i,children:"Features"})}),_.jsx("li",{children:_.jsx("a",{className:"cursor-pointer",target:"_blank",rel:"noopener noreferrer",onClick:r,children:"Contact"})})]})}),_.jsx("div",{className:"flex items-center justify-center w-full",children:_.jsx("button",{type:"button",className:"ml-auto text-black text-base px-4 py-2 rounded-lg border hover:border-[#e0f2f1] shadow-md drop-shadow-lg bg-none hover:bg-[#e0f2f1]",onClick:t,children:"Mag-Login"})})]});/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XG=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ZG=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),eC=t=>{const e=ZG(t);return e.charAt(0).toUpperCase()+e.slice(1)},fk=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:o,iconNode:c,...h},f)=>O.createElement("svg",{ref:f,...JG,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:fk("lucide",r),...h},[...c.map(([m,g])=>O.createElement(m,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=(t,e)=>{const n=O.forwardRef(({className:i,...r},o)=>O.createElement(e$,{ref:o,iconNode:e,className:fk(`lucide-${XG(eC(t))}`,`lucide-${t}`,i),...r}));return n.displayName=eC(t),n};/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],dk=vt("bell",t$);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Dl=vt("book-open",n$);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],vv=vt("calendar",i$);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],r$=vt("chart-no-axes-column-increasing",s$);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],o$=vt("check",a$);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],c$=vt("chevron-right",l$);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],mk=vt("circle-alert",u$);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],f$=vt("circle-check",h$);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],m$=vt("database",d$);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=[["path",{d:"m15 18-.722-3.25",key:"1j64jw"}],["path",{d:"M2 8a10.645 10.645 0 0 0 20 0",key:"1e7gxb"}],["path",{d:"m20 15-1.726-2.05",key:"1cnuld"}],["path",{d:"m4 15 1.726-2.05",key:"1dsqqd"}],["path",{d:"m9 18 .722-3.25",key:"ypw2yx"}]],pk=vt("eye-closed",p$);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gk=vt("eye",g$);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],_$=vt("facebook",y$);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],T$=vt("file-text",v$);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Bm=vt("house",E$);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],w$=vt("instagram",b$);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],yk=vt("log-out",x$);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],A$=vt("message-square",S$);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],_k=vt("mic",C$);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],BT=vt("settings",R$);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],tC=vt("shield",I$);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],D$=vt("twitter",N$);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],P$=vt("user",k$);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Tv=vt("users",O$);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],V$=vt("x",M$),L$=async(t,e)=>{try{await u8(d8,"setUserRole")({uid:t,role:e});return}catch(n){throw console.error("Error setting user role:",n),n}},vk=({onVerified:t})=>{const[e,n]=O.useState(!0),[i,r]=O.useState(""),[o,c]=O.useState(0),{refreshUser:h}=So();O.useEffect(()=>{const m=setInterval(async()=>{var g;try{Ct.currentUser&&typeof Ct.currentUser.reload=="function"&&(await h(),(g=Ct.currentUser)!=null&&g.emailVerified&&(clearInterval(m),n(!1),await L$(Ct.currentUser.uid,"admin"),t()))}catch(v){console.error("Error checking email verification:",v)}},1e4);return()=>{clearInterval(m),n(!1)}},[Ct.currentUser,h,t]),O.useEffect(()=>{let m;return o>0&&(m=setInterval(()=>{c(g=>(g===1&&r(""),g-1))},1e3)),()=>clearInterval(m)},[o]);const f=async()=>{try{await sT(),r("A new verification email has been sent."),c(60)}catch(m){console.error("Resend verification failed:",m),r("Failed to resend email, please try again later.")}};return!Ct.currentUser||!Ct.currentUser.email?null:_.jsx(_.Fragment,{children:_.jsxs(Ke.div,{className:"max-w-md flex-1 bg-white py-10 px-15 rounded-lg shadow-lg flex flex-col items-center justify-center",initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8,y:50},transition:{duration:.3,scale:{type:"spring",bounce:.4}},children:[_.jsx(km,{children:e&&_.jsx(Ke.div,{className:"fixed top-0 left-0 w-full h-1 bg-gradient-to-r from-[#2C3E50] via-[#f39c12] to-[#2C3E50] z-50",initial:{width:"0%"},animate:{width:"100%"},exit:{opacity:0},transition:{duration:2,ease:"linear",repeat:1/0,repeatType:"loop"}})}),_.jsx(km,{children:i&&_.jsx(Ke.div,{className:"flex mt-5 mb-4 py-5 px-10 bg-green-100 justify-center items-center rounded-sm shadow-sm drop-shadow-sm",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:_.jsx("p",{className:"text-sm text-green-600",children:i})})}),_.jsx("h2",{className:"text-xl font-bold mb-4",children:"Verify Your Email"}),_.jsx("p",{className:"text-justify text-sm text-gray-600",children:"A verification email has been sent to your inbox."}),_.jsxs("p",{className:"mb-4 text-center text-sm text-gray-600",children:["Please check your email (and spam folder) ",`
`,"and click on the verification link."]}),_.jsx("p",{className:"mb-4 text-center text-sm text-gray-600",children:"We are checking your verification status..."}),_.jsx("button",{type:"button",onClick:f,disabled:o>0,className:`w-full bg-[#2C3E50] text-white p-3 rounded-lg shadow-md drop-shadow-lg transition duration-300 ${o>0?"opacity-50 cursor-not-allowed":"hover:bg-[#34495e]"}`,children:o>0?`Resend in ${o}s`:"Resend Verification Email"})]})})},j$=({isOpen:t,onClose:e})=>{const[n,i]=O.useState(""),[r,o]=O.useState(""),[c,h]=O.useState(!1),f=async m=>{if(m.preventDefault(),!c){h(!0);try{await y8(n),o("Password reset email sent successfully!")}catch{o("Failed to send password reset email. Please check your email address.")}finally{h(!1)}}};return t?_.jsx(_.Fragment,{children:_.jsxs(Ke.div,{className:"relative max-w-md flex-1 bg-white py-10 px-15 rounded-lg shadow-lg",initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8,y:50},transition:{duration:.3,scale:{type:"spring",visualDuration:.4,bounce:.4}},children:[_.jsx("a",{className:"absolute top-3 right-5 text-black text-2xl cursor-pointer",onClick:e,children:"×"}),_.jsx(km,{children:r&&_.jsx(Ke.div,{className:`flex mt-5 mb-4 py-5 px-12 ${c?"bg-green-100":"bg-[#FBE6E6]"} justify-center items-center rounded-sm shadow-sm drop-shadow-sm`,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:c?_.jsxs(_.Fragment,{children:[_.jsx(f$,{size:20,className:"absolute top-auto left-6 text-green-600"}),_.jsx("p",{className:"text-sm text-green-600",children:r})]}):_.jsxs(_.Fragment,{children:[_.jsx(mk,{size:20,className:"absolute top-auto left-6 text-red-600"}),_.jsx("p",{className:"text-sm text-[#D30001]",children:r})]})})}),_.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Forgot Password"}),_.jsx("p",{className:"text-center text-md text-gray-500",children:"Enter your email address and we'll send you a link to reset your password."}),_.jsxs("form",{onSubmit:f,children:[_.jsxs("div",{className:"mt-8 mb-4 text-left relative",children:[_.jsx("input",{name:"email",type:"email",id:"email",autoComplete:"email",required:!0,autoFocus:!0,minLength:1,maxLength:30,className:`w-full p-4 border rounded-sm transition-all duration-300 focus:ring-2 focus:ring-[#2C3E50] focus:outline-none ${n?"border-[#2C3E50]":"border-gray-300"}`,placeholder:" ",value:n,onChange:m=>i(m.target.value),onKeyDown:()=>{o("")}}),_.jsx("label",{htmlFor:"email",className:`absolute text-sm font-medium left-4 top-4 text-[#2C3E50] px-1 transition-all duration-300 transform ${n?"bg-white top-[-10px] text-[#2C3E50] text-sm":"top-4 text-gray-500 text-base"}`,children:"Email"})]}),_.jsx("button",{type:"submit",className:`w-full mt-6 bg-[#2C3E50] text-white p-4 rounded-lg shadow-md drop-shadow-lg ${c?"opacity-80 cursor-not-allowed":"hover:font-medium hover:border-[#386BF6] hover:bg-[#34495e]"}`,children:c?_.jsxs("div",{className:"flex items-center justify-center",children:[_.jsxs("svg",{className:"animate-spin size-5 mr-3 text-white",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[_.jsx("path",{d:"M12 2C6.47715 2 2 6.47715 2 12H5C5 7.58172 8.58172 4 12 4V2Z",fill:"currentColor"}),_.jsx("path",{d:"M12 22C17.5228 22 22 17.5228 22 12H19C19 16.4183 15.4183 20 12 20V22Z",fill:"currentColor"})]}),"Processing..."]}):"Reset Password"})]})]})}):null},Tk=({onGoogleSignIn:t,isSigningInWithGoogle:e,onFacebookSignIn:n,isSigningInWithFacebook:i})=>_.jsxs(_.Fragment,{children:[_.jsxs("button",{type:"button",disabled:e,onClick:r=>{t(r)},className:`relative w-full flex mt-5 items-center justify-center text-black p-4 border rounded-lg shadow-md drop-shadow-lg ${e?"cursor-not-allowed":"hover:bg-[#e0f2f1] hover:text-[#2C3E50]  hover:border-[#386BF6] transition duration-300 active:bg-[#ecf0f1]"}`,children:[_.jsxs("svg",{className:"w-5 h-5 absolute top-auto left-5",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[_.jsxs("g",{clipPath:"url(#clip0_17_40)",children:[_.jsx("path",{d:"M47.532 24.5528C47.532 22.9214 47.3997 21.2811 47.1175 19.6761H24.48V28.9181H37.4434C36.9055 31.8988 35.177 34.5356 32.6461 36.2111V42.2078H40.3801C44.9217 38.0278 47.532 31.8547 47.532 24.5528Z",fill:"#4285F4"}),_.jsx("path",{d:"M24.48 48.0016C30.9529 48.0016 36.4116 45.8764 40.3888 42.2078L32.6549 36.2111C30.5031 37.675 27.7252 38.5039 24.4888 38.5039C18.2275 38.5039 12.9187 34.2798 11.0139 28.6006H3.03296V34.7825C7.10718 42.8868 15.4056 48.0016 24.48 48.0016Z",fill:"#34A853"}),_.jsx("path",{d:"M11.0051 28.6006C9.99973 25.6199 9.99973 22.3922 11.0051 19.4115V13.2296H3.03298C-0.371021 20.0112 -0.371021 28.0009 3.03298 34.7825L11.0051 28.6006Z",fill:"#FBBC04"}),_.jsx("path",{d:"M24.48 9.49932C27.9016 9.44641 31.2086 10.7339 33.6866 13.0973L40.5387 6.24523C36.2 2.17101 30.4414 -0.068932 24.48 0.00161733C15.4055 0.00161733 7.10718 5.11644 3.03296 13.2296L11.005 19.4115C12.901 13.7235 18.2187 9.49932 24.48 9.49932Z",fill:"#EA4335"})]}),_.jsx("defs",{children:_.jsx("clipPath",{id:"clip0_17_40",children:_.jsx("rect",{width:"48",height:"48",fill:"white"})})})]}),e?_.jsxs("div",{className:"flex items-center justify-center",children:[_.jsxs("svg",{className:"animate-spin size-5 mr-3 text-white",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[_.jsx("path",{d:"M12 2C6.47715 2 2 6.47715 2 12H5C5 7.58172 8.58172 4 12 4V2Z",fill:"currentColor"}),_.jsx("path",{d:"M12 22C17.5228 22 22 17.5228 22 12H19C19 16.4183 15.4183 20 12 20V22Z",fill:"currentColor"})]}),"Processing..."]}):"Continue with Google"]}),_.jsxs("button",{type:"button",disabled:i,onClick:r=>{n(r)},className:`relative w-full flex mt-4 items-center justify-center text-black p-4 border rounded-lg shadow-md drop-shadow-lg ${i?"cursor-not-allowed":"hover:bg-[#e0f2f1] hover:text-[#2C3E50]  hover:border-[#386BF6] transition duration-300 active:bg-[#ecf0f1]"}`,children:[_.jsxs("svg",{className:"w-6 h-6 absolute top-auto left-5",xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",children:[_.jsx("path",{fill:"#1877F2",d:"M15 8a7 7 0 00-7-7 7 7 0 00-1.094 13.915v-4.892H5.13V8h1.777V6.458c0-1.754 1.045-2.724 2.644-2.724.766 0 1.567.137 1.567.137v1.723h-.883c-.87 0-1.14.54-1.14 1.093V8h1.941l-.31 2.023H9.094v4.892A7.001 7.001 0 0015 8z"}),_.jsx("path",{fill:"#ffffff",d:"M10.725 10.023L11.035 8H9.094V6.687c0-.553.27-1.093 1.14-1.093h.883V3.87s-.801-.137-1.567-.137c-1.6 0-2.644.97-2.644 2.724V8H5.13v2.023h1.777v4.892a7.037 7.037 0 002.188 0v-4.892h1.63z"})]}),i?_.jsxs("div",{className:"flex items-center justify-center",children:[_.jsxs("svg",{className:"animate-spin size-5 mr-3 text-white",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[_.jsx("path",{d:"M12 2C6.47715 2 2 6.47715 2 12H5C5 7.58172 8.58172 4 12 4V2Z",fill:"currentColor"}),_.jsx("path",{d:"M12 22C17.5228 22 22 17.5228 22 12H19C19 16.4183 15.4183 20 12 20V22Z",fill:"currentColor"})]}),"Processing..."]}):"Continue with Facebook"]})]}),U$=({isOpen:t,onClose:e,onSwitch:n})=>{const[i,r]=O.useState(""),[o,c]=O.useState(""),[h,f]=O.useState(!1),[m,g]=O.useState(!1),[v,E]=O.useState(!1),[x,A]=O.useState(""),[D,N]=O.useState(!1),[P,U]=O.useState(!0),[L,Q]=O.useState(!1),[Y,ne]=O.useState(!1),k=cr(),{userLoggedIn:C,currentUser:I,role:j}=So(),F=async Ie=>{if(Ie.preventDefault(),!h){f(!0);try{await p8(i,o,P),I&&!I.emailVerified&&Q(!0)}catch(J){const ae=J.code==="auth/user-not-found"||J.code==="auth/wrong-password"?"Invalid email or password. Please try again.":"We couldn't find your account. Please check your email and password.";A(ae)}finally{f(!1)}}},z=Ie=>{Ie.preventDefault(),m||(g(!0),kN().catch(()=>{g(!1),A("An error occurred while signing in with Google. Please try again.")}))},V=Ie=>{Ie.preventDefault(),v||(E(!0),PN().catch(()=>{E(!1),A("An error occurred while signing in with Facebook. Please try again.")}))},pt=Ie=>{Ie.preventDefault(),ne(!0)};return Y?_.jsx(j$,{isOpen:Y,onClose:()=>ne(!1)}):L?_.jsx(vk,{onVerified:()=>k(`/${j}`)}):C?_.jsx(Pd,{to:`/${j}`,replace:!0}):t?_.jsx(_.Fragment,{children:_.jsxs(Ke.div,{className:"relative max-w-md flex-1 bg-white py-10 px-15 rounded-lg shadow-lg",initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8,y:50},transition:{duration:.3,scale:{type:"spring",visualDuration:.4,bounce:.4}},children:[_.jsx("a",{className:"absolute top-3 right-5 text-black text-2xl cursor-pointer",onClick:e,children:"×"}),_.jsx(km,{children:x&&_.jsxs(Ke.div,{className:"relative flex mt-5 mb-4 py-5 px-15 bg-[#FBE6E6] text-xs justify-center items-center rounded-sm shadow-sm drop-shadow-sm",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:[_.jsx(mk,{size:20,className:"absolute top-auto left-6 text-red-600"}),_.jsx("p",{className:"text-[#D30001]",children:x})]})}),_.jsx("h2",{className:"text-xl font-bold mb-4",children:"SalimBigkas Account"}),_.jsxs("form",{onSubmit:F,children:[_.jsxs("div",{className:"mt-10 mb-4 text-left relative",children:[_.jsx("input",{disabled:h,name:"email",type:"email",id:"email",autoComplete:"email",required:!0,autoFocus:!0,minLength:1,maxLength:30,className:`w-full p-4 border rounded-sm transition-all duration-300 focus:ring-2 focus:ring-[#2C3E50] focus:outline-none ${i?"border-[#2C3E50]":"border-gray-300"}`,placeholder:" ",value:i,onChange:Ie=>r(Ie.target.value),onKeyDown:()=>{A("")}}),_.jsx("label",{htmlFor:"email",className:`absolute text-sm font-medium left-4 top-4 text-[#2C3E50] px-1 transition-all duration-300 transform ${i?"bg-white top-[-10px] text-[#2C3E50] text-sm":"top-4 text-gray-500 text-base"}`,children:"Email"})]}),_.jsxs("div",{className:"mt-5 mb-4 text-left relative",children:[_.jsx("input",{disabled:h,name:"password",type:D?"text":"password",id:"password",autoComplete:"current-password",required:!0,minLength:8,maxLength:20,className:`w-full p-4 border rounded-sm transition-all duration-300 focus:ring-2 focus:ring-[#2C3E50] focus:outline-none ${o?"border-[#2C3E50]":"border-gray-300"}`,placeholder:" ",value:o,onChange:Ie=>c(Ie.target.value),onKeyDown:()=>{A("")}}),_.jsx("button",{type:"button",className:"absolute right-4 top-4.5 border-none bg-transparent cursor-pointer",onClick:()=>N(!D),children:D?_.jsx(gk,{size:24,color:`${o?"#2C3E50":"oklch(87.2% 0.01 258.338)"}`}):_.jsx(pk,{size:24,color:`${o?"#2C3E50":"oklch(87.2% 0.01 258.338)"}`})}),_.jsx("label",{htmlFor:"password",className:`absolute text-sm font-medium left-4 top-4 text-[#2C3E50] px-1 transition-all duration-300 transform ${o?"bg-white top-[-10px] text-[#2C3E50] text-sm":"top-4 text-gray-500 text-base"}`,children:"Password"})]}),_.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{onClick:()=>U(!P),className:`w-12 h-6 flex items-center rounded-full p-1 cursor-pointer transition-colors duration-300 ${P?"bg-[#2C3E50]":"bg-gray-300"}`,children:_.jsx("div",{className:`relative bg-white w-4 h-4 rounded-full shadow-md transform transition-transform duration-300 ${P?"translate-x-6":"translate-x-0"}`,children:P?_.jsx(o$,{size:8,strokeWidth:5,className:"absolute inset-0 m-auto"}):_.jsx(V$,{size:8,strokeWidth:5,className:"absolute inset-0 m-auto"})})}),_.jsx("span",{className:`${P?"font-medium text-gray-700":"text-gray-600"}`,children:P?"You’ll stay logged in":"Remember me?"})]}),_.jsx("a",{className:"text-[#2C3E50] hover:underline",href:"#",onClick:pt,children:"Forgot password?"})]}),_.jsx("button",{type:"submit",className:`w-full mt-6 bg-[#2C3E50] text-white p-4 rounded-lg shadow-md drop-shadow-lg ${h?"opacity-80 cursor-not-allowed":"hover:font-medium hover:border-[#386BF6] hover:bg-[#34495e]"}`,children:h?_.jsxs("div",{className:"flex items-center justify-center",children:[_.jsxs("svg",{className:"animate-spin size-5 mr-3 text-white",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[_.jsx("path",{d:"M12 2C6.47715 2 2 6.47715 2 12H5C5 7.58172 8.58172 4 12 4V2Z",fill:"currentColor"}),_.jsx("path",{d:"M12 22C17.5228 22 22 17.5228 22 12H19C19 16.4183 15.4183 20 12 20V22Z",fill:"currentColor"})]}),"Processing..."]}):"Login"})]}),_.jsxs("div",{className:"flex flex-row mt-5 w-full",children:[_.jsx("div",{className:"border-b-1 mb-2.5 mr-2 w-full border-gray-200"}),_.jsx("div",{className:"text-sm mb-0.5 w-fit text-gray-500",children:"or"}),_.jsx("div",{className:"border-b-2 mb-2.5 ml-2 w-full border-gray-200"})]}),_.jsx(Tk,{onGoogleSignIn:z,onFacebookSignIn:V,isSigningInWithGoogle:m,isSigningInWithFacebook:v}),_.jsxs("p",{className:"mt-4 text-sm",children:["New to SalimBigkas?",_.jsx("a",{href:"/signup",className:"ml-1 cursor-pointer hover:underline",target:"_blank",rel:"noopener noreferrer","aria-label":"Create a new account",onClick:Ie=>{Ie.preventDefault(),n()},children:"Create yours now."})]})]})}):null},B$=({isOpen:t,onClose:e,onSwitch:n})=>{const[i,r]=O.useState(""),[o,c]=O.useState(""),[h,f]=O.useState(""),[m,g]=O.useState(!1),[v,E]=O.useState(!1),[x,A]=O.useState(!1),[D,N]=O.useState(!1),[P,U]=O.useState(""),[L,Q]=O.useState(!1),[Y,ne]=O.useState(!1),k=cr(),{role:C}=So(),I=async z=>{if(z.preventDefault(),!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(h)){U("Password must be at least 8 characters long and contain at least one uppercase letter, one lowercase letter, one number, and one special character.");return}if(!D){N(!0),U("");try{await m8(o,h,i),ne(!0)}catch{U("The email address is already in use. Please use a different email.")}finally{N(!1)}}},j=z=>{z.preventDefault(),m||(E(!0),kN().catch(()=>{g(!1),U("An error occurred while signing in with Google. Please try again.")}))},F=z=>{z.preventDefault(),m||(A(!0),PN().catch(()=>{g(!1),U("An error occurred while signing in with Apple. Please try again.")}))};return Y?_.jsx(vk,{onVerified:()=>{k(`/${C}`)}}):t?_.jsx(_.Fragment,{children:_.jsxs(Ke.div,{className:"relative max-w-md flex-1 bg-white py-10 px-15 rounded-lg shadow-lg",initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8,y:50},transition:{duration:.3,scale:{type:"spring",visualDuration:.4,bounce:.4}},children:[_.jsx("a",{className:"absolute top-3 right-5 text-black text-2xl cursor-pointer",onClick:e,children:"×"}),P&&_.jsxs(Ke.div,{className:"relative flex mt-5 mb-4 py-5 px-15 bg-[#FBE6E6] text-xs justify-center items-center rounded-sm shadow-sm drop-shadow-sm",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:[_.jsx("svg",{className:"w-5 h-5 absolute top-auto left-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"rgb(211, 0, 1)",children:_.jsx("path",{d:"M7.493 0.015 C 7.442 0.021,7.268 0.039,7.107 0.055 C 5.234 0.242,3.347 1.208,2.071 2.634 C 0.660 4.211,-0.057 6.168,0.009 8.253 C 0.124 11.854,2.599 14.903,6.110 15.771 C 8.169 16.280,10.433 15.917,12.227 14.791 C 14.017 13.666,15.270 11.933,15.771 9.887 C 15.943 9.186,15.983 8.829,15.983 8.000 C 15.983 7.171,15.943 6.814,15.771 6.113 C 14.979 2.878,12.315 0.498,9.000 0.064 C 8.716 0.027,7.683 -0.006,7.493 0.015 M8.853 1.563 C 9.967 1.707,11.010 2.136,11.944 2.834 C 12.273 3.080,12.920 3.727,13.166 4.056 C 13.727 4.807,14.142 5.690,14.330 6.535 C 14.544 7.500,14.544 8.500,14.330 9.465 C 13.916 11.326,12.605 12.978,10.867 13.828 C 10.239 14.135,9.591 14.336,8.880 14.444 C 8.456 14.509,7.544 14.509,7.120 14.444 C 5.172 14.148,3.528 13.085,2.493 11.451 C 2.279 11.114,1.999 10.526,1.859 10.119 C 1.618 9.422,1.514 8.781,1.514 8.000 C 1.514 6.961,1.715 6.075,2.160 5.160 C 2.500 4.462,2.846 3.980,3.413 3.413 C 3.980 2.846,4.462 2.500,5.160 2.160 C 6.313 1.599,7.567 1.397,8.853 1.563 M7.706 4.290 C 7.482 4.363,7.355 4.491,7.293 4.705 C 7.257 4.827,7.253 5.106,7.259 6.816 C 7.267 8.786,7.267 8.787,7.325 8.896 C 7.398 9.033,7.538 9.157,7.671 9.204 C 7.803 9.250,8.197 9.250,8.329 9.204 C 8.462 9.157,8.602 9.033,8.675 8.896 C 8.733 8.787,8.733 8.786,8.741 6.816 C 8.749 4.664,8.749 4.662,8.596 4.481 C 8.472 4.333,8.339 4.284,8.040 4.276 C 7.893 4.272,7.743 4.278,7.706 4.290 M7.786 10.530 C 7.597 10.592,7.410 10.753,7.319 10.932 C 7.249 11.072,7.237 11.325,7.294 11.495 C 7.388 11.780,7.697 12.000,8.000 12.000 C 8.303 12.000,8.612 11.780,8.706 11.495 C 8.763 11.325,8.751 11.072,8.681 10.932 C 8.616 10.804,8.460 10.646,8.333 10.580 C 8.217 10.520,7.904 10.491,7.786 10.530 ",stroke:"none"})}),_.jsx("p",{children:P})]}),_.jsx("h2",{className:"text-xl font-bold mb-4",children:"Create Your SalimBigkas Account"}),_.jsxs("form",{onSubmit:I,children:[_.jsxs("div",{className:"mt-10 mb-4 text-left relative",children:[_.jsx("input",{disabled:D,name:"fullname",type:"text",id:"fullname",autoComplete:"name",required:!0,autoFocus:!0,minLength:1,maxLength:30,className:`w-full p-4 border rounded-sm transition-all duration-300 focus:ring-2 focus:ring-[#2C3E50] focus:outline-none ${i?"border-[#2C3E50]":"border-gray-300"}`,placeholder:" ",value:i,onChange:z=>r(z.target.value),onKeyDown:z=>{if(U(""),!/^[a-zA-Z\s]*$/.test(z.key)&&z.key!=="Backspace"&&z.key!=="Delete"){z.preventDefault(),U("Please enter a valid name. Only letters and spaces are allowed.");return}}}),_.jsx("label",{className:`absolute text-sm font-medium left-4 top-4 text-[#2C3E50] px-1 transition-all duration-300 transform ${i?"bg-white top-[-10px] text-[#2C3E50] text-sm":"top-4 text-gray-500 text-base"}`,htmlFor:"fullname",children:"Full Name"})]}),_.jsxs("div",{className:"mt-5 mb-4 text-left relative",children:[_.jsx("input",{disabled:D,name:"email",type:"email",id:"email",autoComplete:"email",required:!0,minLength:1,maxLength:30,className:`w-full p-4 border rounded-sm transition-all duration-300 focus:ring-2 focus:ring-[#2C3E50] focus:outline-none ${o?"border-[#2C3E50]":"border-gray-300"}`,placeholder:" ",value:o,onChange:z=>c(z.target.value),onKeyDown:()=>{U("")}}),_.jsx("label",{className:`absolute text-sm font-medium left-4 top-4 text-[#2C3E50] px-1 transition-all duration-300 transform ${o?"bg-white top-[-10px] text-[#2C3E50] text-sm":"top-4 text-gray-500 text-base"}`,htmlFor:"email",children:"Email"})]}),_.jsxs("div",{className:"mt-5 mb-4 text-left relative",children:[_.jsx("input",{disabled:D,name:"password",type:L?"text":"password",id:"password",autoComplete:"current-password",required:!0,minLength:8,maxLength:20,className:`w-full p-4 border rounded-sm transition-all duration-300 focus:ring-2 focus:ring-[#2C3E50] focus:outline-none ${h?"border-[#2C3E50]":"border-gray-300"}`,placeholder:" ",value:h,onChange:z=>f(z.target.value),onKeyDown:()=>{U("")}}),_.jsx("button",{type:"button",className:"absolute right-4 top-4.5 border-none bg-transparent cursor-pointer",onClick:()=>Q(!L),children:L?_.jsx(gk,{size:24,color:`${h?"#2C3E50":"oklch(87.2% 0.01 258.338)"}`}):_.jsx(pk,{size:24,color:`${h?"#2C3E50":"oklch(87.2% 0.01 258.338)"}`})}),_.jsx("label",{htmlFor:"password",className:`absolute text-sm font-medium left-4 top-4 text-[#2C3E50] px-1 transition-all duration-300 transform ${h?"bg-white top-[-10px] text-[#2C3E50] text-sm":"top-4 text-gray-500 text-base"}`,children:"Password"})]}),_.jsx("button",{type:"submit",className:`w-full mt-5 bg-[#2C3E50] text-white p-4 rounded-lg shadow-md drop-shadow-lg ${D?"opacity-50 cursor-not-allowed":"hover:font-medium hover:border-[#386BF6] hover:bg-[#34495e]"}`,disabled:D,children:D?_.jsxs("div",{className:"flex items-center justify-center",children:[_.jsxs("svg",{className:"animate-spin mr-3 size-5 text-white",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[_.jsx("path",{d:"M12 2C6.47715 2 2 6.47715 2 12H5C5 7.58172 8.58172 4 12 4V2Z",fill:"currentColor"}),_.jsx("path",{d:"M12 22C17.5228 22 22 17.5228 22 12H19C19 16.4183 15.4183 20 12 20V22Z",fill:"currentColor"})]}),"Processing..."]}):"Register"})]}),_.jsxs("div",{className:"flex flex-row mt-5 w-full",children:[_.jsx("div",{className:"border-b-1 mb-2.5 mr-2 w-full border-gray-200"}),_.jsx("div",{className:"text-sm mb-0.5 w-fit text-gray-500",children:"or"}),_.jsx("div",{className:"border-b-2 mb-2.5 ml-2 w-full border-gray-200"})]}),_.jsx(Tk,{onGoogleSignIn:j,onFacebookSignIn:F,isSigningInWithGoogle:v,isSigningInWithFacebook:x}),_.jsxs("p",{className:"mt-4 text-sm",children:["Already on SalimBigkas?",_.jsx("a",{href:"/login",className:"ml-1 cursor-pointer hover:underline",target:"_blank",rel:"noopener noreferrer",onClick:z=>{z.preventDefault(),n()},children:"Login"}),"."]})]})}):null},F$=()=>_.jsxs("footer",{className:"py-8",children:[_.jsxs("div",{className:"container mx-auto px-4 grid grid-cols-1 md:grid-cols-4 gap-8 text-left",children:[_.jsxs("div",{className:"flex flex-col",children:[_.jsx("img",{src:hk,alt:"Salimbigkas Logo",className:"w-40 mb-4"}),_.jsx("p",{className:"text-sm",children:"Transforming Filipino language education through AI-powered learning."})]}),_.jsxs("div",{className:"flex flex-col px-10",children:[_.jsx("h2",{className:"font-bold text-lg mb-2",children:"Contact Us"}),_.jsxs("ul",{className:"space-y-2 text-sm",children:[_.jsxs("li",{children:[_.jsx("span",{children:"Email: "}),_.jsx("a",{href:"mailto:salimbigkas@gmail.com",className:"text-blue-400 hover:underline",children:"salimbigkas@gmail.com"})]}),_.jsxs("li",{children:[_.jsx("span",{children:"Phone: "}),_.jsx("a",{href:"tel:+639123456789",className:"text-blue-400 hover:underline",children:"+63 912 345 6789"})]}),_.jsxs("li",{children:[_.jsx("span",{children:"Address: "}),_.jsx("a",{href:"https://goo.gl/maps/xyz",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"View on Google Maps"})]})]})]}),_.jsxs("div",{className:"flex flex-col px-10",children:[_.jsx("h2",{className:"font-bold text-lg mb-2",children:"Legal"}),_.jsxs("ul",{className:"space-y-2 text-sm",children:[_.jsx("li",{children:_.jsx("a",{href:"/terms",className:"text-blue-400 hover:underline",children:"Terms of Service"})}),_.jsx("li",{children:_.jsx("a",{href:"/privacy",className:"text-blue-400 hover:underline",children:"Privacy Policy"})}),_.jsx("li",{children:_.jsx("a",{href:"/cookies",className:"text-blue-400 hover:underline",children:"Cookie Policy"})})]})]}),_.jsxs("div",{className:"flex flex-col px-10",children:[_.jsx("h2",{className:"font-bold text-lg mb-2",children:"Resources"}),_.jsxs("ul",{className:"space-y-2 text-sm",children:[_.jsx("li",{children:_.jsx("a",{href:"/faq",className:"text-blue-400 hover:underline",children:"FAQ"})}),_.jsx("li",{children:_.jsx("a",{href:"/support",className:"text-blue-400 hover:underline",children:"Support"})})]})]})]}),_.jsx("div",{className:"border-t border-gray-200 my-6 mt-20"}),_.jsxs("div",{className:"container mx-auto flex flex-col md:flex-row justify-between items-center text-sm px-4 mt-15",children:[_.jsxs("p",{children:["© ",new Date().getFullYear()," SalimBigkas Team. All rights reserved."]}),_.jsxs("div",{className:"flex space-x-4 mt-4 md:mt-0",children:[_.jsx("a",{title:"Visit our facebook profile",href:"https://www.facebook.com/salimbigkas",target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-500 rounded-full p-1 bg-[#2C3E50]",children:_.jsx(_$,{color:"white",className:"w-6 h-6 inline-block"})}),_.jsx("a",{title:"Visit our twitter profile",href:"https://twitter.com/salimbigkas",target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-400 rounded-full p-1 bg-[#2C3E50]",children:_.jsx(D$,{color:"white",className:"w-5 h-5 inline-block"})}),_.jsx("a",{title:"Visit our instagram profile",href:"https://www.instagram.com/salimbigkas/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-pink-500 rounded-full p-1 bg-[#2C3E50]",children:_.jsx(w$,{color:"white",className:"w-5 h-5 inline-block"})})]})]})]}),nC=()=>{const[t,e]=O.useState(!1),[n,i]=O.useState(!0),r=()=>{e(!0),i(!0)},o=()=>{e(!0),i(!1)},c=()=>{e(!1)};return _.jsxs("div",{className:"flex flex-col mx-auto bg-white",children:[_.jsx("div",{className:"w-full sticky top-0 left-0 right-0 z-50 bg-white border-b border-gray-200 shadow-sm",children:_.jsx("div",{className:"max-w-[1440px] mx-auto flex justify-center items-center",children:_.jsx(QG,{openHomePage:()=>window.scrollTo({top:0,behavior:"smooth"}),openAboutPage:()=>{var h;return(h=document.getElementById("about-section"))==null?void 0:h.scrollIntoView({behavior:"smooth"})},openFeaturesPage:()=>{var h;return(h=document.getElementById("features"))==null?void 0:h.scrollIntoView({behavior:"smooth"})},openContactPage:()=>{var h;return(h=document.getElementById("contact"))==null?void 0:h.scrollIntoView({behavior:"smooth"})},openLoginModal:r})})}),_.jsx("div",{className:"w-full h-[600px] bg-gradient-to-b from-[#e0f2f1] via-[#e0f2f1]/80 to-[#ffffff] shadow-sm rounded-bl-4xl rounded-br-4xl border border-gray-200",children:_.jsxs("div",{className:"max-w-[1440px] mx-auto flex h-full px-40 py-10 gap-10 justify-center items-center",children:[_.jsxs("div",{className:"flex flex-col h-full text-left justify-center items-start",children:[_.jsx("h1",{className:"text-7xl leading-[5rem] font-semibold",children:"Tuklasin ang Galing sa Wikang Filipino!"}),_.jsxs("h2",{className:"w-xl mt-5 text-xl font-medium",children:["Isang makabagong plataporma para sa batang mag-aaral. ",_.jsx("br",{}),"Matuto nang mas madali at mas matalino. Simulan ang iyong paglalakbay sa wika ngayon."]}),_.jsxs("div",{className:"flex flex-col mt-10",children:[_.jsx("button",{type:"button",className:"text-white text-[1.2rem] px-15 py-6 rounded-4xl shadow-sm drop-shadow-lg bg-[#2C3E50] hover:bg-[#34495e]",children:"Simulan ang Pag-aaral"}),_.jsxs("h2",{className:"mt-5 mb-5",children:["Wala pang account?",_.jsx("a",{className:"cursor-pointer hover:underline ml-1 text-[#2C3E50] font-semibold",href:"/register",onClick:h=>{h.preventDefault(),o()},children:"Magrehistro!"})]})]})]}),_.jsx("div",{className:"flex h-full justify-center items-center",children:_.jsx("img",{src:Pu,alt:"Sample Icon",className:"size-150"})})]})}),_.jsx("div",{id:"features",className:"w-full py-10",children:_.jsxs("div",{className:"max-w-[1440px] mx-auto flex flex-col px-40 py-10 gap-5 justify-center items-center",children:[_.jsx("h1",{className:"text-3xl font-semibold",children:"Why choose SalimBigkas?"}),_.jsx("h2",{className:" text-gray-500 text-xl font-medium",children:"Comprehensive learning tools designed for modern education"}),_.jsx("div",{className:"flex w-full py-40 bg-white",children:_.jsxs(Ke.div,{className:"flex w-full justify-between items-center transition duration-300 ease-in-out hover:-translate-y-2",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,ease:"easeOut"},children:[_.jsx("img",{src:Pu,alt:"Sample Icon",className:"size-50"}),_.jsxs("div",{className:"flex flex-col text-left",children:[_.jsx("h2",{className:"mt-5 text-5xl font-bold",children:"Adaptive Learning"}),_.jsx("p",{className:"mt-5 text-xl text-gray-500",children:"Personalized learning paths for every child"})]})]})}),_.jsx("div",{className:"flex w-full py-40 bg-white",children:_.jsxs(Ke.div,{className:"flex w-full justify-between items-center transition duration-300 ease-in-out hover:-translate-y-2",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,ease:"easeOut"},children:[_.jsxs("div",{className:"flex flex-col text-left",children:[_.jsx("h2",{className:"mt-5 text-5xl font-bold",children:"Kompletong Aralin"}),_.jsx("p",{className:"mt-5 text-xl text-gray-500",children:"Lessons aligned with K-12 Filipino curriculum"})]}),_.jsx("img",{src:Pu,alt:"Sample Icon",className:"size-50"})]})}),_.jsx("div",{className:"flex w-full py-40 bg-white",children:_.jsxs(Ke.div,{className:"flex w-full justify-between items-center transition duration-300 ease-in-out hover:-translate-y-2",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,ease:"easeOut"},children:[_.jsx("img",{src:Pu,alt:"Sample Icon",className:"size-50"}),_.jsxs("div",{className:"flex flex-col text-left",children:[_.jsx("h2",{className:"mt-5 text-5xl font-bold",children:"Achievement Badges"}),_.jsx("p",{className:"mt-5 text-xl text-gray-500",children:"Motivate kids through milestones"})]})]})}),_.jsx("div",{className:"flex w-full py-40 bg-white",children:_.jsxs(Ke.div,{className:"flex w-full justify-between items-center transition duration-300 ease-in-out hover:-translate-y-2",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,ease:"easeOut"},children:[_.jsxs("div",{className:"flex flex-col text-left",children:[_.jsx("h2",{className:"mt-5 text-5xl font-bold",children:"Anywhere, Anytime Access"}),_.jsx("p",{className:"mt-5 text-xl text-gray-500",children:"Learn via web or mobile"})]}),_.jsx("img",{src:Pu,alt:"Sample Icon",className:"size-50"})]})})]})}),_.jsx("div",{id:"contact",className:"w-full h-[400px] bg-[#2C3E50] text-white",children:_.jsxs("div",{className:"max-w-[1440px] mx-auto flex flex-col justify-center items-center h-full",children:[_.jsx("h1",{className:"text-4xl font-bold",children:"Ready to Transform Filipino Learning?"}),_.jsx("h2",{className:"mt-5 text-white/50 text-xl font-medium",children:"Join the Salimbigkas Community"}),_.jsx("button",{type:"button",className:"mt-10 px-10 py-5 font-bold text-black bg-white hover:bg-gray-200",onClick:o,children:"Get Started Free"})]})}),_.jsx("div",{className:"w-full bg-white shadow-sm rounded-tl-4xl rounded-tr-4xl border border-gray-200",children:_.jsx("div",{className:"max-w-[1440px] mx-auto flex flex-col px-25 py-10 justify-center items-center",children:_.jsx(F$,{})})}),t&&_.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 backdrop-blur-sm flex items-center justify-center",children:n?_.jsx(U$,{isOpen:t,onClose:c,onSwitch:o}):_.jsx(B$,{isOpen:t,onClose:c,onSwitch:r})})]})};function Ek(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=Ek(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function ro(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=Ek(t))&&(i&&(i+=" "),i+=e);return i}function z$(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}z$(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var $h=t=>typeof t=="number"&&!isNaN(t),go=t=>typeof t=="string",lr=t=>typeof t=="function",H$=t=>go(t)||$h(t),Ev=t=>go(t)||lr(t)?t:null,q$=(t,e)=>t===!1||$h(t)&&t>0?t:e,bv=t=>O.isValidElement(t)||go(t)||lr(t)||$h(t);function G$(t,e,n=300){let{scrollHeight:i,style:r}=t;requestAnimationFrame(()=>{r.minHeight="initial",r.height=i+"px",r.transition=`all ${n}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(e,n)})})}function $$({enter:t,exit:e,appendPosition:n=!1,collapse:i=!0,collapseDuration:r=300}){return function({children:o,position:c,preventExitTransition:h,done:f,nodeRef:m,isIn:g,playToast:v}){let E=n?`${t}--${c}`:t,x=n?`${e}--${c}`:e,A=O.useRef(0);return O.useLayoutEffect(()=>{let D=m.current,N=E.split(" "),P=U=>{U.target===m.current&&(v(),D.removeEventListener("animationend",P),D.removeEventListener("animationcancel",P),A.current===0&&U.type!=="animationcancel"&&D.classList.remove(...N))};D.classList.add(...N),D.addEventListener("animationend",P),D.addEventListener("animationcancel",P)},[]),O.useEffect(()=>{let D=m.current,N=()=>{D.removeEventListener("animationend",N),i?G$(D,f,r):f()};g||(h?N():(A.current=1,D.className+=` ${x}`,D.addEventListener("animationend",N)))},[g]),ut.createElement(ut.Fragment,null,o)}}function iC(t,e){return{content:bk(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function bk(t,e,n=!1){return O.isValidElement(t)&&!go(t.type)?O.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):lr(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function K$({closeToast:t,theme:e,ariaLabel:n="close"}){return ut.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),t(!0)},"aria-label":n},ut.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ut.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function W$({delay:t,isRunning:e,closeToast:n,type:i="default",hide:r,className:o,controlledProgress:c,progress:h,rtl:f,isIn:m,theme:g}){let v=r||c&&h===0,E={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};c&&(E.transform=`scaleX(${h})`);let x=ro("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${g}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":f}),A=lr(o)?o({rtl:f,type:i,defaultClassName:x}):ro(x,o),D={[c&&h>=1?"onTransitionEnd":"onAnimationEnd"]:c&&h<1?null:()=>{m&&n()}};return ut.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":v},ut.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${g} Toastify__progress-bar--${i}`}),ut.createElement("div",{role:"progressbar","aria-hidden":v?"true":"false","aria-label":"notification timer",className:A,style:E,...D}))}var Y$=1,wk=()=>`${Y$++}`;function Q$(t,e,n){let i=1,r=0,o=[],c=[],h=e,f=new Map,m=new Set,g=U=>(m.add(U),()=>m.delete(U)),v=()=>{c=Array.from(f.values()),m.forEach(U=>U())},E=({containerId:U,toastId:L,updateId:Q})=>{let Y=U?U!==t:t!==1,ne=f.has(L)&&Q==null;return Y||ne},x=(U,L)=>{f.forEach(Q=>{var Y;(L==null||L===Q.props.toastId)&&((Y=Q.toggle)==null||Y.call(Q,U))})},A=U=>{var L,Q;(Q=(L=U.props)==null?void 0:L.onClose)==null||Q.call(L,U.removalReason),U.isActive=!1},D=U=>{if(U==null)f.forEach(A);else{let L=f.get(U);L&&A(L)}v()},N=()=>{r-=o.length,o=[]},P=U=>{var L,Q;let{toastId:Y,updateId:ne}=U.props,k=ne==null;U.staleId&&f.delete(U.staleId),U.isActive=!0,f.set(Y,U),v(),n(iC(U,k?"added":"updated")),k&&((Q=(L=U.props).onOpen)==null||Q.call(L))};return{id:t,props:h,observe:g,toggle:x,removeToast:D,toasts:f,clearQueue:N,buildToast:(U,L)=>{if(E(L))return;let{toastId:Q,updateId:Y,data:ne,staleId:k,delay:C}=L,I=Y==null;I&&r++;let j={...h,style:h.toastStyle,key:i++,...Object.fromEntries(Object.entries(L).filter(([z,V])=>V!=null)),toastId:Q,updateId:Y,data:ne,isIn:!1,className:Ev(L.className||h.toastClassName),progressClassName:Ev(L.progressClassName||h.progressClassName),autoClose:L.isLoading?!1:q$(L.autoClose,h.autoClose),closeToast(z){f.get(Q).removalReason=z,D(Q)},deleteToast(){let z=f.get(Q);if(z!=null){if(n(iC(z,"removed")),f.delete(Q),r--,r<0&&(r=0),o.length>0){P(o.shift());return}v()}}};j.closeButton=h.closeButton,L.closeButton===!1||bv(L.closeButton)?j.closeButton=L.closeButton:L.closeButton===!0&&(j.closeButton=bv(h.closeButton)?h.closeButton:!0);let F={content:U,props:j,staleId:k};h.limit&&h.limit>0&&r>h.limit&&I?o.push(F):$h(C)?setTimeout(()=>{P(F)},C):P(F)},setProps(U){h=U},setToggle:(U,L)=>{let Q=f.get(U);Q&&(Q.toggle=L)},isToastActive:U=>{var L;return(L=f.get(U))==null?void 0:L.isActive},getSnapshot:()=>c}}var Pn=new Map,Ah=[],wv=new Set,X$=t=>wv.forEach(e=>e(t)),xk=()=>Pn.size>0;function Z$(){Ah.forEach(t=>Ak(t.content,t.options)),Ah=[]}var J$=(t,{containerId:e})=>{var n;return(n=Pn.get(e||1))==null?void 0:n.toasts.get(t)};function Sk(t,e){var n;if(e)return!!((n=Pn.get(e))!=null&&n.isToastActive(t));let i=!1;return Pn.forEach(r=>{r.isToastActive(t)&&(i=!0)}),i}function eK(t){if(!xk()){Ah=Ah.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||H$(t))Pn.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Pn.get(t.containerId);e?e.removeToast(t.id):Pn.forEach(n=>{n.removeToast(t.id)})}}var tK=(t={})=>{Pn.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function Ak(t,e){bv(t)&&(xk()||Ah.push({content:t,options:e}),Pn.forEach(n=>{n.buildToast(t,e)}))}function nK(t){var e;(e=Pn.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function Ck(t,e){Pn.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function iK(t){let e=t.containerId||1;return{subscribe(n){let i=Q$(e,t,X$);Pn.set(e,i);let r=i.observe(n);return Z$(),()=>{r(),Pn.delete(e)}},setProps(n){var i;(i=Pn.get(e))==null||i.setProps(n)},getSnapshot(){var n;return(n=Pn.get(e))==null?void 0:n.getSnapshot()}}}function sK(t){return wv.add(t),()=>{wv.delete(t)}}function rK(t){return t&&(go(t.toastId)||$h(t.toastId))?t.toastId:wk()}function Kh(t,e){return Ak(t,e),e.toastId}function vp(t,e){return{...e,type:e&&e.type||t,toastId:rK(e)}}function Tp(t){return(e,n)=>Kh(e,vp(t,n))}function ot(t,e){return Kh(t,vp("default",e))}ot.loading=(t,e)=>Kh(t,vp("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function aK(t,{pending:e,error:n,success:i},r){let o;e&&(o=go(e)?ot.loading(e,r):ot.loading(e.render,{...r,...e}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(m,g,v)=>{if(g==null){ot.dismiss(o);return}let E={type:m,...c,...r,data:v},x=go(g)?{render:g}:g;return o?ot.update(o,{...E,...x}):ot(x.render,{...E,...x}),v},f=lr(t)?t():t;return f.then(m=>h("success",i,m)).catch(m=>h("error",n,m)),f}ot.promise=aK;ot.success=Tp("success");ot.info=Tp("info");ot.error=Tp("error");ot.warning=Tp("warning");ot.warn=ot.warning;ot.dark=(t,e)=>Kh(t,vp("default",{theme:"dark",...e}));function oK(t){eK(t)}ot.dismiss=oK;ot.clearWaitingQueue=tK;ot.isActive=Sk;ot.update=(t,e={})=>{let n=J$(t,e);if(n){let{props:i,content:r}=n,o={delay:100,...i,...e,toastId:e.toastId||t,updateId:wk()};o.toastId!==t&&(o.staleId=t);let c=o.render||r;delete o.render,Kh(c,o)}};ot.done=t=>{ot.update(t,{progress:1})};ot.onChange=sK;ot.play=t=>Ck(!0,t);ot.pause=t=>Ck(!1,t);function lK(t){var e;let{subscribe:n,getSnapshot:i,setProps:r}=O.useRef(iK(t)).current;r(t);let o=(e=O.useSyncExternalStore(n,i,i))==null?void 0:e.slice();function c(h){if(!o)return[];let f=new Map;return t.newestOnTop&&o.reverse(),o.forEach(m=>{let{position:g}=m.props;f.has(g)||f.set(g,[]),f.get(g).push(m)}),Array.from(f,m=>h(m[0],m[1]))}return{getToastToRender:c,isToastActive:Sk,count:o==null?void 0:o.length}}function cK(t){let[e,n]=O.useState(!1),[i,r]=O.useState(!1),o=O.useRef(null),c=O.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:f,closeToast:m,onClick:g,closeOnClick:v}=t;nK({id:t.toastId,containerId:t.containerId,fn:n}),O.useEffect(()=>{if(t.pauseOnFocusLoss)return E(),()=>{x()}},[t.pauseOnFocusLoss]);function E(){document.hasFocus()||P(),window.addEventListener("focus",N),window.addEventListener("blur",P)}function x(){window.removeEventListener("focus",N),window.removeEventListener("blur",P)}function A(k){if(t.draggable===!0||t.draggable===k.pointerType){U();let C=o.current;c.canCloseOnClick=!0,c.canDrag=!0,C.style.transition="none",t.draggableDirection==="x"?(c.start=k.clientX,c.removalDistance=C.offsetWidth*(t.draggablePercent/100)):(c.start=k.clientY,c.removalDistance=C.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function D(k){let{top:C,bottom:I,left:j,right:F}=o.current.getBoundingClientRect();k.nativeEvent.type!=="touchend"&&t.pauseOnHover&&k.clientX>=j&&k.clientX<=F&&k.clientY>=C&&k.clientY<=I?P():N()}function N(){n(!0)}function P(){n(!1)}function U(){c.didMove=!1,document.addEventListener("pointermove",Q),document.addEventListener("pointerup",Y)}function L(){document.removeEventListener("pointermove",Q),document.removeEventListener("pointerup",Y)}function Q(k){let C=o.current;if(c.canDrag&&C){c.didMove=!0,e&&P(),t.draggableDirection==="x"?c.delta=k.clientX-c.start:c.delta=k.clientY-c.start,c.start!==k.clientX&&(c.canCloseOnClick=!1);let I=t.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;C.style.transform=`translate3d(${I},0)`,C.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function Y(){L();let k=o.current;if(c.canDrag&&c.didMove&&k){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){r(!0),t.closeToast(!0),t.collapseAll();return}k.style.transition="transform 0.2s, opacity 0.2s",k.style.removeProperty("transform"),k.style.removeProperty("opacity")}}let ne={onPointerDown:A,onPointerUp:D};return h&&f&&(ne.onMouseEnter=P,t.stacked||(ne.onMouseLeave=N)),v&&(ne.onClick=k=>{g&&g(k),c.canCloseOnClick&&m(!0)}),{playToast:N,pauseToast:P,isRunning:e,preventExitTransition:i,toastRef:o,eventHandlers:ne}}var uK=typeof window<"u"?O.useLayoutEffect:O.useEffect,Ep=({theme:t,type:e,isLoading:n,...i})=>ut.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function hK(t){return ut.createElement(Ep,{...t},ut.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function fK(t){return ut.createElement(Ep,{...t},ut.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function dK(t){return ut.createElement(Ep,{...t},ut.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function mK(t){return ut.createElement(Ep,{...t},ut.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function pK(){return ut.createElement("div",{className:"Toastify__spinner"})}var xv={info:fK,warning:hK,success:dK,error:mK,spinner:pK},gK=t=>t in xv;function yK({theme:t,type:e,isLoading:n,icon:i}){let r=null,o={theme:t,type:e};return i===!1||(lr(i)?r=i({...o,isLoading:n}):O.isValidElement(i)?r=O.cloneElement(i,o):n?r=xv.spinner():gK(e)&&(r=xv[e](o))),r}var _K=t=>{let{isRunning:e,preventExitTransition:n,toastRef:i,eventHandlers:r,playToast:o}=cK(t),{closeButton:c,children:h,autoClose:f,onClick:m,type:g,hideProgressBar:v,closeToast:E,transition:x,position:A,className:D,style:N,progressClassName:P,updateId:U,role:L,progress:Q,rtl:Y,toastId:ne,deleteToast:k,isIn:C,isLoading:I,closeOnClick:j,theme:F,ariaLabel:z}=t,V=ro("Toastify__toast",`Toastify__toast-theme--${F}`,`Toastify__toast--${g}`,{"Toastify__toast--rtl":Y},{"Toastify__toast--close-on-click":j}),pt=lr(D)?D({rtl:Y,position:A,type:g,defaultClassName:V}):ro(V,D),Ie=yK(t),J=!!Q||!f,ae={closeToast:E,type:g,theme:F},fe=null;return c===!1||(lr(c)?fe=c(ae):O.isValidElement(c)?fe=O.cloneElement(c,ae):fe=K$(ae)),ut.createElement(x,{isIn:C,done:k,position:A,preventExitTransition:n,nodeRef:i,playToast:o},ut.createElement("div",{id:ne,tabIndex:0,onClick:m,"data-in":C,className:pt,...r,style:N,ref:i,...C&&{role:L,"aria-label":z}},Ie!=null&&ut.createElement("div",{className:ro("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!I})},Ie),bk(h,t,!e),fe,!t.customProgressBar&&ut.createElement(W$,{...U&&!J?{key:`p-${U}`}:{},rtl:Y,theme:F,delay:f,isRunning:e,isIn:C,closeToast:E,hide:v,type:g,className:P,controlledProgress:J,progress:Q||0})))},vK=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),TK=$$(vK("bounce",!0)),EK={position:"top-right",transition:TK,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function Rk(t){let e={...EK,...t},n=t.stacked,[i,r]=O.useState(!0),o=O.useRef(null),{getToastToRender:c,isToastActive:h,count:f}=lK(e),{className:m,style:g,rtl:v,containerId:E,hotKeys:x}=e;function A(N){let P=ro("Toastify__toast-container",`Toastify__toast-container--${N}`,{"Toastify__toast-container--rtl":v});return lr(m)?m({position:N,rtl:v,defaultClassName:P}):ro(P,Ev(m))}function D(){n&&(r(!0),ot.play())}return uK(()=>{var N;if(n){let P=o.current.querySelectorAll('[data-in="true"]'),U=12,L=(N=e.position)==null?void 0:N.includes("top"),Q=0,Y=0;Array.from(P).reverse().forEach((ne,k)=>{let C=ne;C.classList.add("Toastify__toast--stacked"),k>0&&(C.dataset.collapsed=`${i}`),C.dataset.pos||(C.dataset.pos=L?"top":"bot");let I=Q*(i?.2:1)+(i?0:U*k);C.style.setProperty("--y",`${L?I:I*-1}px`),C.style.setProperty("--g",`${U}`),C.style.setProperty("--s",`${1-(i?Y:0)}`),Q+=C.offsetHeight,Y+=.025})}},[i,f,n]),O.useEffect(()=>{function N(P){var U;let L=o.current;x(P)&&((U=L.querySelector('[tabIndex="0"]'))==null||U.focus(),r(!1),ot.pause()),P.key==="Escape"&&(document.activeElement===L||L!=null&&L.contains(document.activeElement))&&(r(!0),ot.play())}return document.addEventListener("keydown",N),()=>{document.removeEventListener("keydown",N)}},[x]),ut.createElement("section",{ref:o,className:"Toastify",id:E,onMouseEnter:()=>{n&&(r(!1),ot.pause())},onMouseLeave:D,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},c((N,P)=>{let U=P.length?{...g}:{...g,pointerEvents:"none"};return ut.createElement("div",{tabIndex:-1,className:A(N),"data-stacked":n,style:U,key:`c-${N}`},P.map(({content:L,props:Q})=>ut.createElement(_K,{...Q,stacked:n,collapseAll:D,isIn:h(Q.toastId,Q.containerId),key:`t-${Q.key}`},L)))}))}const Ik=({isOpen:t,onClose:e})=>{const n=cr(),i=()=>{setTimeout(()=>{MN().then(()=>{n("/home")}).catch(r=>{console.error("Error signing out:",r)})},100)};return t?_.jsx(_.Fragment,{children:_.jsxs(Ke.div,{className:"flex-1 max-w-md bg-white py-10 px-15 rounded-lg shadow-lg",initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8,y:50},transition:{duration:.3,scale:{type:"spring",visualDuration:.4,bounce:.4}},children:[_.jsx("div",{className:"rounded-full bg-red-500 size-15 items-center justify-center mx-auto mb-4",children:_.jsx(Ke.div,{className:"text-5xl font-bold text-white size-15 flex items-center justify-center mx-auto mb-4",initial:{scaleX:1},animate:{scaleX:[1,-1,1]},transition:{duration:1,ease:"easeInOut"},children:"?"})}),_.jsx("h2",{className:"text-lg font-semibold text-center mb-4",children:"Are you sure you want to log out?"}),_.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[_.jsx("button",{type:"button",className:"w-full bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600",onClick:i,children:"Yes"}),_.jsx("button",{type:"button",className:"w-full bg-gray-300 text-gray-700 px-4 py-2 rounded hover:bg-gray-400",onClick:e,children:"No"})]})]})}):null},bK=({Tab:t})=>{const e={totalUsers:1245,activeTeachers:32,activeStudents:1213,totalCourses:48},n=[{id:1,type:"user",action:"New user registered",name:"Zyron Enrique",role:"Student",time:"10 minutes ago"},{id:2,type:"course",action:"New course created",name:"Tamang Bigkas at Diin",teacher:"Prof. Emily Chen",time:"2 hours ago"},{id:3,type:"system",action:"System update completed",details:"Version 2.4.1",time:"Yesterday"},{id:4,type:"user",action:"User role changed",name:"Cheryl Lou Tinaan",role:"Teacher",time:"Yesterday"}],i=[{id:1,name:"Database",status:"Operational",uptime:"99.9%",color:"green"},{id:2,name:"API Services",status:"Operational",uptime:"99.7%",color:"green"},{id:3,name:"Storage",status:"Operational",uptime:"99.8%",color:"green"},{id:4,name:"Authentication",status:"Operational",uptime:"99.9%",color:"green"}];return _.jsx(_.Fragment,{children:t()==="dashboard"&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Admin Dashboard"}),_.jsxs("button",{type:"button",className:"flex items-center gap-2 px-3 py-2 text-sm shadow-sm rounded-sm border border-gray-200 hover:bg-gray-100 focus:text-white focus:bg-[#2C3E50] focus:drop-shadow-lg",children:[_.jsx(vv,{className:"mr-2 h-4 w-4"}),"April 2025"]})]}),_.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[_.jsxs("div",{className:"flex flex-col text-left items-start justify-between p-6 rounded-lg bg-white shadow-sm border border-gray-200",children:[_.jsx("div",{className:"pb-2",children:_.jsx("div",{className:"text-sm font-medium",children:"Total Users"})}),_.jsxs("div",{children:[_.jsx("div",{className:"text-2xl font-bold",children:e.totalUsers}),_.jsx("p",{className:"text-xs text-gray-500 text-muted-foreground",children:"+24 from last month"})]})]}),_.jsxs("div",{className:"flex flex-col text-left items-start justify-between p-6 rounded-lg bg-white shadow-sm border border-gray-200",children:[_.jsx("div",{className:"pb-2",children:_.jsx("div",{className:"text-sm font-medium",children:"Active Teachers"})}),_.jsxs("div",{children:[_.jsx("div",{className:"text-2xl font-bold",children:e.activeTeachers}),_.jsx("p",{className:"text-xs text-gray-500 text-muted-foreground",children:"+3 from last month"})]})]}),_.jsxs("div",{className:"flex flex-col text-left items-start justify-between p-6 rounded-lg bg-white shadow-sm border border-gray-200",children:[_.jsx("div",{className:"pb-2",children:_.jsx("div",{className:"text-sm font-medium",children:"Active Students"})}),_.jsxs("div",{children:[_.jsx("div",{className:"text-2xl font-bold",children:e.activeStudents}),_.jsx("p",{className:"text-xs text-gray-500 text-muted-foreground",children:"+21 from last month"})]})]}),_.jsxs("div",{className:"flex flex-col text-left items-start justify-between p-6 rounded-lg bg-white shadow-sm border border-gray-200",children:[_.jsx("div",{className:"pb-2",children:_.jsx("div",{className:"text-sm font-medium",children:"Total Courses"})}),_.jsxs("div",{children:[_.jsx("div",{className:"text-2xl font-bold",children:e.totalCourses}),_.jsx("p",{className:"text-xs text-gray-500 text-muted-foreground",children:"+5 from last month"})]})]})]}),_.jsxs("div",{className:"flex flex-col text-left items-start justify-between p-6 rounded-lg bg-white shadow-sm border border-gray-200",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"font-medium",children:"Recent Activities"}),_.jsx("h2",{className:"text-gray-400",children:"Latest actions across the platform"})]}),_.jsx("div",{className:"w-full space-y-4 mt-5",children:n.map(r=>_.jsxs("div",{className:"flex items-start gap-4 p-3 rounded-lg transition-colors duration-200 hover:bg-gray-50 justify-between",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsxs("div",{className:"rounded-full p-2 bg-[#2C3E50] flex items-center justify-center",children:[r.type==="user"&&_.jsx(P$,{size:18,color:"white"}),r.type==="course"&&_.jsx(Dl,{size:18,color:"white"}),r.type==="system"&&_.jsx(BT,{size:18,color:"white"})]}),_.jsxs("div",{className:"flex-1",children:[_.jsx("h4",{className:"text-sm font-medium",children:r.action}),_.jsxs("div",{className:"text-xs text-gray-500 text-muted-foreground mt-1",children:[r.name&&_.jsx("p",{children:r.name}),r.role&&_.jsxs("p",{children:["Role: ",r.role]}),r.teacher&&_.jsxs("p",{children:["Teacher: ",r.teacher]}),r.details&&_.jsx("p",{children:r.details})]})]})]}),_.jsx("div",{className:"text-xs text-muted-foreground",children:r.time})]},r.id))})]}),_.jsxs("div",{className:"flex flex-col text-left items-start justify-between p-6 rounded-lg bg-white shadow-sm border border-gray-200",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"font-medium",children:"System Status"}),_.jsx("h2",{className:"text-gray-400",children:"Current status of platform services"})]}),_.jsx("div",{className:"w-full space-y-4 mt-5",children:i.map(r=>_.jsxs("div",{className:"flex items-center justify-between px-6 py-3 rounded-lg border border-gray-200 transition-colors duration-200 hover:bg-gray-50",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:`h-3 w-3 rounded-full ${r.color==="green"?"bg-green-500":r.color==="red"?"bg-red-500":r.color==="yellow"?"bg-yellow-500":"bg-gray-500"}`}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-medium",children:r.name}),_.jsxs("p",{className:"text-sm text-muted-foreground text-gray-500",children:["Uptime: ",r.uptime]})]})]}),_.jsx("div",{className:"rounded-sm px-2 py-1 text-xs font-medium text-green-500 border border-green-200 bg-green-50",children:r.status})]},r.id))})]})]})})},wK=({Tab:t})=>_.jsx(_.Fragment,{children:t()==="users"&&_.jsxs("div",{className:"space-y-6",children:[_.jsx("div",{className:"flex items-center justify-between",children:_.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"User Management"})}),_.jsxs("div",{className:"grid gap-6 md:grid-cols-1 flex-col text-left items-start justify-between p-6 rounded-lg bg-white shadow-sm border border-gray-200",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx("h2",{className:"font-medium",children:"All Users"}),_.jsx("h2",{className:"text-sm text-gray-500",children:"Manage users and their roles"}),_.jsx("div",{className:"grid gap-6 md:grid-cols-1 flex-col text-left items-center justify-between",children:_.jsx("div",{className:"space-y-4 mt-5"})})]}),_.jsx("div",{children:_.jsx("div",{className:"space-y-4",children:_.jsx("p",{children:"User management interface would go here."})})})]})]})}),xK=({Tab:t})=>_.jsx(_.Fragment,{children:t()==="pronunciation"&&_.jsxs("div",{className:"space-y-6",children:[_.jsx("div",{className:"flex items-center justify-between",children:_.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Pronunciation Exercises"})}),_.jsx("div",{className:"grid gap-6 md:grid-cols-1 flex-col text-left items-start justify-between p-6 rounded-lg bg-white shadow-sm border border-gray-200",children:_.jsxs("div",{children:[_.jsxs("div",{children:[_.jsx("h2",{className:"font-medium",children:"Pronunciation Management"}),_.jsx("h2",{className:"text-gray-500",children:"Manage pronunciation exercises across the platform"})]}),_.jsx("div",{className:"space-y-4 mt-5",children:_.jsx("p",{children:"Pronunciation management interface would go here."})})]})})]})}),SK=({Tab:t})=>{const e=[{id:1,name:"Database",status:"Operational",uptime:"99.9%",color:"green"},{id:2,name:"API Services",status:"Operational",uptime:"99.7%",color:"green"},{id:3,name:"Storage",status:"Operational",uptime:"99.8%",color:"green"},{id:4,name:"Authentication",status:"Operational",uptime:"99.9%",color:"green"}];return _.jsx(_.Fragment,{children:t()==="system"&&_.jsxs("div",{className:"space-y-6 ",children:[_.jsx("div",{className:"flex items-center justify-between",children:_.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"System Management"})}),_.jsxs("div",{className:"flex flex-col text-left items-start justify-between p-6 rounded-lg bg-white shadow-sm border border-gray-200",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"font-medium",children:"System Status"}),_.jsx("h2",{className:"text-gray-400",children:"Current status of platform services"})]}),_.jsx("div",{className:"w-full space-y-4 mt-5",children:e.map(n=>_.jsxs("div",{className:"flex items-center justify-between px-6 py-3 rounded-lg border border-gray-200 transition-colors duration-200 hover:bg-gray-50",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:`h-3 w-3 rounded-full ${n.color==="green"?"bg-green-500":n.color==="red"?"bg-red-500":n.color==="yellow"?"bg-yellow-500":"bg-gray-500"}`}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-medium",children:n.name}),_.jsxs("p",{className:"text-sm text-muted-foreground text-gray-500",children:["Uptime: ",n.uptime]})]})]}),_.jsx("div",{className:"rounded-sm px-2 py-1 text-xs font-medium text-green-500 border border-green-200 bg-green-50",children:n.status})]},n.id))})]}),_.jsxs("div",{className:"flex flex-col text-left items-start justify-between p-6 rounded-lg bg-white shadow-sm border border-gray-200",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"font-medium",children:"System Configuration"}),_.jsx("h2",{className:"text-gray-400",children:"Manage platform settings"})]}),_.jsx("div",{className:"space-y-4 mt-5",children:_.jsx("p",{children:"System configuration interface would go here."})})]})]})})},AK="/salimbigkas/assets/man-wVJ0IuAR.svg",Nk="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgaWQ9IkxheWVyXzEiIGRhdGEtbmFtZT0iTGF5ZXIgMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMjg4LjUxIDYyLjA1Ij4NCiAgPGRlZnM+DQogICAgPHN0eWxlPg0KICAgICAgLmNscy0xLCAuY2xzLTIgew0KICAgICAgICBmaWxsOiAjMmMzZTUwOw0KICAgICAgfQ0KDQogICAgICAuY2xzLTMgew0KICAgICAgICBmb250LWZhbWlseTogTHVja2llc3RHdXktUmVndWxhciwgJ0x1Y2tpZXN0IEd1eSc7DQogICAgICAgIGZvbnQtc2l6ZTogNDhweDsNCiAgICAgIH0NCg0KICAgICAgLmNscy00LCAuY2xzLTUgew0KICAgICAgICBmaWxsOiAjZjM5YzEyOw0KICAgICAgfQ0KDQogICAgICAuY2xzLTUgew0KICAgICAgICBsZXR0ZXItc3BhY2luZzogMGVtOw0KICAgICAgfQ0KDQogICAgICAuY2xzLTIgew0KICAgICAgICBsZXR0ZXItc3BhY2luZzogMGVtOw0KICAgICAgfQ0KICAgIDwvc3R5bGU+DQogIDwvZGVmcz4NCiAgPHRleHQgY2xhc3M9ImNscy0zIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSguODkgNDUuMjcpIj48dHNwYW4gY2xhc3M9ImNscy0yIiB4PSIwIiB5PSIwIj5TPC90c3Bhbj48dHNwYW4gY2xhc3M9ImNscy0xIiB4PSIyNS4xMiIgeT0iMCI+QUxJTTwvdHNwYW4+PHRzcGFuIGNsYXNzPSJjbHMtNCIgeD0iMTI5LjA5IiB5PSIwIj5CPC90c3Bhbj48dHNwYW4gY2xhc3M9ImNscy01IiB4PSIxNTcuNjIiIHk9IjAiPkk8L3RzcGFuPjx0c3BhbiBjbGFzcz0iY2xzLTQiIHg9IjE3MS42NiIgeT0iMCI+R0tBUzwvdHNwYW4+PC90ZXh0Pg0KPC9zdmc+",CK=()=>{const[t,e]=O.useState(!1),[n,i]=O.useState(!1),r=cr(),{currentUser:o,role:c}=So(),[h,f]=O.useState("dashboard"),m=[{tab:"dashboard",label:"Dashboard",icon:_.jsx(Bm,{size:22})},{tab:"users",label:"Users",icon:_.jsx(Tv,{size:22})},{tab:"courses",label:"Courses",icon:_.jsx(Dl,{size:22})},{tab:"pronunciation",label:"Pronunciation",icon:_.jsx(_k,{size:22})},{tab:"calendar",label:"Analytics",icon:_.jsx(r$,{size:22})},{tab:"system",label:"System",icon:_.jsx(m$,{size:22})}],g=N=>{N!==h&&(e(!0),setTimeout(()=>{f(N),e(!1)},100))},v=({label:N,icon:P,onClick:U,isActive:L=!1})=>_.jsx(Ke.button,{className:`w-full py-1.5 px-3 rounded-sm focus:text-white focus:bg-[#2C3E50] focus:shadow-sm focus:drop-shadow-lg ${L?"bg-[#2C3E50] text-white":"hover:bg-gray-100"}`,onClick:U,whileHover:{scale:1.05},whileFocus:{scale:1.05},whileTap:{scale:.95},layout:!0,children:_.jsxs("div",{className:"relative flex items-center gap-3 px-15",children:[_.jsx("div",{className:"absolute top-0 left-0",children:P}),_.jsx("span",{children:N})]})}),E=N=>{e(!0),setTimeout(()=>{r(`/${N}`)},800)},x=({onClick:N,label:P})=>_.jsx("button",{type:"button",className:"px-3 py-2 text-sm shadow-sm rounded-sm border border-gray-200 hover:bg-gray-100 focus:text-white focus:bg-[#2C3E50] focus:drop-shadow-lg",onClick:N,children:P}),A=()=>{i(!0)},D=()=>{i(!1)};return O.useEffect(()=>{t||(o?c!=="admin"&&r(`/${c}`):r("/home"))},[o,c,r,t]),_.jsxs("div",{className:"min-h-screen bg-white flex rounded-lg",children:[_.jsx(Rk,{position:"top-right",autoClose:3e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),_.jsxs(Ke.div,{className:"w-20 hover:w-64 border-r border-gray-200 flex flex-col justify-between overflow-hidden transition-width duration-300 ease-in-out sticky top-0 h-screen",initial:{x:-100},animate:{x:0},transition:{type:"spring",stiffness:200,damping:20},children:[_.jsxs("div",{className:"flex flex-col",children:[_.jsxs("div",{className:"relative w-64 px-22 py-4 flex items-center gap-2 border-b-1 border-gray-200",children:[_.jsx(tC,{size:34,className:"absolute top-auto left-6"}),_.jsx("h2",{className:"whitespace-nowrap font-extrabold",children:"ADMIN"})]}),_.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[m.map(N=>_.jsx(v,{label:N.label,icon:N.icon,isActive:h===N.tab,onClick:()=>g(N.tab)},N.tab)),_.jsx("div",{className:"border-b-1 mb-2.5 mr-2 w-full border-gray-200"}),_.jsx(v,{label:"Settings",icon:_.jsx(BT,{size:22}),isActive:h==="settings",onClick:()=>g("settings")}),_.jsx(v,{label:"Home",icon:_.jsx(Bm,{size:22}),onClick:()=>r("/")}),_.jsx(v,{label:"Logout",icon:_.jsx(yk,{size:22}),onClick:A})]})]}),_.jsx("div",{className:"p-5 border-t border-gray-200",children:_.jsxs("div",{className:"relative flex items-center gap-3 px-15",children:[_.jsx("img",{src:(o==null?void 0:o.photoURL)||"https://via.placeholder.com/150",alt:"Admin Avatar",className:"absolute top-auto left-0 h-10 w-10 rounded-full border border-gray-200 object-fill"}),_.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[_.jsx("p",{className:"text-sm font-medium truncate",children:o==null?void 0:o.displayName}),_.jsx("p",{className:"text-xs truncate",children:o==null?void 0:o.email})]})]})})]}),_.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[_.jsxs("header",{className:"h-16 border-b border-gray-200 flex items-center justify-between px-6",children:[_.jsx("div",{className:"md:hidden",children:_.jsx(tC,{className:"h-6 w-6 text-primary"})}),_.jsxs("div",{className:"flex items-center gap-4 justify-between w-full",children:[_.jsxs("div",{className:"flex gap-6 justify-center items-center",children:[_.jsx("img",{src:Nk,alt:"Salimbigkas Logo",className:"w-50"}),_.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[_.jsx(x,{onClick:()=>E("teacher"),label:"Teacher View"}),_.jsx(x,{onClick:()=>E("student"),label:"Student View"})]})]}),_.jsxs("div",{className:"flex gap-4 items-center justify-between",children:[_.jsx("button",{type:"button",className:"relative",children:_.jsx(dk,{className:"h-5 w-5"})}),_.jsx("img",{src:AK,alt:"Admin Avatar",className:"h-10 w-10 rounded-full border border-gray-200 shadow-sm hover:cursor-pointer"})]})]})]}),_.jsx("main",{className:"flex-1 overflow-auto p-4 md:p-6 pb-20 md:pb-6",children:_.jsxs("div",{className:"max-w-8xl mx-auto space-y-6",children:[_.jsx(bK,{Tab:()=>h==="dashboard"?"dashboard":""}),_.jsx(wK,{Tab:()=>h==="users"?"users":""}),_.jsx(xK,{Tab:()=>h==="pronunciation"?"pronunciation":""}),_.jsx(SK,{Tab:()=>h==="system"?"system":""})]})})]}),n&&_.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 backdrop-blur-sm flex items-center justify-center",children:_.jsx(Ik,{isOpen:n,onClose:D})})]})},h_="/salimbigkas/assets/woman-GkmMyEPb.svg",RK=()=>{const[t,e]=O.useState("dashboard"),[n,i]=O.useState(!1),[r,o]=O.useState(!1),c=cr(),{currentUser:h,role:f}=So(),m={activeStudents:87,coursesManaged:4,averageScore:78},g=[{id:1,title:"Pagkilala sa Alpabeto",date:"Today",time:"2:00 PM",students:24},{id:2,title:"Pangngalan at Pandiwa",date:"Tomorrow",time:"10:00 AM",students:18},{id:3,title:"Pagkilala sa Alpabeto",date:"Apr 18",time:"1:30 PM",students:15}],v=[{id:1,title:"Unang Pagususlit",course:"Pagkilala sa Alpabeto",submissions:22,pending:2},{id:2,title:"Pandiwa'y iyong itama",course:"Pangngalan at Pandiwa",submissions:15,pending:3},{id:3,title:"Bigkasin ang sampung salita",course:"Tamang Bigkas at Diin",submissions:12,pending:3}],E=D=>{o(!0),setTimeout(()=>{e(D),o(!1)},100)},x=()=>{i(!0)},A=()=>{i(!1)};return O.useEffect(()=>{r||h||c("/home")},[h,c,r,f]),_.jsxs("div",{className:"min-h-screen bg-white flex rounded-lg",children:[_.jsx(Rk,{position:"top-right",autoClose:3e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),_.jsxs(Ke.div,{className:"w-20 hover:w-64 border-r border-gray-200 flex flex-col justify-between overflow-hidden transition-width duration-300 ease-in-out sticky top-0 h-screen",initial:{x:-100},animate:{x:0},transition:{type:"spring",stiffness:200,damping:20},children:[_.jsxs("div",{className:"flex flex-col h-full",children:[_.jsxs("div",{className:"relative w-64 px-22 py-4 flex items-center gap-2 border-b-1 border-gray-200",children:[_.jsx(Dl,{size:34,className:"absolute top-auto left-6"}),_.jsx("h2",{className:"whitespace-nowrap font-extrabold",children:"TEACHER"})]}),_.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[_.jsx(Ke.button,{value:t==="dashboard"?"default":"ghost",className:`w-full py-1.5 px-3 rounded-sm focus:text-white focus:bg-[#2C3E50] focus:shadow-sm focus:drop-shadow-lg ${t==="dashboard"?"bg-[#2C3E50] text-white":"hover:bg-gray-100"}`,onClick:()=>E("dashboard"),whileHover:{scale:1.05},whileTap:{scale:.95},children:_.jsxs("div",{className:"relative flex items-center gap-3 px-15",children:[_.jsx(Bm,{size:22,className:"absolute top-0 left-0"}),_.jsx("span",{children:"Dashboard"})]})}),_.jsx(Ke.button,{value:t==="courses"?"default":"ghost",className:`w-full py-1.5 px-3 rounded-sm focus:text-white focus:bg-[#2C3E50] focus:shadow-sm focus:drop-shadow-lg ${t==="courses"?"bg-[#2C3E50] text-white":"hover:bg-gray-100"}`,onClick:()=>E("courses"),whileHover:{scale:1.05},whileTap:{scale:.95},children:_.jsxs("div",{className:"relative flex items-center gap-3 px-15",children:[_.jsx(Dl,{size:22,className:"absolute top-0 left-0"}),_.jsx("span",{className:"whitespace-nowrap",children:"My Courses"})]})}),_.jsx(Ke.button,{value:t==="students"?"default":"ghost",className:`w-full py-1.5 px-3 rounded-sm focus:text-white focus:bg-[#2C3E50] focus:shadow-sm focus:drop-shadow-lg ${t==="students"?"bg-[#2C3E50] text-white":"hover:bg-gray-100"}`,onClick:()=>E("students"),whileHover:{scale:1.05},whileTap:{scale:.95},children:_.jsxs("div",{className:"relative flex items-center gap-3 px-15",children:[_.jsx(Tv,{size:22,className:"absolute top-0 left-0"}),_.jsx("span",{children:"Students"})]})}),_.jsx(Ke.button,{value:t==="assignments"?"default":"ghost",className:`w-full py-1.5 px-3 rounded-sm focus:text-white focus:bg-[#2C3E50] focus:shadow-sm focus:drop-shadow-lg ${t==="assignments"?"bg-[#2C3E50] text-white":"hover:bg-gray-100"}`,onClick:()=>E("assignments"),whileHover:{scale:1.05},whileTap:{scale:.95},children:_.jsxs("div",{className:"relative flex items-center gap-3 px-15",children:[_.jsx(T$,{size:22,className:"absolute top-0 left-0"}),_.jsx("span",{children:"Assignments"})]})}),_.jsx(Ke.button,{value:t==="pronunciation"?"default":"ghost",className:`w-full py-1.5 px-3 rounded-sm focus:text-white focus:bg-[#2C3E50] focus:shadow-sm focus:drop-shadow-lg ${t==="pronunciation"?"bg-[#2C3E50] text-white":"hover:bg-gray-100"}`,onClick:()=>E("pronunciation"),whileHover:{scale:1.05},whileTap:{scale:.95},children:_.jsxs("div",{className:"relative flex items-center gap-3 px-15",children:[_.jsx(_k,{size:22,className:"absolute top-0 left-0"}),_.jsx("span",{children:"Pronunciation"})]})}),_.jsx(Ke.button,{value:t==="schedules"?"default":"ghost",className:`w-full py-1.5 px-3 rounded-sm focus:text-white focus:bg-[#2C3E50] focus:shadow-sm focus:drop-shadow-lg ${t==="schedules"?"bg-[#2C3E50] text-white":"hover:bg-gray-100"}`,onClick:()=>E("schedules"),whileHover:{scale:1.05},whileTap:{scale:.95},children:_.jsxs("div",{className:"relative flex items-center gap-3 px-15",children:[_.jsx(vv,{size:22,className:"absolute top-0 left-0"}),_.jsx("span",{children:"Schedule"})]})}),_.jsx(Ke.button,{value:t==="messages"?"default":"ghost",className:`w-full py-1.5 px-3 rounded-sm focus:text-white focus:bg-[#2C3E50] focus:shadow-sm focus:drop-shadow-lg ${t==="messages"?"bg-[#2C3E50] text-white":"hover:bg-gray-100"}`,onClick:()=>E("messages"),whileHover:{scale:1.05},whileTap:{scale:.95},children:_.jsxs("div",{className:"relative flex items-center gap-3 px-15",children:[_.jsx(A$,{size:22,className:"absolute top-0 left-0"}),_.jsx("span",{children:"Messages"})]})}),_.jsx("div",{className:"border-b-1 mb-2.5 mr-2 w-full border-gray-200"}),_.jsx(Ke.button,{value:t==="settings"?"default":"ghost",className:`w-full py-1.5 px-3 rounded-sm focus:text-white focus:bg-[#2C3E50] focus:shadow-sm focus:drop-shadow-lg ${t==="settings"?"bg-[#2C3E50] text-white":"hover:bg-gray-100"}`,onClick:()=>E("settings"),whileHover:{scale:1.05},whileTap:{scale:.95},children:_.jsxs("div",{className:"relative flex items-center gap-3 px-15",children:[_.jsx(BT,{size:22,className:"absolute top-0 left-0"}),_.jsx("span",{children:"Settings"})]})}),_.jsx(Ke.button,{value:"ghost",className:"w-full py-1.5 px-3 rounded-sm hover:bg-gray-100 focus:text-white focus:bg-[#2C3E50] focus:shadow-sm focus:drop-shadow-lg",onClick:()=>c("/"),whileHover:{scale:1.05},whileTap:{scale:.95},children:_.jsxs("div",{className:"relative flex items-center gap-3 px-15",children:[_.jsx(Bm,{size:22,className:"absolute top-0 left-0"}),_.jsx("span",{children:"Home"})]})}),_.jsx(Ke.button,{value:"ghost",className:"w-full py-1.5 px-3 rounded-sm hover:bg-gray-100 focus:text-white focus:bg-[#2C3E50] focus:shadow-sm focus:drop-shadow-lg",onClick:x,whileHover:{scale:1.05},whileTap:{scale:.95},children:_.jsxs("div",{className:"relative flex items-center gap-3 px-15",children:[_.jsx(yk,{size:22,className:"absolute top-0 left-0"}),_.jsx("span",{children:"Logout"})]})})]})]}),_.jsx("div",{className:"p-5 border-t border-gray-200",children:_.jsxs("div",{className:"relative flex items-center gap-3 px-15",children:[_.jsx("img",{src:h_,alt:"Teacher Avatar",className:"absolute top-auto left-0 h-10 w-10 rounded-full border border-gray-200 shadow-sm"}),_.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[_.jsx("p",{className:"text-sm font-medium truncate",children:h==null?void 0:h.displayName}),_.jsx("p",{className:"text-xs",children:h==null?void 0:h.email})]})]})})]}),_.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[_.jsxs("header",{className:"h-16 border-b border-gray-200 flex items-center justify-between px-6",children:[_.jsx("div",{className:"md:hidden",children:_.jsx(Dl,{className:"h-6 w-6 text-primary"})}),_.jsx("img",{src:Nk,alt:"Salimbigkas Logo",className:"w-50"}),_.jsxs("div",{className:"flex items-center gap-4 justify-end",children:[_.jsx("button",{value:"ghost",type:"button",className:"relative",children:_.jsx(dk,{className:"h-5 w-5"})}),_.jsx("img",{src:h_,alt:"Teacher Avatar",className:"h-10 w-10 rounded-full border border-gray-200 shadow-sm hover:cursor-pointer"})]})]}),_.jsx("main",{className:"flex-1 overflow-auto p-4 md:p-6 pb-20 md:pb-6",children:_.jsxs("div",{className:"max-w-8xl mx-auto space-y-6",children:[t==="dashboard"&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Teacher Dashboard"}),_.jsxs("button",{type:"button",value:"outline",className:"flex items-center gap-2 px-3 py-2 text-sm shadow-sm rounded-sm border border-gray-200 hover:bg-gray-100 focus:text-white focus:bg-[#2C3E50] focus:drop-shadow-lg",children:[_.jsx(vv,{className:"mr-2 h-4 w-4"}),"April 2025"]})]}),_.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[_.jsxs("div",{className:"flex flex-col text-left items-start justify-between p-6 rounded-lg bg-white shadow-sm border border-gray-200",children:[_.jsx("div",{className:"pb-2",children:_.jsx("div",{className:"text-sm font-medium",children:"Active Students"})}),_.jsxs("div",{children:[_.jsx("div",{className:"text-2xl font-bold",children:m.activeStudents}),_.jsx("p",{className:"text-xs text-gray-500 text-muted-foreground",children:"+5 students from last month"})]})]}),_.jsxs("div",{className:"flex flex-col text-left items-start justify-between p-6 rounded-lg bg-white shadow-sm border border-gray-200",children:[_.jsx("div",{className:"pb-2",children:_.jsx("div",{className:"text-sm font-medium",children:"Courses Managed"})}),_.jsxs("div",{children:[_.jsx("div",{className:"text-2xl font-bold",children:m.coursesManaged}),_.jsx("p",{className:"text-xs text-gray-500 text-muted-foreground",children:"2 active, 2 upcoming"})]})]}),_.jsxs("div",{className:"flex flex-col text-left items-start justify-between p-6 rounded-lg bg-white shadow-sm border border-gray-200",children:[_.jsx("div",{className:"pb-2",children:_.jsx("div",{className:"text-sm font-medium",children:"Average Student Score"})}),_.jsxs("div",{className:"w-full",children:[_.jsxs("div",{className:"text-2xl font-bold",children:[m.averageScore,"%"]}),_.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:_.jsx("div",{className:"bg-[#2C3E50] h-2 rounded-full",style:{width:`${m.averageScore}%`}})})]})]})]}),_.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-7",children:[_.jsxs("div",{className:"lg:col-span-4 flex flex-col text-left items-start p-6 rounded-lg bg-white shadow-sm border border-gray-200",children:[_.jsxs("div",{className:"w-full",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("h2",{className:"font-medium",children:"Upcoming Sessions"}),_.jsxs("button",{type:"button",value:"ghost",className:"gap-1 px-3 py-2 flex items-center text-xs rounded-sm hover:bg-gray-100 focus:text-white focus:bg-[#2C3E50] focus:drop-shadow-lg",children:["View All ",_.jsx(c$,{size:16})]})]}),_.jsx("h2",{className:"text-gray-500 text-sm mt-2",children:"Your scheduled teaching sessions"})]}),_.jsx("div",{className:"space-y-4 w-full mt-5",children:g.map(D=>_.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg border-gray-200",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"rounded-full p-2 bg-[#2C3E50] flex items-center justify-center",children:_.jsx(Dl,{size:18,color:"white"})}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-medium",children:D.title}),_.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[_.jsx("p",{className:"text-xs text-gray-400",children:D.date}),_.jsx("span",{className:"text-xs text-gray-400",children:"•"}),_.jsx("p",{className:"text-xs text-gray-400",children:D.time})]})]})]}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[_.jsx(Tv,{size:14}),_.jsx("span",{className:"text-sm text-muted-foreground",children:D.students})]}),_.jsx("button",{className:"flex items-center gap-1 px-3 py-2 text-xs shadow-sm rounded-xs border border-gray-200 hover:bg-gray-100 focus:text-white focus:bg-[#2C3E50] focus:drop-shadow-lg",children:"Prepare"})]})]},D.id))})]}),_.jsxs("div",{className:"flex flex-col lg:col-span-3 text-left items-start justify-between p-6 rounded-lg bg-white shadow-sm border border-gray-200",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"font-medium",children:"Recent Assignments"}),_.jsx("h2",{className:"text-gray-400",children:"Track student submissions"})]}),_.jsx("div",{className:"w-full space-y-4 mt-5",children:v.map(D=>_.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg space-y-2 justify-between",children:[_.jsxs("div",{className:"flex justify-between items-start",children:[_.jsx("h4",{className:"font-medium",children:D.title}),_.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 text-xs font-medium rounded-sm border border-gray-200",children:[D.pending," pending"]})]}),_.jsx("p",{className:"text-xs text-muted-foreground",children:D.course}),_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("div",{className:"text-sm",children:[_.jsx("span",{className:"font-medium",children:D.submissions})," ",_.jsx("span",{className:"text-gray-500",children:"submissions"})]}),_.jsx("button",{className:"flex items-center gap-1 px-3 py-2 text-xs rounded-xs hover:bg-gray-100 focus:text-white focus:bg-[#2C3E50] focus:drop-shadow-lg",children:"Review"})]})]},D.id))})]})]})]}),t==="pronunciation"&&_.jsxs("div",{className:"space-y-6",children:[_.jsx("div",{className:"flex items-center justify-between",children:_.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Pronunciation Exercises"})}),_.jsx("div",{className:"grid gap-6 md:grid-cols-1 flex-col text-left items-start justify-between p-6 rounded-lg bg-white shadow-sm border border-gray-200",children:_.jsxs("div",{children:[_.jsxs("div",{children:[_.jsx("h2",{className:"font-medium",children:"Pronunciation Management"}),_.jsx("h2",{className:"text-gray-500",children:"Manage pronunciation exercises across the platform"})]}),_.jsx("div",{className:"space-y-4 mt-5",children:_.jsx("p",{children:"Pronunciation management interface would go here."})})]})})]}),t==="students"&&_.jsxs("div",{className:"space-y-6",children:[_.jsx("div",{className:"flex items-center justify-between",children:_.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Student Management"})}),_.jsxs("div",{className:"grid gap-6 md:grid-cols-1 flex-col text-left items-center justify-between p-6 rounded-lg bg-white shadow-sm border border-gray-200",children:[_.jsxs("div",{className:"flex flex-col justify-between",children:[_.jsx("h2",{className:"font-medium",children:"Student List"}),_.jsx("h2",{className:"text-sm text-gray-500",children:"Manage your students and their progress"})]}),_.jsx("div",{className:"grid gap-6 md:grid-cols-1 flex-col text-left items-center justify-between",children:_.jsx("div",{className:"space-y-4",children:[{id:1,name:"Alex Johnson",email:"alex.j@example.com",progress:78,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Alex"},{id:2,name:"Jamie Smith",email:"jamie.s@example.com",progress:92,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Jamie"},{id:3,name:"Taylor Wilson",email:"taylor.w@example.com",progress:65,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Taylor"}].map(D=>_.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200",children:[_.jsxs("div",{className:"relative flex items-center gap-3 px-15",children:[_.jsx("img",{src:h_,alt:"Teacher Avatar",className:"absolute top-auto left-0 h-10 w-10 rounded-full border border-gray-200 shadow-sm"}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-medium",children:D.name}),_.jsx("p",{className:"text-sm text-muted-foreground",children:D.email})]})]}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsxs("div",{className:"text-right",children:[_.jsxs("div",{className:"font-medium",children:[D.progress,"%"]}),_.jsx("div",{className:"text-xs text-gray-500",children:"Progress"})]}),_.jsx("button",{className:"flex items-center gap-1 px-3 py-2 text-xs rounded-xs shadow-xs border border-gray-200 hover:bg-gray-100 focus:text-white focus:bg-[#2C3E50] focus:drop-shadow-lg",children:"View Details"})]})]},D.id))})})]})]})]})})]}),n&&_.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 backdrop-blur-sm flex items-center justify-center",children:_.jsx(Ik,{isOpen:n,onClose:A})})]})},IK=()=>{const t=cr(),{currentUser:e}=So();return _.jsxs("main",{className:"flex flex-wrap mx-auto bg-white",children:[_.jsx("img",{src:e!=null&&e.photoURL?e.photoURL:"https://via.placeholder.com/150",alt:"photo",className:"w-40 h-40 object-cover"}),_.jsx("button",{type:"button",onClick:()=>{MN().then(()=>{t("/")})},className:"text-sm text-blue-600 underline",children:"Logout"}),_.jsxs("div",{className:"text-2xl font-bold pt-14",children:["Hello ",e!=null&&e.displayName?e.displayName:e==null?void 0:e.email,", you are now logged in."]})]})};function NK(){const t=cr();return O.useEffect(()=>{(async()=>{try{const n=await jR(Ct);if(n){const i=n.user;await po(i),console.log("User signed in with redirect:",i),t("/student")}}catch(n){console.error("Error handling redirect result:",n)}})()},[]),_.jsx("div",{className:"App",children:_.jsxs(tM,{children:[_.jsx(vl,{path:"/",element:_.jsx(nC,{})}),_.jsx(vl,{path:"/home",element:_.jsx(nC,{})}),_.jsx(vl,{path:"/admin",element:_.jsx(u_,{requireVerifiedEmail:!0,requiredRole:"admin",children:_.jsx(CK,{})})}),_.jsx(vl,{path:"/teacher",element:_.jsx(u_,{requireVerifiedEmail:!0,requiredRole:"teacher",children:_.jsx(RK,{})})}),_.jsx(vl,{path:"/student",element:_.jsx(u_,{requireVerifiedEmail:!0,requiredRole:"student",children:_.jsx(IK,{})})})]})})}hO.createRoot(document.getElementById("root")).render(_.jsx(O.StrictMode,{children:_.jsx(xM,{basename:"/salimbigkas",children:_.jsx(YG,{children:_.jsx(NK,{})})})}));
